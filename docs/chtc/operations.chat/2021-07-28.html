<!DOCTYPE html>
<html>
<head>
<title>Wed Jul 28, 2021 : #operations (chtc)</title>
</head>
<body>
<h3>Wed Jul 28, 2021 : #operations (chtc)</h3>
<span style="color: #99a949"><span style="font-size: small">(09:21:46)</span> <b>matyas:</b></span> @tjslauson quick question: do SLURM jobs on our cluster have their own /tmp?<br/>
<blockquote>
<span style="color: #4bbe2e"><span style="font-size: small">(10:19:22)</span> <b>tjslauson:</b></span> they have their own local /tmp, it's small (&lt;8G).  We're not using any Slurm feature (TmpFS, TmpDisk) to make it aware of temp space.  We opted to carry forward the same path (/scratch/local/$USER) for local disk that we used on the cluster originally.<br/>
<span style="color: #99a949"><span style="font-size: small">(10:22:34)</span> <b>matyas:</b></span> if two jobs from the same user land on the same machine and they both refer to a hardcoded /tmp/foo, will they get the same contents?<br/>
<span style="color: #99a949"><span style="font-size: small">(10:22:59)</span> <b>matyas:</b></span> that is, will they see each other's files?<br/>
<span style="color: #4bbe2e"><span style="font-size: small">(10:46:17)</span> <b>tjslauson:</b></span> yes, no sandboxing.<br/>
<span style="color: #99a949"><span style="font-size: small">(10:47:29)</span> <b>matyas:</b></span> ok, thanks<br/>
</blockquote>
<span style="color: #684b6c"><span style="font-size: small">(22:35:37)</span> <b>bbockelman:</b></span> Ok, here's a nifty PAM configuration:<br/><pre>River-Sirion:~ bbockelm$ ssh <a href="http://submittest0000.chtc.wisc.edu">submittest0000.chtc.wisc.edu</a> -l brian.bockelman.1<br/>Authenticate at<br/>-----------------<br/><a href="https://cilogon-device-flow-proxy.herokuapp.com/device">https://cilogon-device-flow-proxy.herokuapp.com/device</a><br/>-----------------<br/>With code MAKF-LVZX<br/>-----------------<br/>Or scan the QR code to authenticate with a mobile device<br/>█▀▀▀▀▀▀▀██▀██▀▀▀█▀█▀▀▀▀█▀██▀▀▀▀▀▀▀█<br/>█ █▀▀▀█ █▀▀▀▄▀ ▄ █▄▄▀▄▀▀▀██ █▀▀▀█ █<br/>█ █   █ █ █▀ ██▄ ▄▄▀▀▀█▄▀▄█ █   █ █<br/>█ ▀▀▀▀▀ █ ▄ ▄▀▄▀▄ █▀█ █ █ █ ▀▀▀▀▀ █<br/>█▀█▀▀▀▀▀█▄ ██▄▀▀ ▀▀▀▀█▄  ▀█▀▀▀▀▀███<br/>█▄██ █▀▀▀▀ ▄████▀ █▄▄ █▀▄██ ▄▀▄ █▄█<br/>██ ▀█▀▀▀▄▄█▀███▄▄▄█▀▀█▄  ▀ ▄▀  ▄▄▀█<br/>██  ▄▄█▀ ▀▀ ███▄▄▄▄▄▄▄█▀▄   █▀▄█ ▄█<br/>█▄▄▀▄█ ▀██ ▀ ▄▄▄█▄▀█▄▄▄██  ▄▀ ▄▄█▀█<br/>██▄   █▀▄ █ ▀ █▀▀▀ ▄▄▄▀▀▄▀▀▄ ▀▄  ▄█<br/>█▄▄█▀ █▀▀ ▀  ██ ▀ ▄▄▄ ▄▄▀█ █   ▄█▀█<br/>█ ▄█ █▄▀  ▀ ▀▄▀▀ ▀▀▄▄ ▀▀▄▀█▄▀▀█▀▀▄█<br/>█ █    ▀▀▄▄██▀▄  ▀▀▄█ ▄ █    ▀▄▄▀▄█<br/>█▀▀▀▀▀▀▀█▄▀  █▀ ▀ █ ▄ █▀▀ █▀█ █  ▄█<br/>█ █▀▀▀█ █ ▄█ ▄█▄█▄█▀█▄▄ ▄ ▀▀▀  ▄  █<br/>█ █   █ █ ▄█▀▄▄ ▄▄▄█▄▄ ▀▄▄▄▀▀▄  ▄▄█<br/>█ ▀▀▀▀▀ █▀ ▄▄ ███▄▀▄█▄▄▀ ▀▀█▀▄ ▄▀██<br/>███████████████████████████████████<br/>Hit enter when you authenticate<br/>Last login: Wed Jul 28 22:09:17 2021 from 128.105.121.1<br/>_____________________________________________________________________<br/> #####  #     # #######  #####  Issues?  Email <a href="mailto:chtc@cs.wisc.edu">chtc@cs.wisc.edu</a><br/>#     # #     #    #    #     # Unauthorized use prohibited by:<br/>#       #     #    #    #       WI Statutes: s. 947.0125<br/>#       #######    #    #       U.S. Code: 18 USC 1030<br/>#       #     #    #    #       U.S. Code: 18 USC 2510-2522<br/>#     # #     #    #    #     # U.S. Code: 18 USC 2701-2712<br/> #####  #     #    #     #####  U.S. Code: 18 USC § 1831<br/>For off campus ssh access use <a href="https://www.doit.wisc.edu/network/vpn/">https://www.doit.wisc.edu/network/vpn/</a><br/>_____________________________________________________________________<br/>       Virtual office hours are now available Tuesdays and<br/>         Thursdays, 3:00 - 4:45pm Central via this link:<br/>                  <a href="http://go.wisc.edu/chtc-officehours">go.wisc.edu/chtc-officehours</a><br/>[brian.bockelman.1@submittest0000 ~]$ </pre><br/>Internally, it's getting the username / group info from CILogon's LDAP server, checking the SSH pubkey for my user and, if there's no pubkey configured in CILogon, doing the authentication step in the browser.<br/>
</body>
</html>
