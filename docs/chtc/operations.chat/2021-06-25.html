<!DOCTYPE html>
<html>
<head>
<title>Fri Jun 25, 2021 : #operations (chtc)</title>
</head>
<body>
<h3>Fri Jun 25, 2021 : #operations (chtc)</h3>
<span style="color: #bb86b7"><span style="font-size: small">(07:39:00)</span> <b>tim:</b></span> @jpeterson @wiscmoate @tjslauson Some hosts are offline. <a href="http://tigerreserve0008.chtc.wisc.edu">tigerreserve0008.chtc.wisc.edu</a> which serves <a href="http://repo.opensciencegrid.org">repo.opensciencegrid.org</a><br/>
<span style="color: #bb86b7"><span style="font-size: small">(07:39:38)</span> <b>tim:</b></span> Also, <a href="http://batlab.chtc.wisc.edu">batlab.chtc.wisc.edu</a> (less important since it is for internal use.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(07:56:54)</span> <b>jpeterson:</b></span> I am driving in now and I will check on the tiger pod when I get to the office. Do you know who is in charge of that repo/pod? <br/>
<span style="color: #bb86b7"><span style="font-size: small">(08:09:45)</span> <b>tim:</b></span> <a href="http://repo.opensciencegrid.org">repo.opensciencegrid.org</a> would be @matyas or @blin<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:27:20)</span> <b>ckoch5:</b></span> Disovery datacenter had a full power outage last night<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:27:38)</span> <b>ckoch5:</b></span> <a href="https://outages.discovery.wisc.edu/incidents/fffj0pd8srvw">https://outages.discovery.wisc.edu/incidents/fffj0pd8srvw</a><br/>
<span style="color: #e7392d"><span style="font-size: small">(08:28:14)</span> <b>ckoch5:</b></span> @tim ^^<br/>
<span style="color: #e0a729"><span style="font-size: small">(08:30:04)</span> <b>iross:</b></span> Oof<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:30:21)</span> <b>ckoch5:</b></span> I, uh, also can’t log in to submit2 right now.<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:30:28)</span> <b>ckoch5:</b></span> wah wah<br/><a href="https://outages.doit.wisc.edu/outage/94740d334308363b1828ce482e9ac5d91b1704dd7b">https://outages.doit.wisc.edu/outage/94740d334308363b1828ce482e9ac5d91b1704dd7b</a><br/>
<span style="color: #e7392d"><span style="font-size: small">(08:30:54)</span> <b>ckoch5:</b></span> The DoIT outage page list of affected sites is so cryptic I can’t tell if it’s affecting us or not. :upside_down_face:<br/>
<span style="color: #3c8c69"><span style="font-size: small">(08:34:13)</span> <b>jpeterson:</b></span> Well. Given that my ip-phone on my desk is off..  and even my laptop is very confused…<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:34:40)</span> <b>ckoch5:</b></span> So I’m pretty sure the power went out in some point in CS because the clocks are 2 hours behind.<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:34:46)</span> <b>ckoch5:</b></span> ~Guessing ALL of our hardware is off atm~<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:35:28)</span> <b>ckoch5:</b></span> oop, nvm, logged into submit1 successfully. :smile:<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:38:51)</span> <b>ckoch5:</b></span> @wiscmoate @tjslauson where is submit2 located?<br/>
<span style="color: #4bbe2e"><span style="font-size: small">(08:39:28)</span> <b>tjslauson:</b></span> Discovery<br/>
<span style="color: #e7392d"><span style="font-size: small">(08:39:38)</span> <b>ckoch5:</b></span> aha<br/>
<span style="color: #4bbe2e"><span style="font-size: small">(08:39:54)</span> <b>tjslauson:</b></span> I'll be about 20<br/>
<span style="color: #4bbe2e"><span style="font-size: small">(08:41:12)</span> <b>tjslauson:</b></span> sounds like daily triage might have a few extra items this morning?  ;)<br/>
<span style="color: #3c8c69"><span style="font-size: small">(09:02:20)</span> <b>jpeterson:</b></span> Powering things up now that I see. <br/>
<span style="color: #e7392d"><span style="font-size: small">(09:03:14)</span> <b>ckoch5:</b></span> Lauren + I are meeting w/ Cannon + Josie right now, we’ll check in once we’ve wrapped.<br/>
<span style="color: #e7392d"><span style="font-size: small">(09:21:36)</span> <b>ckoch5:</b></span> I see those submit nodes starting up! @tjslauson :grin:<br/>
<span style="color: #4bbe2e"><span style="font-size: small">(09:38:11)</span> <b>tjslauson:</b></span> @ckoch5 are you still in that meeting?<br/>
<span style="color: #e7392d"><span style="font-size: small">(09:40:57)</span> <b>ckoch5:</b></span> yep. do you want to stop by?<br/>
<span style="color: #4bbe2e"><span style="font-size: small">(09:44:35)</span> <b>tjslauson:</b></span> if I'm not interrupting, sure<br/>
<span style="color: #4bbe2e"><span style="font-size: small">(09:45:00)</span> <b>tjslauson:</b></span> no rush, I was planning on answering any questions about what was affected and what's still happening<br/>
<span style="color: #e7392d"><span style="font-size: small">(09:46:58)</span> <b>ckoch5:</b></span> we’re wrapping up - you can join us in Lauren’s office. :slightly_smiling_face:<br/>
<span style="color: #3c989f"><span style="font-size: small">(10:06:32)</span> <b>wiscmoate:</b></span> Thanks @tjslauson for jumping on that grenade<br/>
<span style="color: #9e3997"><span style="font-size: small">(10:56:04)</span> <b>tlmiller:</b></span> Do we have a machine with a MIG/A100?<br/>
<span style="color: #9e3997"><span style="font-size: small">(10:56:12)</span> <b>tlmiller:</b></span> (Or have access to such a machine?)<br/>
<span style="color: #d58247"><span style="font-size: small">(10:57:53)</span> <b>gthain:</b></span> Can we get one via AWS?<br/>
<span style="color: #3c989f"><span style="font-size: small">(10:58:52)</span> <b>wiscmoate:</b></span> @tlmiller we administer and have access to <a href="http://coba2000.chtc.wisc.edu">coba2000.chtc.wisc.edu</a>, which has an A100<br/>
<span style="color: #3c989f"><span style="font-size: small">(10:59:16)</span> <b>wiscmoate:</b></span> we do not own it<br/>
<span style="color: #9e3997"><span style="font-size: small">(10:59:24)</span> <b>tlmiller:</b></span> Hrm.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:00:37)</span> <b>tlmiller:</b></span> I'm working on a bugfix for our A100 support, wherein we fail to do anything useful at all if the A100 is (mis)configured a certain way.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:00:49)</span> <b>tlmiller:</b></span> Naturally, that requires (mis)configuring an A100 in that way.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:01:29)</span> <b>tlmiller:</b></span> Does that machine happen to be idle (enough) for me to (re)configure it?<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:02:16)</span> <b>tlmiller:</b></span> (If it isn't, that's fine, I can rent a machine from the cloud.)<br/>
<span style="color: #3c989f"><span style="font-size: small">(11:07:14)</span> <b>wiscmoate:</b></span> It's in bologna batch configuration and the partitionable slot is idle;  that tells me that its owners are probably not currently using it.  If there's a near zero chance of things going wrong, I'm fine with some reconfiguration.  Otherwise, you should talk to facilitators.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:08:11)</span> <b>tlmiller:</b></span> Depends what you mean by "going wrong."   It'll most likely stop being useful for jobs while I'm screwing around with it.<br/>
<span style="color: #3c989f"><span style="font-size: small">(11:09:22)</span> <b>wiscmoate:</b></span> I'd ping facilitators then<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:09:31)</span> <b>tlmiller:</b></span> OK, thanks.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(11:52:53)</span> <b>lmichael:</b></span> @wiscmoate don’t we have another general-use server (not for a specific group) that has A100s? @tlmiller how long do you need the machine. The COBA group is ramping up at the moment (and they have data on that node, specifically), so I’d hate to interrupt their flow.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:53:57)</span> <b>tlmiller:</b></span> Oh, I've already gotten the machine I need from AWS.  Sorry, it sounded like the machine was busier than it was worth dealing with.<br/>
<span style="color: #e7392d"><span style="font-size: small">(11:55:11)</span> <b>ckoch5:</b></span> We do have another A100 for next time<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:56:07)</span> <b>tlmiller:</b></span> I'm taking notes?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:05:53)</span> <b>tlmiller:</b></span> ... which machine is the "another"?<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:06:33)</span> <b>ckoch5:</b></span> <tt>condor_status -compact -const 'TotalGpus &gt; 0' -af Machine CUDADeviceName</tt><br/>
<span style="color: #e7392d"><span style="font-size: small">(12:06:46)</span> <b>ckoch5:</b></span> looks like <a href="http://gpulab2004.chtc.wisc.edu">gpulab2004.chtc.wisc.edu</a><br/>
<span style="color: #e7392d"><span style="font-size: small">(12:07:07)</span> <b>ckoch5:</b></span> It should have 4 A100s<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:08:27)</span> <b>tlmiller:</b></span> I'm shocked and pleased that <tt>-compact</tt> does something useful with <tt>-af</tt>.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:08:32)</span> <b>tlmiller:</b></span> I will have to remember that. :)<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:08:56)</span> <b>ckoch5:</b></span> how it aggregates, who can say. :slightly_smiling_face:<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:08:57)</span> <b>tlmiller:</b></span> ... it's showing 8 GPUs total.<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:09:02)</span> <b>ckoch5:</b></span> that’s b/c of bologna batch<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:09:08)</span> <b>tlmiller:</b></span> I presume by <tt>Machine</tt>.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:09:25)</span> <b>tlmiller:</b></span> Ah.  Indeed.  Only four PCI bus IDs.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:09:47)</span> <b>tlmiller:</b></span> Thanks.<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:10:20)</span> <b>ckoch5:</b></span> my current hack:<br/><pre>condor_status <a href="http://gpulab2004.chtc.wisc.edu">gpulab2004.chtc.wisc.edu</a> -af Name Gpus Cpus Memory Disk | grep -v backfill</pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(12:11:45)</span> <b>tlmiller:</b></span> Makes sense.<br/>
<span style="color: #4cc091"><span style="font-size: small">(12:12:28)</span> <b>blin:</b></span> @tim there's a LIGO Yum GPG question on condor-users<br/>
<span style="color: #3c989f"><span style="font-size: small">(12:13:57)</span> <b>wiscmoate:</b></span> Thanks @ckoch5 @lmichael, I'd completely spaced that we had a A100 in gpulab<br/>
<span style="color: #bb86b7"><span style="font-size: small">(12:15:22)</span> <b>tim:</b></span> @blin Is this a fire :fire:.  It's a vacation day for me?<br/>
<blockquote>
<span style="color: #4cc091"><span style="font-size: small">(12:15:56)</span> <b>blin:</b></span> ah i didnt realize, don't worry about it then<br/>
</blockquote>
<span style="color: #3c989f"><span style="font-size: small">(12:20:49)</span> <b>wiscmoate:</b></span> Shut down your Slack @tim!<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:31:09)</span> <b>tlmiller:</b></span> ("It's called slacking off for a reason"?)<br/>
<span style="color: #2b6836"><span style="font-size: small">(13:13:21)</span> <b>jcpatton:</b></span> @tjslauson S3 expected to be down right now? (Maybe you’re working on it already)<br/><pre>[jcpatton@submit-1 ~]$ mc ls chtc/jpatton<br/>mc: &lt;ERROR&gt; Unable to stat <tt>chtc/jpatton</tt>. 503 Service Unavailable.</pre><br/>
<span style="color: #e7392d"><span style="font-size: small">(15:57:30)</span> <b>ckoch5:</b></span> @lmichael I outlined a email to go out before the end of the day, needs actual sentences, feel free to add/write/reorganize: <a href="https://docs.google.com/document/d/1Waxd-OydrAAX4s_3rz0Cc858iUsRjMZ9f6musyFVrYU/edit#">https://docs.google.com/document/d/1Waxd-OydrAAX4s_3rz0Cc858iUsRjMZ9f6musyFVrYU/edit#</a><br/>
<span style="color: #9f69e7"><span style="font-size: small">(16:31:24)</span> <b>lmichael:</b></span> Ready for you to send. I have to go!<br/>
<span style="color: #9f69e7"><span style="font-size: small">(16:31:35)</span> <b>lmichael:</b></span> @ckoch5 ^<br/>
</body>
</html>
