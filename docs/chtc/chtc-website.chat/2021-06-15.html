<!DOCTYPE html>
<html>
<head>
<title>Tue Jun 15, 2021 : #chtc-website (chtc)</title>
</head>
<body>
<h3>Tue Jun 15, 2021 : #chtc-website (chtc)</h3>
<span style="color: #2b6836"><span style="font-size: small">(07:18:38)</span> <b>jcpatton:</b></span> Ping me if you need help with CHTC transition. Current cndrutil cron on moria should automatically sync master branch if you can wait for */10 minutes<br/>
<span style="color: #2b6836"><span style="font-size: small">(07:19:37)</span> <b>jcpatton:</b></span> Someone with ksu on moria can su to cndrutil and do it manually<br/>
<span style="color: #684b6c"><span style="font-size: small">(09:38:58)</span> <b>bbockelman:</b></span> I think we just need to decide _when_ to pull the trigger.  Cannon and I are meeting on another subject 10:00 - 10:30.  We could merge at 10:30.<br/>
<span style="color: #e7392d"><span style="font-size: small">(09:49:09)</span> <b>ckoch5:</b></span> I think that’s fine<br/>
<span style="color: #684b6c"><span style="font-size: small">(10:31:54)</span> <b>bbockelman:</b></span> @ckoch5 - once this is done, I'd like to setup a slightly different branch strategy for the CHTC website.  Basically, on PATh / OSG, PRs get merged into <tt>master</tt> (which renders to a web-preview link, allowing sanity checks) and then a second PR goes <tt>master</tt> -&gt; <tt>production</tt> once we're ready to go live.<br/>
<span style="color: #684b6c"><span style="font-size: small">(10:32:19)</span> <b>bbockelman:</b></span> Where's the best place to write up such a scheme?  README.md?<br/>
<span style="color: #e7392d"><span style="font-size: small">(10:34:06)</span> <b>ckoch5:</b></span> yep<br/>
<span style="color: #e85d72"><span style="font-size: small">(10:37:59)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request opened by CannonLock<br/>
<span style="color: #dd8527"><span style="font-size: small">(10:39:23)</span> <b>clock:</b></span> I need one review on the Pull-Request then we are good<br/>
<span style="color: #e85d72"><span style="font-size: small">(11:59:19)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request opened by CannonLock<br/>
<span style="color: #e85d72"><span style="font-size: small">(12:00:06)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request opened by CannonLock<br/>
<span style="color: #684b6c"><span style="font-size: small">(12:03:04)</span> <b>bbockelman:</b></span> Ok, @clock - merging PR!<br/>
<span style="color: #e85d72"><span style="font-size: small">(12:03:35)</span> <b>github2:</b></span> <br/>
<span style="color: #e85d72"><span style="font-size: small">(12:03:36)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request merged by bbockelm<br/>
<span style="color: #684b6c"><span style="font-size: small">(12:04:13)</span> <b>bbockelman:</b></span> @clock - the last two PRs you opened you may need to rebase on the current <tt>master</tt> branch.<br/>
<span style="color: #dd8527"><span style="font-size: small">(12:18:15)</span> <b>clock:</b></span> @bbockelman Ah yes<br/>
<span style="color: #684b6c"><span style="font-size: small">(12:20:11)</span> <b>bbockelman:</b></span> In the meantime though, <a href="https://chtc.cs.wisc.edu/">https://chtc.cs.wisc.edu/</a> :tada:<br/>
<span style="color: #684b6c"><span style="font-size: small">(12:20:54)</span> <b>bbockelman:</b></span> @jcpatton - I suspect you're out now but it seems that the clever 404 handler page that Cannon work is not in use by the CSL-hosted apache.<br/>
<span style="color: #2b6836"><span style="font-size: small">(12:33:29)</span> <b>jcpatton:</b></span> I can investigate in a little while, if it's something that can be fixed in repo I'll send a PR<br/>
<span style="color: #684b6c"><span style="font-size: small">(12:34:16)</span> <b>bbockelman:</b></span> I _think_ it might be the apache config.<br/>
<span style="color: #684b6c"><span style="font-size: small">(12:39:12)</span> <b>bbockelman:</b></span> @clock - any news on the rebased PRs?  The updated page is live, we should get those fixed ASAP.<br/>
<span style="color: #dd8527"><span style="font-size: small">(12:39:55)</span> <b>clock:</b></span> Yes I am working on it at the moment.<br/>
<span style="color: #e7392d"><span style="font-size: small">(14:06:32)</span> <b>ckoch5:</b></span> When we have an ETA on the 404 page, can someone let me know?<br/>
<span style="color: #2b6836"><span style="font-size: small">(15:04:36)</span> <b>jcpatton:</b></span> @clock how are 404 redirects supposed to work?<br/>
<span style="color: #2b6836"><span style="font-size: small">(15:05:53)</span> <b>jcpatton:</b></span> I was able to add <tt>ErrorDocument 404 /404.html</tt> to a file called <tt>.htaccess</tt><br/>
<span style="color: #684b6c"><span style="font-size: small">(15:14:14)</span> <b>bbockelman:</b></span> @jcpatton - maybe ask CSL if they need to reload the apache server?<br/>
<span style="color: #2b6836"><span style="font-size: small">(15:19:37)</span> <b>jcpatton:</b></span> I got it working by dropping <tt>.htaccess</tt> in, but I’ve since removed it so I can send in a PR<br/>
<span style="color: #2b6836"><span style="font-size: small">(15:21:31)</span> <b>jcpatton:</b></span> Is this the right place? <a href="https://github.com/CHTC/chtc.github.io/pull/3">https://github.com/CHTC/chtc.github.io/pull/3</a><br/>
<span style="color: #684b6c"><span style="font-size: small">(15:22:12)</span> <b>bbockelman:</b></span> ah, let's see if that works.<br/>
<span style="color: #684b6c"><span style="font-size: small">(15:22:28)</span> <b>bbockelman:</b></span> but no, you want this repo: <a href="https://github.com/CHTC/chtc-website-source">https://github.com/CHTC/chtc-website-source</a><br/>
<span style="color: #e85d72"><span style="font-size: small">(15:37:40)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request opened by jasoncpatton<br/>
<span style="color: #e85d72"><span style="font-size: small">(15:50:33)</span> <b>github2:</b></span> <br/>
<span style="color: #e85d72"><span style="font-size: small">(15:50:34)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request merged by bbockelm<br/>
<span style="color: #dd8527"><span style="font-size: small">(15:54:58)</span> <b>clock:</b></span> @bbockelman Can you check that this is what you intended? <a href="https://github.com/CHTC/chtc-website-source/pull/236">https://github.com/CHTC/chtc-website-source/pull/236</a><br/>
<span style="color: #dd8527"><span style="font-size: small">(15:55:15)</span> <b>clock:</b></span> Then I can do it to the link fixes and get those out the door<br/>
<span style="color: #2b6836"><span style="font-size: small">(15:58:55)</span> <b>jcpatton:</b></span> do github actions then push <tt>chtc-website-source:master</tt> to <tt><a href="http://chtc.github.io:master">chtc.github.io:master</a></tt> once built?<br/>
<span style="color: #684b6c"><span style="font-size: small">(16:02:32)</span> <b>bbockelman:</b></span> @jcpatton - looks like the deploy script failed because the rsync excludes <tt>.*</tt>.<br/>
<span style="color: #2b6836"><span style="font-size: small">(16:02:45)</span> <b>jcpatton:</b></span> ack<br/>
<span style="color: #2b6836"><span style="font-size: small">(16:05:16)</span> <b>jcpatton:</b></span> I think you can add <tt>--include</tt> flags after <tt>--exclude</tt> flags<br/>
<span style="color: #2b6836"><span style="font-size: small">(16:05:30)</span> <b>jcpatton:</b></span> and they will subvert previous excludes<br/>
<span style="color: #684b6c"><span style="font-size: small">(16:06:49)</span> <b>bbockelman:</b></span> (on a meeting, can you give it a try?)<br/>
<span style="color: #2b6836"><span style="font-size: small">(16:07:34)</span> <b>jcpatton:</b></span> once I’m wrapped up with current office hours engagement I can try<br/>
<span style="color: #2b6836"><span style="font-size: small">(16:45:01)</span> <b>jcpatton:</b></span> @clock I’m not convinced I put the <tt>.htaccess</tt> file in the right location to have jekyll put it in the document root? Right now it’s under <tt>chtc-website-source/.htaccess</tt>, does it need to go in <tt>includes/</tt>?<br/>
<span style="color: #e85d72"><span style="font-size: small">(16:51:32)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request opened by jasoncpatton<br/>
<span style="color: #dd8527"><span style="font-size: small">(16:52:31)</span> <b>clock:</b></span> I believe we are also going to want to include include: ['.htaccess'] in the config file<br/>
<span style="color: #2b6836"><span style="font-size: small">(16:54:43)</span> <b>jcpatton:</b></span> <tt>_config.yml</tt>?<br/>
<span style="color: #dd8527"><span style="font-size: small">(16:54:52)</span> <b>clock:</b></span> Yes I am doing it atm<br/>
<span style="color: #e85d72"><span style="font-size: small">(16:55:41)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request opened by CannonLock<br/>
<span style="color: #2b6836"><span style="font-size: small">(16:59:00)</span> <b>jcpatton:</b></span> @clock I merged your PR with my branch, so merging #238 will also merge #239<br/>
<span style="color: #e85d72"><span style="font-size: small">(16:59:51)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request closed by CannonLock<br/>
<span style="color: #2b6836"><span style="font-size: small">(17:06:12)</span> <b>jcpatton:</b></span> I’m not sure how to inspect the results of my PR, but Brian, if it looks like <tt>.htacecss</tt> is getting to the right place, feel free to merge<br/>
<span style="color: #e85d72"><span style="font-size: small">(18:26:31)</span> <b>github2:</b></span> <br/>
<span style="color: #e85d72"><span style="font-size: small">(18:26:33)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request merged by bbockelm<br/>
<span style="color: #e85d72"><span style="font-size: small">(18:27:38)</span> <b>github2:</b></span> <br/>
<span style="color: #e85d72"><span style="font-size: small">(18:27:39)</span> <b>github2:</b></span> [CHTC/chtc-website-source] Pull request merged by bbockelm<br/>
<span style="color: #684b6c"><span style="font-size: small">(18:39:02)</span> <b>bbockelman:</b></span> so close!  Looks like the include / exclude directives need to swap<br/>
<span style="color: #e85d72"><span style="font-size: small">(18:40:34)</span> <b>github2:</b></span> <br/>
<span style="color: #684b6c"><span style="font-size: small">(18:53:07)</span> <b>bbockelman:</b></span> Ok, 404 fixed. Still seeing a good number of internal broken links.  @clock - looks like there’s still some mop-up to do.<br/>
</body>
</html>
