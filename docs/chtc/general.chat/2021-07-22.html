<!DOCTYPE html>
<html>
<head>
<title>Thu Jul 22, 2021 : #general (chtc)</title>
</head>
<body>
<h3>Thu Jul 22, 2021 : #general (chtc)</h3>
<span style="color: #5a4592"><span style="font-size: small">(14:03:47)</span> <b>tannenba:</b></span> @jfrey <b>@edquist</b> Team meeting time!<br/>
<span style="color: #16569E"><span style="font-size: small">(14:03:58)</span> <b>edquist:</b></span> yes yes<br/>
<span style="color: #9b3b45"><span style="font-size: small">(14:04:04)</span> <b>jfrey:</b></span> ty<br/>
<span style="color: #9f69e7"><span style="font-size: small">(15:06:09)</span> <b>lmichael:</b></span> For anyone interested in the Globus issue:<br/><br/>So I’ve got a user (close-ish collaborator who has brought us many OSPool users) asking what options there are for automating transfers to jobs from external file servers that are set up as Globus endpoints. They recently learned that Globus no longer supports https transfer from endpoints. What are our best options in that case, if trying to avoid the step of staging the data into /public (CVMFS)?<br/><br/>Researcher forwarded an email reply from Globus (visible here: <a href="https://support.opensciencegrid.org/public/tickets/3e1d56683cb1e794c37cd0532b144e4917fe8e3627a95c7d0d176faaa99e3475">https://support.opensciencegrid.org/public/tickets/3e1d56683cb1e794c37cd0532b144e4917fe8e3627a95c7d0d176faaa99e3475</a>)<br/><br/>“The Globus CLI has no such functionality at this time. It is possible<br/>for you to construct your own client application to do HTTPS downloads<br/>from a GCSv5.4 collection. We discuss this issue in our doc here:<br/><br/><a href="https://docs.globus.org/globus-connect-server/v5.4/https-access-collections/">https://docs.globus.org/globus-connect-server/v5.4/https-access-collections/</a><br/><br/>Please let us know if you should require additional support on this matter.”<br/>
<span style="color: #9f69e7"><span style="font-size: small">(15:07:50)</span> <b>lmichael:</b></span> Do we have any way for this group to transfer files into jobs from (1) ‘public’ repositories that are Globus endpoints, and (2) a more ‘private’ repo in their local infrastructure that is a Globus endpoint?<br/>
<span style="color: #9f69e7"><span style="font-size: small">(15:16:17)</span> <b>lmichael:</b></span> @bbockelman :point_up:<br/>
<span style="color: #684b6c"><span style="font-size: small">(15:31:44)</span> <b>bbockelman:</b></span> For (2), that's just transfers between two Globus servers, right?  That's straightforward.<br/>
<blockquote>
<span style="color: #9f69e7"><span style="font-size: small">(2021-07-23 13:17:20)</span> <b>lmichael:</b></span> So an update/clarification. BOTH the USGS endpoint and their campus endpoint are accessible via user-authentication and ONLY to certain IP ranges (like the U Michigan VPN). Globus handles the user authentication and gets around the firewalls.<br/><br/>If the only/best option is still to stage on the OSG Connect access points, it sounds like they’d need to get  IP addresses whitelisted and/or we’d need to set up the access points as Globus endpoints.<br/><br/>Or, should we suggest they just set up an access point on their campus, and stage data from there (whether from local or USGS repos)? Bennet thought that would be possible, but wants to understand/exhaust other options, first.<br/><br/>So, I guess I’m asking whether there is any near-term potential for Globus-like access from within jobs, whether handled by HTCondor or within the user’s jobs. @tannenba @bbockelman<br/>
<span style="color: #684b6c"><span style="font-size: small">(2021-07-25 10:28:49)</span> <b>bbockelman:</b></span> I don’t see any near-term potential … it’s not conceptually complex, but it’s not scheduled and folks have pretty deep queues.  I’d suggest the OSG-Connect route.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(2021-07-26 09:00:15)</span> <b>lmichael:</b></span> Setting up OSG Connect access points as Globus endpoints?<br/>
<span style="color: #684b6c"><span style="font-size: small">(2021-07-26 15:40:01)</span> <b>bbockelman:</b></span> I thought they already were?<br/>
<span style="color: #9f69e7"><span style="font-size: small">(2021-07-27 13:45:48)</span> <b>lmichael:</b></span> Nope. They were when /home was an NFS-mounted Ceph filesystem, but I don’t think we ever set them up after /home was converted to using local disk.<br/>
</blockquote>
<span style="color: #684b6c"><span style="font-size: small">(15:32:13)</span> <b>bbockelman:</b></span> (1) --&gt; that's probably a 20 line python script with the Globus Python API?  I dunno, maybe a few hours of tinkering to get it right.<br/>
<blockquote>
<span style="color: #99a949"><span style="font-size: small">(15:36:00)</span> <b>matyas:</b></span> this reminds me of the "Adding HTTP backend to legacy data transfer server" fellows project: <a href="https://iris-hep.org/fellow_projects.html">https://iris-hep.org/fellow_projects.html</a><br/>
<span style="color: #99a949"><span style="font-size: small">(15:36:47)</span> <b>matyas:</b></span> which I cheekily referred to as "globus-url-copy-as-a-service"<br/>
<span style="color: #684b6c"><span style="font-size: small">(15:56:26)</span> <b>bbockelman:</b></span> yup, but that's a completely different thing :wink:<br/>
</blockquote>
<span style="color: #99a949"><span style="font-size: small">(17:13:03)</span> <b>matyas:</b></span> have we ever tried this JIRA plugin out: <a href="https://marketplace.atlassian.com/apps/1219112/easy-templates-for-jira-issues?hosting=cloud&amp;tab=overview">https://marketplace.atlassian.com/apps/1219112/easy-templates-for-jira-issues?hosting=cloud&amp;tab=overview</a><br/>
</body>
</html>
