<!DOCTYPE html>
<html>
<head>
<title>Fri Jul 16, 2021 : #facilitation (chtc)</title>
</head>
<body>
<h3>Fri Jul 16, 2021 : #facilitation (chtc)</h3>
<span style="color: #4bbe2e"><span style="font-size: small">(12:44:42)</span> <b>tjslauson:</b></span> FYI: this morning <tt>dturygin</tt> managed to knock over a majority of our HPC's interactive nodes by running them out of memory.  They were running jobs named <tt>DERC_mesh</tt> on the int nodes, and the process that ate up every bit of memory was called <tt>blockMesh</tt>.<br/>
<span style="color: #4bbe2e"><span style="font-size: small">(12:44:54)</span> <b>tjslauson:</b></span> (I've resurrected all the int nodes)<br/>
<span style="color: #9f69e7"><span style="font-size: small">(12:47:36)</span> <b>lmichael:</b></span> @ckoch5 And they have ~100 of these 4-30 GB dirs?<br/><br/>Assuming he’s not interested in analyzing images independently (that could just use /home and no tar), they can transfer to staging and that would be ~9600 files, right? (so 10k item quota would work)<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:53:26)</span> <b>ckoch5:</b></span> @tjslauson what would be a good preventative change to keep it from happening again before we email him to find out what’s going on?<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:54:12)</span> <b>ckoch5:</b></span> @lmichael so transfer (unzipped) to staging and then zip up?<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:54:19)</span> <b>ckoch5:</b></span> or just don’t bother with the tar files?<br/>
<span style="color: #9f69e7"><span style="font-size: small">(12:55:03)</span> <b>lmichael:</b></span> I’d say don’t bother, assuming that the images can’t be analyzed independent of one another (that would point to /home). Did you find that out, yet?<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:59:12)</span> <b>ckoch5:</b></span> I think the answer is “they could be”<br/>
<span style="color: #e7392d"><span style="font-size: small">(12:59:20)</span> <b>ckoch5:</b></span> But i’m not sure at what granularity<br/>
<span style="color: #e7392d"><span style="font-size: small">(13:00:25)</span> <b>ckoch5:</b></span> I’d like to follow up about the file policy though - are we okay with people working with datasets of 100s of MB sized files unzipped in /staging (if they need the whole dataset for a job)?<br/>
<span style="color: #9f69e7"><span style="font-size: small">(13:01:34)</span> <b>lmichael:</b></span> I think this is a special case, given the additional complexity of Globus and no ability to compress before-hand. Not a general rule.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(13:02:08)</span> <b>lmichael:</b></span> he files are 20MB, and our usual cutoff is 100MB, so it’s not the same as 1MB files (and more numerous)<br/>
<span style="color: #e7392d"><span style="font-size: small">(13:02:33)</span> <b>ckoch5:</b></span> got it.<br/>
<span style="color: #e7392d"><span style="font-size: small">(13:02:58)</span> <b>ckoch5:</b></span> @tjslauson nvm, Dmitrii emailed us so I’ll tell him not to submit jobs.<br/>
</body>
</html>
