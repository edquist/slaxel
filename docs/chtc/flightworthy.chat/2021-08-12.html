<!DOCTYPE html>
<html>
<head>
<title>Thu Aug 12, 2021 : #flightworthy (chtc)</title>
</head>
<body>
<h3>Thu Aug 12, 2021 : #flightworthy (chtc)</h3>
<span style="color: #bb86b7"><span style="font-size: small">(08:27:31)</span> <b>tim:</b></span> @jfrey @blin I just posted yesterday's RC builds. Please do your Bosco tests. I believe that Jaime goes first. I will build the HTCondor RC and blahp RC in OSG and VMU test them there today.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(08:46:43)</span> <b>tim:</b></span> @tannenba Regarding RHEL based distro detection. Perhaps you can use what is coded for the bosco cluster command: <a href="https://github.com/htcondor/htcondor/pull/192">https://github.com/htcondor/htcondor/pull/192</a><br/>
<span style="color: #2b6836"><span style="font-size: small">(08:53:33)</span> <b>jcpatton:</b></span> With ToddM out, can someone help me debug an issue one of our users is having with S3? @bbockelman? Details in thread<br/>
<blockquote>
<span style="color: #2b6836"><span style="font-size: small">(08:54:27)</span> <b>jcpatton:</b></span> There was clearly some copy/paste errors in the email, but here are the bits from the submit file:<br/><pre>aws_access_key_id_file = /home/mbornholdt/accessKeyID<br/>aws_secret_access_key_file = /home/mbornholdt/secretAccessKey<br/>aws_region = region=us-east-1<br/>transfer_input_files =<br/><a href="s3://jump-cellpainting/projects/2015_10_05_DrugRepurposing_AravindSubramanian_GolubLab_Broad/workspace/deep_learning/config.js$">s3://jump-cellpainting/projects/2015_10_05_DrugRepurposing_AravindSubramanian_GolubLab_Broad/workspace/deep_learning/config.js$</a></pre><br/>
<span style="color: #2b6836"><span style="font-size: small">(08:55:09)</span> <b>jcpatton:</b></span> And the log:<br/><pre>007 (14255532.000.000) 2021-08-09 14:04:41 Shadow exception!<br/><br/>        Error from <a href="mailto:slot1_3@coba2000.chtc.wisc.edu">slot1_3@coba2000.chtc.wisc.edu</a>: FILETRANSFER:1:non-zero exit (1) from /usr/libexec/condor/curl_plugin. Error: Could not resolve host: jump-cellpainting.s3.region=<a href="http://us-east-1.amazonaws.com">us-east-1.amazonaws.com</a>; Unknown error using<br/>http_proxy=<a href="http://squid-cs-2360.chtc.wisc.edu:3128">http://squid-cs-2360.chtc.wisc.edu:3128</a> (<a href="https://jump-cellpainting.s3.region">https://jump-cellpainting.s3.region</a>=<a href="http://us-east-1.amazonaws.com/projects/2015_10_05_DrugRepurposing_AravindSubramanian_GolubLab_Broad/workspace/deep_learning/config.json?X-Amz">us-east-1.amazonaws.com/projects/2015_10_05_DrugRepurposing_AravindSubramanian_GolubLab_Broad/workspace/deep_learning/config.json?X-Amz</a>.</pre><br/>
<span style="color: #2b6836"><span style="font-size: small">(08:57:20)</span> <b>jcpatton:</b></span> two parts seem fishy: why is <tt>http_proxy=<a href="http://squid-cs-2360.chtc.wisc.edu:3128">http://squid-cs-2360.chtc.wisc.edu:3128</a></tt> mentioned, and what’s with this domain <tt><a href="https://jump-cellpainting.s3.region">https://jump-cellpainting.s3.region</a>=<a href="http://us-east-1.amazonaws.com">us-east-1.amazonaws.com</a></tt><br/>
<span style="color: #2b6836"><span style="font-size: small">(08:58:15)</span> <b>jcpatton:</b></span> ohhhhh I think I see<br/>
<span style="color: #2b6836"><span style="font-size: small">(08:59:02)</span> <b>jcpatton:</b></span> <tt>aws_region = region=us-east-1</tt> should be <tt>aws_region = us-east-1</tt><br/>
</blockquote>
<span style="color: #674b1b"><span style="font-size: small">(09:42:39)</span> <b>coatsworth:</b></span> Is anybody here qualified to answer Vikrant Aggrawal's condor-users question about authentication differences between v8.5 and v8.8?<br/>
<span style="color: #674b1b"><span style="font-size: small">(09:43:34)</span> <b>coatsworth:</b></span> If nobody is able I'll try to respond myself, but I'm almost certain to tell lies.<br/>
<span style="color: #d58247"><span style="font-size: small">(09:45:51)</span> <b>gthain:</b></span> "Number of lies told on condor-users" is not one of our metrics<br/>
<span style="color: #9b3b45"><span style="font-size: small">(09:51:08)</span> <b>jfrey:</b></span> @tim Bosco smoketest of 9.0.5 is good. 9.1.3 is bad.<br/>
<span style="color: #9b3b45"><span style="font-size: small">(09:51:49)</span> <b>jfrey:</b></span> The rc tarball in 9.1.3 is missing the &lt;libexec&gt;/glite directory, with its symlinks to the real locations of the various blahp files.<br/>
<span style="color: #9b3b45"><span style="font-size: small">(09:51:59)</span> <b>jfrey:</b></span> And the bosco_cluster --add command relies on that.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(09:52:17)</span> <b>tim:</b></span> Hmm. nothing should have changed there. I will investigate.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(09:56:29)</span> <b>tim:</b></span> The libexec/glite directory disappeared when we moved nqs and kubernetes out of the HTCondor sources into the blahp sources, I can easily make a directory with symbolic links for compatibility.<br/>
<span style="color: #2b6836"><span style="font-size: small">(11:40:14)</span> <b>jcpatton:</b></span> In this new “everything gets review” mode, say I merge an external GitHub PR to master after checking out that the code looks ok. Does that count as a code review? What about if I made a tiny change to the PR?<br/>
<span style="color: #674b1b"><span style="font-size: small">(11:45:55)</span> <b>coatsworth:</b></span> @jcpatton When there's a PR for a ticket, the best way to do this is add a comment to the Jira ticket saying "Code review happened in a Github pull request" and include a url.<br/>
<span style="color: #2b6836"><span style="font-size: small">(11:46:56)</span> <b>jcpatton:</b></span> one internal review is Good Enough<br/>
<span style="color: #bb86b7"><span style="font-size: small">(11:55:32)</span> <b>tim:</b></span> @jfrey I pushed a glite fix and will post a new RC when it builds.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(12:33:44)</span> <b>tim:</b></span> @jfrey The new RC is posted.<br/>
<span style="color: #684b6c"><span style="font-size: small">(12:53:05)</span> <b>bbockelman:</b></span> &gt;  What about if I made a tiny change to the PR?<br/>Then get another tiny review.  Tiny changes are often big culprits precisely because people wave them on through more often.<br/>
<span style="color: #9b3b45"><span style="font-size: small">(13:07:05)</span> <b>jfrey:</b></span> @tim The new rc fails, because the date in the version string doesn’t match the date of the tarballs.<br/>
<blockquote>
<span style="color: #bb86b7"><span style="font-size: small">(13:10:07)</span> <b>tim:</b></span> My bad. Will fix shortly.<br/>
<span style="color: #9b3b45"><span style="font-size: small">(13:12:33)</span> <b>jfrey:</b></span> I made a symlink to the correct date for CentOS in the tarball directory.<br/>
<span style="color: #9b3b45"><span style="font-size: small">(13:12:39)</span> <b>jfrey:</b></span> After that, everything worked fine.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(13:41:25)</span> <b>tim:</b></span> Cool<br/>
<span style="color: #4cc091"><span style="font-size: small">(14:00:31)</span> <b>blin:</b></span> i'm running out of week so i think i'm going to have to hand off to @matyas to test in some of our tiger CEs<br/>
<span style="color: #bb86b7"><span style="font-size: small">(14:24:10)</span> <b>tim:</b></span> We can wait until a positive result before releasing. We plan to release on Monday, is that still feasible in your timeframe.<br/>
<span style="color: #4cc091"><span style="font-size: small">(14:47:09)</span> <b>blin:</b></span> i'm OOO tomorrow/monday<br/>
<span style="color: #bb86b7"><span style="font-size: small">(14:59:47)</span> <b>tim:</b></span> I will hold the release until I get a positive result for Bosco.<br/>
<span style="color: #4cc091"><span style="font-size: small">(15:43:34)</span> <b>blin:</b></span> @matyas do you have time to update any of the slurm/ubuntu CEs and run some jobs through them?<br/>
<span style="color: #99a949"><span style="font-size: small">(15:45:40)</span> <b>matyas:</b></span> am I just testing bosco?<br/>
<span style="color: #99a949"><span style="font-size: small">(15:46:17)</span> <b>matyas:</b></span> is canary2-ce good? (it's in the osg namespace)<br/>
<span style="color: #99a949"><span style="font-size: small">(15:46:31)</span> <b>matyas:</b></span> or would you prefer itb-slurm-ce?<br/>
<span style="color: #4cc091"><span style="font-size: small">(15:48:18)</span> <b>blin:</b></span> either's fine by me<br/>
<span style="color: #4cc091"><span style="font-size: small">(15:48:28)</span> <b>blin:</b></span> and yeah, just testing the Bosco RC once Tim has URLs<br/>
<span style="color: #bb86b7"><span style="font-size: small">(16:12:13)</span> <b>tim:</b></span> It's just the latest tarball RC in <a href="https://research.cs.wisc.edu/htcondor/tarball/9.1/9.1.3/rc/">https://research.cs.wisc.edu/htcondor/tarball/9.1/9.1.3/rc/</a><br/>
<span style="color: #bb86b7"><span style="font-size: small">(2021-08-13 17:11:42)</span> <b>tim:</b></span> @matyas Have you tried the latest Bosco?<br/>
<span style="color: #99a949"><span style="font-size: small">(2021-08-13 17:12:00)</span> <b>matyas:</b></span> working on it<br/>
<span style="color: #99a949"><span style="font-size: small">(2021-08-13 17:37:39)</span> <b>matyas:</b></span> btw what's a good way to get production GLOW pilots?<br/>
<span style="color: #bb86b7"><span style="font-size: small">(2021-08-13 17:43:21)</span> <b>tim:</b></span> I don't know<br/>
<span style="color: #99a949"><span style="font-size: small">(2021-08-13 19:25:11)</span> <b>matyas:</b></span> I checked tried out <a href="https://research.cs.wisc.edu/htcondor/tarball/9.1/9.1.3/rc/condor-9.1.3-20210812-x86_64_CentOS7-stripped.tar.gz">https://research.cs.wisc.edu/htcondor/tarball/9.1/9.1.3/rc/condor-9.1.3-20210812-x86_64_CentOS7-stripped.tar.gz</a> on our production SLURM CE (<a href="http://canary2.osg.chtc.io">canary2.osg.chtc.io</a>). It is running OSG VO pilots that are joining the OS pool though I haven't seen any payloads yet<br/>
<span style="color: #99a949"><span style="font-size: small">(2021-08-13 19:31:10)</span> <b>matyas:</b></span> never mind, I submitted some jobs and they are running<br/>
<span style="color: #bb86b7"><span style="font-size: small">(2021-08-14 10:04:18)</span> <b>tim:</b></span> Well cool!<br/>
</blockquote>
<span style="color: #674b1b"><span style="font-size: small">(15:11:18)</span> <b>coatsworth:</b></span> Michael Pelletier just sent an RT ticket reporting huge numbers of core dumps when running <tt>condor_gpu_utilization</tt> on V8.8.15 :disappointed: @johnkn are you able to look at this? Or better for somebody else?<br/>
<span style="color: #674b1b"><span style="font-size: small">(15:36:02)</span> <b>coatsworth:</b></span> After looking again, this seems suspiciously related to <a href="https://opensciencegrid.atlassian.net/browse/HTCONDOR-125">HTCONDOR-125</a> which ToddM added in v8.8.13. I'll reply to Michael and try to buy time until Todd gets back from vacation.<br/>
<blockquote>
<span style="color: #bb86b7"><span style="font-size: small">(16:13:21)</span> <b>tim:</b></span> @coatsworth I don't think that this would cause Michael's problem.<br/>
<span style="color: #674b1b"><span style="font-size: small">(16:14:53)</span> <b>coatsworth:</b></span> Agree, after posting that I looked back further in the git history and found other commits related to GPU utilization and segfaults. I've replied to Michael with the workaround you suggested.<br/>
</blockquote>
<span style="color: #4cc091"><span style="font-size: small">(15:44:20)</span> <b>blin:</b></span> i'm hearing about another 8.8.15 segfault<br/>
<span style="color: #4cc091"><span style="font-size: small">(15:44:27)</span> <b>blin:</b></span> (not sure if it's the same root cause atm)<br/>
<span style="color: #4cc091"><span style="font-size: small">(15:49:27)</span> <b>blin:</b></span> this is happening on their CE<br/><pre>08/11/21 22:49:56 ChildAliveMsg: failed to send DC_CHILDALIVE to parent daemon at &lt;198.32.44.15:9619&gt; (try 3 of 3): SECMAN:2010:Received "DENIED" from server for user <a href="mailto:condor@users.opensciencegrid.org">condor@users.opensciencegrid.org</a> using method GSI.<br/>08/11/21 22:49:56 ERROR "FAILED TO SEND INITIAL KEEP ALIVE TO OUR PARENT &lt;198.32.44.15:9619?addrs=198.32.44.15-9619&amp;noUDP&amp;sock=192115_4f06&gt;" at line 241 in file /builddir/build/BUILD/condor-8.8.15/src/condor_daemon_core.V6/daemon_keep_alive.cpp<br/>08/11/21 22:49:56 ERROR "Assertion ERROR on (m_ref_count &gt; 0)" at line 102 in file /builddir/build/BUILD/condor-8.8.15/src/condor_utils/classy_counted_ptr.h<br/>Caught signal 6: si_code=4294967290, si_pid=192510, si_uid=0, si_addr=0x2EFFE<br/>Stack dump for process 192510 at timestamp 1628722196 (16 frames)<br/>/lib64/libcondor_utils_8_8_15.so(dprintf_dump_stack+0x24)[0x7fdc2414c6d4]<br/>/lib64/libcondor_utils_8_8_15.so(_Z17unix_sig_coredumpiP9siginfo_tPv+0x69)[0x7fdc242fa4f9]<br/>/lib64/libpthread.so.0(+0xf630)[0x7fdc1f4cd630]<br/>/lib64/libc.so.6(gsignal+0x37)[0x7fdc1f126387]<br/>/lib64/libc.so.6(abort+0x148)[0x7fdc1f127a78]<br/>/lib64/libc.so.6(+0x78f67)[0x7fdc1f168f67]<br/>/lib64/libc.so.6(+0x81329)[0x7fdc1f171329]<br/>/lib64/libcondor_utils_8_8_15.so(_ZN9HashTableI8MyStringS0_ED1Ev+0x40)[0x7fdc241c6650]<br/>/lib64/libc.so.6(+0x39ce9)[0x7fdc1f129ce9]<br/>/lib64/libc.so.6(+0x39d37)[0x7fdc1f129d37]<br/>/lib64/libcondor_utils_8_8_15.so(__wrap_exit+0x65)[0x7fdc243031b5]<br/>/lib64/libcondor_utils_8_8_15.so(_EXCEPT_+0x13f)[0x7fdc241583bf]<br/>/lib64/libcondor_utils_8_8_15.so(+0x10e6ca)[0x7fdc241226ca]<br/>/lib64/libcondor_utils_8_8_15.so(+0x2a0afe)[0x7fdc242b4afe]<br/>/lib64/libc.so.6(__cxa_finalize+0x9a)[0x7fdc1f12a05a]<br/>/lib64/libcondor_utils_8_8_15.so(+0x1102e3)[0x7fdc241242e3]</pre><br/>they've got a boatload of core files, too<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:57:26)</span> <b>johnkn:</b></span> not a segfault.<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:57:28)</span> <b>johnkn:</b></span> <pre>FAILED TO SEND INITIAL KEEP ALIVE TO OUR PARENT</pre><br/><br/>
<span style="color: #235e5b"><span style="font-size: small">(15:57:39)</span> <b>johnkn:</b></span> and then it's aborting<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:59:34)</span> <b>johnkn:</b></span> the root cause could be a config problem.  I'm not sure how else to interpret <tt>received "DENIED"</tt><br/>
<span style="color: #235e5b"><span style="font-size: small">(15:59:52)</span> <b>johnkn:</b></span> what does the MasterLog say?<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:02:37)</span> <b>blin:</b></span> hrm, <tt>hostname size = 0</tt> is odd<br/><pre>08/12/21 17:31:45 PERMISSION DENIED to <a href="mailto:condor@users.opensciencegrid.org">condor@users.opensciencegrid.org</a> from host 198.32.44.15 for command 60008 (DC_CHILDALIVE), access level DAEMON: reason: DAEMON authorization policy contains no matching ALLOW entry for this request; identifiers used for this host: 198.32.44.15, hostname size = 0, original ip address = 198.32.44.15</pre><br/>
<span style="color: #235e5b"><span style="font-size: small">(16:04:07)</span> <b>johnkn:</b></span> ALLOW_DAEMON is configured to what?<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:04:23)</span> <b>blin:</b></span> snippet of config:<br/><pre>ALLOW_DAEMON = $(FRIENDLY_DAEMONS)<br/>FRIENDLY_DAEMONS = $(FULL_HOSTNAME)@daemon.opensciencegrid.org/$(FULL_HOSTNAME) <a href="mailto:condor@users.opensciencegrid.org">condor@users.opensciencegrid.org</a>/$(FULL_HOSTNAME) condor@child/$(FULL_HOSTNAME)<br/>FULL_HOSTNAME = <a href="http://cit-gatekeeper2.ultralight.org">cit-gatekeeper2.ultralight.org</a></pre><br/>and I believe their mapfile is<br/><pre>GSI (.*) GSS_ASSIST_GRIDMAP<br/>SSL "[-.A-Za-z0-9/= ]*/CN=([-.A-Za-z0-9/= ]+)" \1@unmapped.htcondor.org<br/>CLAIMTOBE .* anonymous@claimtobe<br/>FS "^(root|condor)$" \1@daemon.htcondor.org<br/>FS "(.*)" \1</pre><br/>
<span style="color: #4cc091"><span style="font-size: small">(16:05:13)</span> <b>blin:</b></span> aha,<br/><pre>SEC_DEFAULT_AUTHENTICATION_METHODS = GSI</pre><br/>
<blockquote>
<span style="color: #4cc091"><span style="font-size: small">(16:30:31)</span> <b>blin:</b></span> @johnkn hrm, this doesn't seem to have fixed it<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:31:18)</span> <b>blin:</b></span> we're still barfing on the <tt>DC_CHILDALIVE</tt> :<br/><pre>08/12/21 21:21:02 PERMISSION DENIED to <a href="mailto:condor@users.htcondor.org">condor@users.htcondor.org</a> from host 198.32.44.15 for command 60008 (DC_CHILDALIVE), access level DAEMON: reason: DAEMON authorization policy contains no match<br/>ing ALLOW entry for this request; identifiers used for this host: 198.32.44.15, hostname size = 0, original ip address = 198.32.44.15</pre><br/><br/>
<span style="color: #4cc091"><span style="font-size: small">(16:32:01)</span> <b>blin:</b></span> which doesn't work since our <tt>ALLOW_DAEMON</tt> has <tt><a href="mailto:condor@users.htcondor.org">condor@users.htcondor.org</a>/$(FULL_HOSTNAME)</tt><br/>
<span style="color: #235e5b"><span style="font-size: small">(16:32:12)</span> <b>johnkn:</b></span> I don't know what *this* is<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:32:28)</span> <b>blin:</b></span> this = getting the auth method correct<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:32:39)</span> <b>blin:</b></span> it was GSI, now it's FS<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:33:29)</span> <b>blin:</b></span> where does the hostname identifier come from?<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:34:08)</span> <b>blin:</b></span> it's odd because <tt>FULL_HOSTNAME</tt> and <tt>HOSTNAME</tt> look good in the config<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:34:14)</span> <b>johnkn:</b></span> I think  you want to add <tt>condor@*</tt> to ALLOW_DAEMON<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:34:59)</span> <b>blin:</b></span> eh, i'm not real keen on that given that we accept all sorts of remote connections<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:35:12)</span> <b>blin:</b></span> this config otherwise works for all CEs<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:39:12)</span> <b>blin:</b></span> it's going to end up being freaking dns<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:39:23)</span> <b>johnkn:</b></span> Well your mapfile says that condor from FS resolves to <a href="mailto:condor@daemon.htcondor.org">condor@daemon.htcondor.org</a><br/>
<span style="color: #235e5b"><span style="font-size: small">(16:40:04)</span> <b>johnkn:</b></span> but judging from the error message, I wonder if you shoudl just use $(IP_ADDRESS) instead of trying to figure out the right hostname<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:41:30)</span> <b>johnkn:</b></span> I'm just guessing here though.  I never work with mapfiles or GSI (or FS for that matter)<br/>
<span style="color: #4cc091"><span style="font-size: small">(16:43:56)</span> <b>blin:</b></span> yeah, i'm asking him to use the IP_ADDRESS for now<br/>
</blockquote>
<span style="color: #9f69e7"><span style="font-size: small">(16:10:32)</span> <b>lmichael:</b></span> Unrelated/new thread: some of the DAGMan doc’n aroudn SCRIPTS is inaccurate or unclear …<br/>
<blockquote>
<span style="color: #9f69e7"><span style="font-size: small">(16:11:52)</span> <b>lmichael:</b></span> <pre>SCRIPT [DEFER status time] PRE [JobName | ALL_NODES] ExecutableName [arguments]</pre><br/>The text around it doesn’t clarify whether various items in brackets are required or optional - only explicitly noted for ‘arguments’ but an OSG school user was thinking they don’t have to specify a Job node name (or ALL_NODES), since those are bracketed.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(16:15:01)</span> <b>lmichael:</b></span> @coatsworth maybe<br/>
<span style="color: #674b1b"><span style="font-size: small">(16:25:08)</span> <b>coatsworth:</b></span> Hmmm, let me see if there's a better way of doing this. That's the syntax we've had in there forever but I agree it's a bit ambiguous.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(16:26:13)</span> <b>lmichael:</b></span> Even if the text could just make it clear what is required versus optional, that would be great. Right now, that’s also ambiguous.<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:27:15)</span> <b>johnkn:</b></span> square brackets mean optional most places. maybe just use () instead?<br/>
<span style="color: #674b1b"><span style="font-size: small">(2021-08-17 10:09:09)</span> <b>coatsworth:</b></span> Hey I've been thinking about this, how do you feel if I replace the square brackets with &lt; JobName | ALL_NODES &gt;? I typically use &lt;&gt; to denote required arguments, but I don't know if this is a common convention.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(2021-08-17 10:12:45)</span> <b>lmichael:</b></span> Go with whatever the convention is in the help pages for various condor commands.<br/>
<span style="color: #674b1b"><span style="font-size: small">(2021-08-17 10:18:26)</span> <b>coatsworth:</b></span> I couldn't find any examples in the man pages when I looked earlier, so I'll go with &lt;&gt; for now. If anybody gets confused it's easy to change later.<br/>
<span style="color: #235e5b"><span style="font-size: small">(2021-08-17 10:44:13)</span> <b>johnkn:</b></span> I think &lt;&gt; is normally used for symbolic names   i.e.  &lt;filename&gt;  , not as a grouping symbol.  so for &lt;JobName&gt; above sure.  but &lt;ALL_NODES&gt; would be wrong because that is the literal text you need to put there.<br/>
</blockquote>
<span style="color: #235e5b"><span style="font-size: small">(16:20:11)</span> <b>johnkn:</b></span> Looking for knob name suggestions.  We need a knob name for the <tt>Accountingnew.log</tt> That is, the place where the accountant persists both submitter info like userprio, and also accumulated usage info.  The parallel here is <tt>JOB_QUEUE_LOG</tt> which is where the Schedd persists job state.  but <tt>ACCOUNTANT_QUEUE_LOG</tt> seems ... wierd.<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:21:01)</span> <b>johnkn:</b></span> while <tt>ACCOUNTANT_LOG</tt> looks like the knob you use to specify the dprintf log file for an AccountantD<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:21:18)</span> <b>johnkn:</b></span> (not that we have one of those, but we probably should)<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:22:11)</span> <b>johnkn:</b></span> <tt>ACCOUNTING_NEW_LOG</tt> ? <tt>ACCOUNTING_STATE_LOG</tt> ?  <tt>ACCOUNTING_CLASSAD_LOG</tt> ?<br/>
<span style="color: #d58247"><span style="font-size: small">(16:22:57)</span> <b>gthain:</b></span> I'd almost want to change the knob to more closely match the meaning of the data instead of the file name, something like<br/>
<span style="color: #d58247"><span style="font-size: small">(16:23:03)</span> <b>gthain:</b></span> <tt>SUBMITTER_HISTORY</tt><br/>
<span style="color: #d58247"><span style="font-size: small">(16:23:18)</span> <b>gthain:</b></span> or <tt>SUBMITTER_HISTORY_LOG</tt><br/>
<span style="color: #d58247"><span style="font-size: small">(16:23:32)</span> <b>gthain:</b></span> or <tt>SUBMITTER_USAGE</tt><br/>
<span style="color: #235e5b"><span style="font-size: small">(16:23:57)</span> <b>johnkn:</b></span> It's more state than history, but yeah.<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:24:05)</span> <b>johnkn:</b></span> <tt>SUBMITTER_USAGE_LOG</tt><br/>
<span style="color: #235e5b"><span style="font-size: small">(16:24:39)</span> <b>johnkn:</b></span> This has more than submitter state, though.  does that matter?<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:25:44)</span> <b>johnkn:</b></span> the other records are slot usage I think. not entirely sure<br/>
<span style="color: #d58247"><span style="font-size: small">(16:27:07)</span> <b>gthain:</b></span> <tt>SUBMITTER_AND_GROUPS_AND_OTHER_STUFF_LOG</tt> seems a bit wordy<br/>
<blockquote>
<span style="color: #2b6836"><span style="font-size: small">(16:28:24)</span> <b>jcpatton:</b></span> <tt>THE_HISTORY_OF_EVERYTHING_ACCORDING_TO_THE_NEGOTIATOR</tt><br/>
</blockquote>
<span style="color: #d58247"><span style="font-size: small">(16:27:37)</span> <b>gthain:</b></span> Ideally, I'd like to be able to rename this file<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:27:43)</span> <b>johnkn:</b></span> <tt>ACCOUNTING_USAGE_LOG</tt> ?<br/>
<span style="color: #d58247"><span style="font-size: small">(16:27:45)</span> <b>gthain:</b></span> get rid of the "new"<br/>
<span style="color: #d58247"><span style="font-size: small">(16:28:14)</span> <b>gthain:</b></span> I'm somewhat sensitive to the word "Accounting" here, as it has thrown off some users recently<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:28:36)</span> <b>johnkn:</b></span> and yet we call these Accounting ads when we send them to the collector.<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:28:48)</span> <b>johnkn:</b></span> submitter ads are owned by the schedd<br/>
<span style="color: #d58247"><span style="font-size: small">(16:28:54)</span> <b>gthain:</b></span> who believe that 'Accounting' records would be more like a general ledger, with each credit and debit logged, not the running balance<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:29:51)</span> <b>johnkn:</b></span> I guess I'm OK with <tt>NEGOTIATOR_USAGE_LOG</tt> except we really would like to split the accountant out of the negotiator someday<br/>
<span style="color: #2b6836"><span style="font-size: small">(16:30:40)</span> <b>jcpatton:</b></span> the accumulatord<br/>
</body>
</html>
