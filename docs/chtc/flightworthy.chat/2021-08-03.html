<!DOCTYPE html>
<html>
<head>
<title>Tue Aug 3, 2021 : #flightworthy (chtc)</title>
</head>
<body>
<h3>Tue Aug 3, 2021 : #flightworthy (chtc)</h3>
<span style="color: #4cc091"><span style="font-size: small">(11:32:47)</span> <b>blin:</b></span> who gets <tt>get-htcondor</tt> tickets?<br/>
<span style="color: #4cc091"><span style="font-size: small">(11:36:38)</span> <b>blin:</b></span> anyway, ticket here <a href="https://opensciencegrid.atlassian.net/browse/HTCONDOR-623">https://opensciencegrid.atlassian.net/browse/HTCONDOR-623</a><br/>
<span style="color: #bb86b7"><span style="font-size: small">(11:37:42)</span> <b>tim:</b></span> @blin Todd Miller<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:38:17)</span> <b>tlmiller:</b></span> AFAIK, the last sentence of that ticket isn't true.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:38:56)</span> <b>tlmiller:</b></span> Also, FWIW, at least in the source, it's <tt>get_htcondor</tt>.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(11:41:10)</span> <b>tim:</b></span> Historically, we also built on SL7. So, yes, we have said that HTCondor works with SL7.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:41:29)</span> <b>tlmiller:</b></span> We don't currently.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(11:42:36)</span> <b>tim:</b></span> Now that we have Docker container, I could change that. I am thinking reinstating rhel as build containers because we have important customers that use rhel (not centos).<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:43:42)</span> <b>tlmiller:</b></span> That's fine; we explicitly say that we support RHEL.  We explicitly stopped supporting SL quite some time ago, IIRC.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:46:05)</span> <b>tlmiller:</b></span> If we want to start officially supporting SL again, that's not my decision to make.  But unless that's the decision, we -- or rather, <tt>get_htcondor</tt> -- shouldn't pretend that we do.  I'm not convinced that we want to make it easy to install to HTCondor on systems we don't support; even if we do, I think it would be better to make it a command-line option to specify which supported platform you'd like <tt>get_htcondor</tt> to pretend it's running on.<br/>
<span style="color: #4cc091"><span style="font-size: small">(11:47:16)</span> <b>blin:</b></span> oof, when did you guys stop supporting SL? OSG still supports SL so we missed that memo<br/>
<span style="color: #bb86b7"><span style="font-size: small">(11:47:30)</span> <b>tim:</b></span> I don't recall explicitly dropping support for SL7. OSG explicitly supports it. And we are all PAThy. So, we may have to support it.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:47:40)</span> <b>tlmiller:</b></span> It hasn't been on the list of supported platforms since at least 9.0.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:48:07)</span> <b>tlmiller:</b></span> I thought it went back much further than that, but I'd have to do some digging.<br/>
<span style="color: #4cc091"><span style="font-size: small">(11:48:54)</span> <b>blin:</b></span> seems weird to me to continue support for CentOS/RHEL 7 and drop SL7 but I'll let you guys sort that out<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:49:50)</span> <b>tlmiller:</b></span> We did not support any SL in 8.8.<br/>
<span style="color: #4cc091"><span style="font-size: small">(11:50:36)</span> <b>blin:</b></span> nobody tell Fermi<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:53:55)</span> <b>tlmiller:</b></span> Well, it sounds like we have something to discuss on Wednesday, then.<br/>
<span style="color: #99a949"><span style="font-size: small">(11:56:47)</span> <b>matyas:</b></span> you'll probably need to consider the various CentOS 8 relatives that have been popping up, too<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:57:29)</span> <b>tlmiller:</b></span> FWIW, it looks like the most recent build for SL7 was (early) October of 2019.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:57:36)</span> <b>tlmiller:</b></span> Which is a bit more recent than I'd expected.<br/>
<span style="color: #99a949"><span style="font-size: small">(12:00:21)</span> <b>matyas:</b></span> btw are there any links to instructions for setting up the RPM repos so you can install condor? everything I've seen points to the get_htcondor script<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:00:54)</span> <b>tlmiller:</b></span> ... <a href="https://htcondor.readthedocs.io/en/latest/getting-htcondor/from-our-repositories.html">https://htcondor.readthedocs.io/en/latest/getting-htcondor/from-our-repositories.html</a> ?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:01:40)</span> <b>tlmiller:</b></span> I dug up the 8.6 manual, in which we also did not support Scientific Linux.  [<a href="https://research.cs.wisc.edu/htcondor/manual/v8.6.13/1_5Availability.html">https://research.cs.wisc.edu/htcondor/manual/v8.6.13/1_5Availability.html</a>]<br/>
<span style="color: #99a949"><span style="font-size: small">(12:02:18)</span> <b>matyas:</b></span> thanks I could not find thta<br/>
<span style="color: #99a949"><span style="font-size: small">(12:02:40)</span> <b>matyas:</b></span> can someone add a TOC to the <a href="https://htcondor.readthedocs.io/en/v9_0/getting-htcondor/index.html">https://htcondor.readthedocs.io/en/v9_0/getting-htcondor/index.html</a> page with a links to the subpages?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:03:23)</span> <b>tlmiller:</b></span> You mean the one that's already there in the left-side column, where it always is?<br/>
<span style="color: #99a949"><span style="font-size: small">(12:03:42)</span> <b>matyas:</b></span> no the one that's in the middle of the page for every other top level page<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:04:06)</span> <b>tlmiller:</b></span> The useless two-level one?<br/>
<span style="color: #99a949"><span style="font-size: small">(12:04:17)</span> <b>matyas:</b></span> yes<br/>
<span style="color: #99a949"><span style="font-size: small">(12:04:22)</span> <b>matyas:</b></span> it is not useless<br/>
<span style="color: #99a949"><span style="font-size: small">(12:04:58)</span> <b>matyas:</b></span> because I totally did not think of having to click on the main get htcondor page and then having to _look back to the left_ <br/>
<span style="color: #674b1b"><span style="font-size: small">(12:05:13)</span> <b>coatsworth:</b></span> Agree it's not useless, that's the first place I look when I click on a top-level page.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:05:31)</span> <b>tlmiller:</b></span> Yes, but we want to you _read_ this page.<br/>
<span style="color: #99a949"><span style="font-size: small">(12:05:45)</span> <b>matyas:</b></span> I read the page and I did not find the link to what I was looking for<br/>
<span style="color: #99a949"><span style="font-size: small">(12:06:09)</span> <b>matyas:</b></span> I did not read the left again because it's only useful for jumping around pages<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:06:25)</span> <b>tlmiller:</b></span> Indeed!  As I was about to say, we even explicitly don't mention that page in the body text, because almost nobody who needs to look it up should actually be interested in it.<br/>
<span style="color: #99a949"><span style="font-size: small">(12:06:46)</span> <b>matyas:</b></span> wtf dude<br/>
<span style="color: #99a949"><span style="font-size: small">(12:07:08)</span> <b>matyas:</b></span> I did not know that page existed<br/>
<span style="color: #99a949"><span style="font-size: small">(12:07:22)</span> <b>matyas:</b></span> I did not know I had to go and read the left<br/>
<span style="color: #99a949"><span style="font-size: small">(12:07:57)</span> <b>matyas:</b></span> this resulted in me having to reverse-engineer get_htcondor so I could figure out where the repos were<br/>
<span style="color: #674b1b"><span style="font-size: small">(12:09:08)</span> <b>coatsworth:</b></span> I had the same problem when looking for Windows downloads, I wasn't looking at the left, I was looking in the main body of the page<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:09:14)</span> <b>tlmiller:</b></span> ToddT wanted to discourage people from using the repos directly.  (And that page doesn't event tell you where the repos are -- only where to get the repo packages.)<br/>
<span style="color: #684b6c"><span style="font-size: small">(12:09:16)</span> <b>bbockelman:</b></span> What left bar?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:09:39)</span> <b>tlmiller:</b></span> The Windows page is linked to from the body of the page.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:10:05)</span> <b>tlmiller:</b></span> As a user of Firefox, Brian, I can declare with authority that your browser sucks. :)<br/>
<span style="color: #99a949"><span style="font-size: small">(12:10:29)</span> <b>matyas:</b></span> it's not the browser<br/>
<span style="color: #99a949"><span style="font-size: small">(12:10:40)</span> <b>matyas:</b></span> if you make the window narrow enough, the left bar goes away<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:10:54)</span> <b>tlmiller:</b></span> Ah.  I did not know that.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:11:34)</span> <b>tlmiller:</b></span> That's... really not helpful to authors.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:12:48)</span> <b>tlmiller:</b></span> At any rate, I've told you what the reasoning was; if you want to change the page as a result, go change ToddT's mind (or ignore him and do it yourself, I guess).<br/>
<span style="color: #bb86b7"><span style="font-size: small">(12:15:05)</span> <b>tim:</b></span> I would have put something out there that you can just install our repo RPM and the EPEL repo RPM and then install condor. Todd T would prefer that people run the get_htcondor script in dry-run mode (I believe the default) and just copy and paste or puppetize the commands.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(12:16:00)</span> <b>tim:</b></span> At least the RPM repositories have definitions for the RC and daily repos. I am not sure how one installs from the daily repo for Debian or Ubuntu.<br/>
<span style="color: #99a949"><span style="font-size: small">(12:17:02)</span> <b>matyas:</b></span> do we have a daily repo for Ubuntu?<br/>
<span style="color: #bb86b7"><span style="font-size: small">(12:23:47)</span> <b>tim:</b></span> Yup<br/>
<span style="color: #bb86b7"><span style="font-size: small">(12:24:20)</span> <b>tim:</b></span> I really don't like that this stuff is implicitly hidden.<br/>
<span style="color: #5a4592"><span style="font-size: small">(12:55:41)</span> <b>tannenba:</b></span> Not True!  I have no problem with our install documentation including info on how to install "by hand" from our repos.  However, I stated I want that documentation generated from the output from get_htcondor as part of the manual (or website) build process.  This way, the instructions we give in the manual are *tested* and *kept up to date*, and we have *one canonical place* to keep it up to date.   We can (and now do, thanks to ToddM!) regularly test in an automated way that get_htcondor works.  If we derive our manual repo instructions from get_htcondor, then we know our docs actually will work for people.<br/><br/>p.s. the lack of navigation in the install instructions has burned me as well, due to my browser window being to narrow that the Table of Contents disappears....  plus agree it is hard to know you have to look at it...<br/>
<span style="color: #5a4592"><span style="font-size: small">(13:00:57)</span> <b>tannenba:</b></span> @tim @johnkn My understanding is the ETA for finishing the release punchlist for last week's release was yesterday.  Is there a new ETA?   I see some progress was made (tagged, manual updated), but still not done.... (e.g. no release announcement).<br/>
<span style="color: #5a4592"><span style="font-size: small">(13:02:26)</span> <b>tannenba:</b></span> Also, where does  the &lt;blessed&gt;Release Punchlist&lt;/blessed&gt; live?  Could we post it onto a private wiki page on htcondor-wiki ?   Thanks.<br/>
<span style="color: #99a949"><span style="font-size: small">(13:30:48)</span> <b>matyas:</b></span> @tannenba sounds good to me<br/>
<span style="color: #99a949"><span style="font-size: small">(13:31:18)</span> <b>matyas:</b></span> (the documentation thing I mean)<br/>
<span style="color: #bb86b7"><span style="font-size: small">(14:06:51)</span> <b>tim:</b></span> My day essentially ended when I left the HTCSS Dev meeting yesterday. Sorry, I unexpectedly had to cover and unexpected task yesterday, becuase Heather's son is in the hospital (When it rains, it pours) I'll have to new items on our web page up this afternoon.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(14:11:01)</span> <b>tim:</b></span> @tlmiller Does our get_htcondor script lay out how to install daily and RC builds for both RPM and deb distributions? I hear many complaints: "Why do I have to reverse engineer a script?" @tannenba. Perhaps, it is not apparent that the output of the script is the documentation. I will have to get the script a whirl and make comments/recommendations.<br/>
<span style="color: #684b6c"><span style="font-size: small">(14:30:59)</span> <b>bbockelman:</b></span> I think 'reverse engineering' the script is maybe not the right mental model.  Perhaps "script has some undocumented flags that spits out the repositories in a JSON object" is more approachable for integrating with the docs.<br/><br/>In the meantime, I think everyone is on the same page:  the top-level "Get HTCondor" page (<a href="https://htcondor.readthedocs.io/en/v9_0/getting-htcondor/index.html">https://htcondor.readthedocs.io/en/v9_0/getting-htcondor/index.html</a>) should have either an explicit subsection for experts or a sentence in the "Installing HTCondor on a Cluster" that contains a direct link to the existing repo page (<a href="https://htcondor.readthedocs.io/en/v9_0/getting-htcondor/from-our-repositories.html">https://htcondor.readthedocs.io/en/v9_0/getting-htcondor/from-our-repositories.html</a>) instead of relying on the potentially-hidden navigation bar.  Right?<br/>
<span style="color: #bb86b7"><span style="font-size: small">(15:55:32)</span> <b>tim:</b></span> @jfrey @tlmiller I've gotten a question about installed HTCondor on a Mac. Could we put a preview version of the 9.1.2 manual up? Would that help? Does the get_htcondor script needed to be updated on the server?<br/>
<span style="color: #9b3b45"><span style="font-size: small">(15:58:08)</span> <b>jfrey:</b></span> The get_htcondor script on the server is updated for macOS.<br/>
<span style="color: #9b3b45"><span style="font-size: small">(15:58:27)</span> <b>jfrey:</b></span> If they want a personal condor, they can follow the instructions for linux (run make-personal-from-tarball).<br/>
<span style="color: #9b3b45"><span style="font-size: small">(16:00:18)</span> <b>jfrey:</b></span> The root-based install directions are in the manual for the next release. They assume a template config file that’s also added in the next release.<br/>
<span style="color: #9b3b45"><span style="font-size: small">(16:08:51)</span> <b>jfrey:</b></span> Rather, the instructions rely on changes to a existing config template file.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(16:26:04)</span> <b>tim:</b></span> OK, thank you<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:09:43)</span> <b>tlmiller:</b></span> @tim Unless I'm dramatically misremembering something, <tt>get_htcondor</tt> is not intended to work with the daily or RC builds.  It would be (probably) be pretty trivial to add it as a power-user option, although that seems contrary to its (primary) design goal.  If we want to generate the install-from-repositories information automagically, then I guess it makes more sense (as ToddT suggests, to keep everything in one place).<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:10:28)</span> <b>tlmiller:</b></span> Given my understanding of how the daily and RC repos are supposed to work and what they're supposed to be used for, "many" people shouldn't be using them at all, much less complaining about them being deliberately obscure, so there may be another issue at work there.  (I have a vague recollection of "the OSG" _not_ wanting to use the daily repos, which I guess implies that some sites _are_; I don't know why they weren't given instructions when they were told to use the daily repos.)<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:10:33)</span> <b>tlmiller:</b></span> Note that <tt>get_htcondor</tt> and the current instructions both make use of the repo RPMs; I don't know if that counts as "by hand" or not.<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:10:35)</span> <b>tlmiller:</b></span> The automated smoke tests are stuck on a branch until I finish the rest of the work on that branch; they are not presently intended to run on every commit, although with only a little bit of scripting, they might be suitable for running every day.<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:12:44)</span> <b>tlmiller:</b></span> [Excuse me -- I should have said <tt>get-htcondor</tt> _was_ not intended."  We can change the intentions, of course.]<br/>
<span style="color: #99a949"><span style="font-size: small">(17:12:59)</span> <b>matyas:</b></span> @tlmiller I wanted to use the daily repos so I could build containers based on the daily condor build<br/>
<span style="color: #99a949"><span style="font-size: small">(17:14:02)</span> <b>matyas:</b></span> I was just using the yum repos, but when 9.0/9.1 came out, the locations of the yum repos changed and I had to read get-htcondor to figure out where they moved to<br/>
<span style="color: #bb86b7"><span style="font-size: small">(17:15:17)</span> <b>tim:</b></span> With the RPM that describes the YUM repos, you easily get daily and RC builds by adding --enablerepo to the yum command. There is not analog for the Debian/Ubuntu repos.<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:15:38)</span> <b>tlmiller:</b></span> I'm not trying to argue that our documentation is/was well-suited to your purpose, Mat, but there really shouldn't be that many people doing what you're doing.  I don't know what the usual way is, if there is one, to announce repository location changes.  Perhaps for the 9.2 release we could drop a note in the repo directory?<br/>
<span style="color: #99a949"><span style="font-size: small">(17:16:44)</span> <b>matyas:</b></span> there doesn't need to be an announcement, I just wanted to find in the docs where the new repos were, and I could only find documentation about get-htcondor<br/>
<span style="color: #bb86b7"><span style="font-size: small">(17:16:58)</span> <b>tim:</b></span> I thought of putting Debian and Ubuntu htcondor.list files with the main repo enabled and the RC and daily repos commented out. It would be trivial for an admin to edit the file and get daily and/or RC build.<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:17:30)</span> <b>tlmiller:</b></span> @tim Ah!  I'd completely forgotten about that.  Sorry.  Those options might have been intended to help testing; I don't recall.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(17:17:47)</span> <b>tim:</b></span> I agree with Mat, there should be documentation about our repositories and it is nowhere.<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:18:32)</span> <b>tlmiller:</b></span> If I do recall -- which seems likely the more I say, today :( -- there's no corresponding Debian/Ubuntu instructions because they don't have the equivalent of repo RPMs, so it's not just a matter of changing one name.<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:19:36)</span> <b>tlmiller:</b></span> I pointed Mat at documentation about <a href="https://htcondor.readthedocs.io/en/latest/getting-htcondor/from-our-repositories.html">our repositories</a> earlier.  It's (as far as I recall, deliberately) incomplete, but it is there.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(17:20:44)</span> <b>tim:</b></span> You're right. It is not as simple on Debian to get to the daily or RC repos. Whereas it is much easier to enable those repos on RPM distros.<br/>
<span style="color: #99a949"><span style="font-size: small">(17:22:07)</span> <b>matyas:</b></span> did <a href="https://research.cs.wisc.edu/htcondor/downloads.html">https://research.cs.wisc.edu/htcondor/downloads.html</a> use to have a link to the yum repos (<a href="https://research.cs.wisc.edu/htcondor/yum/">https://research.cs.wisc.edu/htcondor/yum/</a>) or am I misremembering?<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:23:07)</span> <b>tlmiller:</b></span> You are not misremembering; that went away as part of the "single place for installation instructions" quest.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(17:26:54)</span> <b>tim:</b></span> And actually, we should have download information for HTCondor-CE on that page as well.<br/>
<span style="color: #bb86b7"><span style="font-size: small">(17:28:15)</span> <b>tim:</b></span> The old download page retained download information for the prior release until is went out of support. However, there is no mention for 8.8 on that page. Just stable (9.0) and current (9.1).<br/>
<span style="color: #9e3997"><span style="font-size: small">(17:45:41)</span> <b>tlmiller:</b></span> Those were the specs I was given, but you're right; that's at least arguably a regression.<br/>
</body>
</html>
