<!DOCTYPE html>
<html>
<head>
<title>Tue Jul 20, 2021 : #general (osg)</title>
</head>
<body>
<h3>Tue Jul 20, 2021 : #general (osg)</h3>
<span style="color: #8469bc"><span style="font-size: small">(09:10:07)</span> <b>marki:</b></span> Are there any implications for OSG singularity containers with the Docker change discontinuing autobuilds for free accounts?<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:40:10)</span> <b>dweitzel:</b></span> @marki The scanner will pick up "pushed" updates to tags.  The user will need to push now rather than have an autobuild, or have github actions do the build and push.  But from the OSG side, the scanner will still pick up updates to docker containers.<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:42:55)</span> <b>dweitzel:</b></span> The scanner is what downloads containers and puts them in CVMFS.<br/>
<span style="color: #8469bc"><span style="font-size: small">(09:53:43)</span> <b>marki:</b></span> So it sounds like the scanner is keying off of new versions of an OSG-registered docker container. The "autobuild" which is going away for free accounts would create new docker containers whenever a GitHub-based dockerfile got updated, if I understand correctly. So now (assuming we don't upgrade our Docker plan) we have to go to docker hub to trigger the build of a new container when the dockerfile changes, no? OSG will then pick up the change...<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:16:54)</span> <b>dweitzel:</b></span> Yes, I believe that is correct.  You can also use github actions to mimic the same behavior as before with docker auto-build<br/>
<span style="color: #8469bc"><span style="font-size: small">(10:28:08)</span> <b>marki:</b></span> so in that case,  rather than docker hub watching for changes on github, github initiates an action on docker hub<br/>
<span style="color: #43761b"><span style="font-size: small">(10:29:25)</span> <b>blin:</b></span> yeah but you need to give your github repo the credentials for a user with write access to the docker hub repo<br/>
<span style="color: #43761b"><span style="font-size: small">(10:31:15)</span> <b>blin:</b></span> this is how we do it for OSG Software containers (<a href="https://opensciencegrid.org/technology/software/container-development-guide/#prepare-the-github-repository">https://opensciencegrid.org/technology/software/container-development-guide/#prepare-the-github-repository</a>) and here's the action template <a href="https://github.com/opensciencegrid/.github/blob/master/workflow-templates/build-sw-container.yml">https://github.com/opensciencegrid/.github/blob/master/workflow-templates/build-sw-container.yml</a><br/>
<span style="color: #5a4592"><span style="font-size: small">(12:35:01)</span> <b>lmichael:</b></span> So I’ve got a user (close-ish collaborator who had brought us many users) asking what options there are for automating transfers to jobs from an external file servers that are set up as Globus endpoints. They recently learned that Globus no longer supports http downloads from endpoints. What are our best options in that case, if trying to avoid the step of staging the data into <tt>/public</tt> (CVMFS)?<br/>
<blockquote>
<span style="color: #5a4592"><span style="font-size: small">(14:41:42)</span> <b>lmichael:</b></span> @blin User posted convo with Globus, which basically says:<br/><pre>&gt; Lastly is there any way to do a local transfer? that is Globus Server -&gt; Globus CLI<br/>&gt; much like the GCS 5 HTTP downloads but in an automated secure way? Or are the<br/>&gt; only options still only Globus server to Globus Server or Connect Personal?<br/><br/><br/>The Globus CLI has no such functionality at this time. It is possible<br/>for you to construct your own client application to do HTTPS downloads<br/>from a GCSv5.4 collection. We discuss this issue in our doc here:<br/><a href="https://docs.globus.org/globus-connect-server/v5.4/https-access-collections/">https://docs.globus.org/globus-connect-server/v5.4/https-access-collections/</a></pre><br/>See <a href="https://support.opensciencegrid.org/a/tickets/67649">https://support.opensciencegrid.org/a/tickets/67649</a><br/>
<span style="color: #43761b"><span style="font-size: small">(14:43:21)</span> <b>blin:</b></span> hrm. i'm not very familiar with all those "new Globus" terms so I'm not sure what any of it means offhand<br/>
<span style="color: #5a4592"><span style="font-size: small">(2021-07-22 15:04:20)</span> <b>lmichael:</b></span> @bbockelm ^^<br/>
</blockquote>
<span style="color: #5a4592"><span style="font-size: small">(12:35:13)</span> <b>lmichael:</b></span> Thinking @dweitzel @bbockelm, but I’ll take various input!<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:06:15)</span> <b>bbockelm:</b></span> That’s interesting. I thought downloading from HTTP was one of the core new features in the new version of Globus Connect?<br/>
<span style="color: #9f69e7"><span style="font-size: small">(13:07:48)</span> <b>mtwest2718:</b></span> Was there an announcement email for the European HTCondor meeting in September? It seems that registration opened two weeks ago. <a href="https://indico.cern.ch/event/1059494/registrations/74555/">https://indico.cern.ch/event/1059494/registrations/74555/</a><br/>
<blockquote>
<span style="color: #4ec0d6"><span style="font-size: small">(2021-07-21 14:48:52)</span> <b>jwatkins880:</b></span> Thanks for bringing this up! We've just updated the <a href="https://path-cc.io/events/HTCondorWeek-Europe/">event posting</a> on the PATh website, and are planning to promote on Twitter too<br/>
<span style="color: #9f69e7"><span style="font-size: small">(2021-07-21 16:21:31)</span> <b>mtwest2718:</b></span> Greg Thain replied to my email to the HTCondor list saying that the organizers are still sorting out the website and aspects of the program. I seem to have just found it early and open...<br/>
</blockquote>
<span style="color: #73769d"><span style="font-size: small">(13:22:38)</span> <b>tim.theisen:</b></span> I've only seen the "save the date" announcement: <a href="https://www-auth.cs.wisc.edu/lists/htcondor-world/2021/msg00013.shtml">https://www-auth.cs.wisc.edu/lists/htcondor-world/2021/msg00013.shtml</a><br/>
<span style="color: #9f69e7"><span style="font-size: small">(13:26:32)</span> <b>mtwest2718:</b></span> Well registration is open as is abstract submission.<br/>
</body>
</html>
