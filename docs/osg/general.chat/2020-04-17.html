<!DOCTYPE html>
<html>
<head>
<title>Fri Apr 17, 2020 : #general (osg)</title>
</head>
<body>
<h3>Fri Apr 17, 2020 : #general (osg)</h3>
<span style="color: #9e3997"><span style="font-size: small">(16:12:35)</span> <b>bbockelm:</b></span> <a href="https://arstechnica.com/gadgets/2020/04/caveat-emptor-smr-disks-are-being-submarined-into-unexpected-channels/">https://arstechnica.com/gadgets/2020/04/caveat-emptor-smr-disks-are-being-submarined-into-unexpected-channels/</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(16:13:03)</span> <b>bbockelm:</b></span> @lincoln - it seems the official response is "you bought cheap drives, what do you expect?"<br/>
<span style="color: #674b1b"><span style="font-size: small">(16:16:20)</span> <b>rynge:</b></span> At the minimum, it is dishonest labeling/marketing<br/>
<span style="color: #e96699"><span style="font-size: small">(16:16:30)</span> <b>lincoln:</b></span> ^<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:19:04)</span> <b>andrew.melo:</b></span> I dug through some of the related posts about it -- it appears the WD drives (outside of being mislabeled) also have a firmware error where if the non-SMR write buffer fills up it throws an error instead of throttling writes until the SMR areas can do their shingle stuff<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:20:21)</span> <b>andrew.melo:</b></span> The performance would still suck ass, but it wouldn't cause the drive to be kicked out ZFS pools<br/>
<span style="color: #e96699"><span style="font-size: small">(16:26:41)</span> <b>lincoln:</b></span> yeah<br/>
<span style="color: #e96699"><span style="font-size: small">(16:27:02)</span> <b>lincoln:</b></span> its one thing for it to be miserably slow, its another altogether to throw errors in dmesg and the OS otherwise thinks the disk is failing<br/>
<span style="color: #e96699"><span style="font-size: small">(16:33:05)</span> <b>lincoln:</b></span> i wonder if the various filesystem developers have to special case for various models of disk<br/>
<span style="color: #e96699"><span style="font-size: small">(16:34:03)</span> <b>lincoln:</b></span> i saw a neat talk by Ted Ts'o at Vault about optimizing ext for SMR<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:36:36)</span> <b>andrew.melo:</b></span> I'd bet that journaling filesystems want to do something to make the journals somewhere "fast" on spinning disks where they don't really care for an SSD<br/>
</body>
</html>
