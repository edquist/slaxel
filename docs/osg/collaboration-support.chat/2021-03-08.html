<!DOCTYPE html>
<html>
<head>
<title>Mon Mar 8, 2021 : #collaboration-support (osg)</title>
</head>
<body>
<h3>Mon Mar 8, 2021 : #collaboration-support (osg)</h3>
<span style="color: #c386df"><span style="font-size: small">(09:29:14)</span> <b>ruben.lara:</b></span> @marian: sorry for the delay. This is what I see on the <tt>osg-login1</tt>:<br/><pre>[root@osg-login1 ~]# condor_status -any | grep -i collector<br/>Collector          None               "GATech LIGO Cluster"@osg-sched.pace.gate</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(09:32:05)</span> <b>ruben.lara:</b></span> From the log file:<br/><pre>03/08/21 10:28:38 (pid:4215) Using negotiation protocol: NEGOTIATE<br/>03/08/21 10:28:38 (pid:4215) Negotiating for owner: <a href="mailto:bkhamesra3@osg-sched.pace.gatech.edu">bkhamesra3@osg-sched.pace.gatech.edu</a><br/>03/08/21 10:28:38 (pid:4215) Finished negotiating for bkhamesra3 in local pool: 0 matched, 0 rejecte<br/>d<br/>03/08/21 10:28:38 (pid:4215) SECMAN: FAILED: Received "DENIED" from server for user anonymous@osg-li<br/><a href="http://go-1.t2.ucsd.edu">go-1.t2.ucsd.edu</a> using method GSI.<br/>03/08/21 10:28:38 (pid:4215) ERROR: SECMAN:2010:Received "DENIED" from server for user anonymous@osg<br/>-<a href="http://ligo-1.t2.ucsd.edu">ligo-1.t2.ucsd.edu</a> using method GSI.|AUTHENTICATE:1004:Failed to authenticate using FS<br/>03/08/21 10:28:38 (pid:4215) Failed to start non-blocking update to &lt;169.228.130.104:9618&gt;.<br/>03/08/21 10:28:44 (pid:4215) SECMAN: FAILED: Received "DENIED" from server for user anonymous@osg-li<br/><a href="http://go-1.t2.ucsd.edu">go-1.t2.ucsd.edu</a> using method GSI.<br/>03/08/21 10:28:44 (pid:4215) ERROR: SECMAN:2010:Received "DENIED" from server for user anonymous@osg<br/>-<a href="http://ligo-1.t2.ucsd.edu">ligo-1.t2.ucsd.edu</a> using method GSI.|AUTHENTICATE:1004:Failed to authenticate using FS<br/>03/08/21 10:28:44 (pid:4215) Failed to start non-blocking update to &lt;169.228.130.104:9618&gt;.<br/>03/08/21 10:28:58 (pid:4215) Activity on stashed negotiator socket: &lt;130.207.168.187:10328&gt;</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(09:34:08)</span> <b>ruben.lara:</b></span> On <tt>osg-login2</tt>, there are these messages:<br/><pre>03/08/21 10:32:56 (pid:2825441) (D_ALWAYS) SECMAN: required authentication with collector <a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a> failed, so aborting command DC_START_TOKEN_REQUEST.<br/>03/08/21 10:32:56 (pid:2825441) (D_ALWAYS:2) Daemon::startTokenRequest() failed to start command for token request with remote daemon at '&lt;169.228.130.104:9618?alias=osg-ligo-1.t2.ucsd.edu&gt;'.<br/>03/08/21 10:32:56 (pid:2825441) (D_ALWAYS) Failed to request a new token: DAEMON:1:failed to start command for token request with remote daemon at '&lt;169.228.130.104:9618?alias=osg-ligo-1.t2.ucsd.edu&gt;'.|AUTHENTICATE:1003:Failed to authenticate with any method|AUTHENTICATE:1004:Failed to authenticate using GSI|GSI:5006:Failed to authenticate because the subject '/DC=org/DC=incommon/C=US/ST=California/L=La Jolla/O=University of California, San Diego/OU=UCSD/CN=<a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a>' is not currently trusted by you.  If it should be, add it to GSI_DAEMON_NAME or undefine GSI_DAEMON_NAME.|AUTHENTICATE:1004:Failed to authenticate using FS</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(10:16:57)</span> <b>marian:</b></span> good! @ruben.lara, that is helpful!<br/>
<span style="color: #53b759"><span style="font-size: small">(10:18:06)</span> <b>marian:</b></span> so the osg-login2 is not added to the trusted hosts on the collector at UCSD ...<br/>
<span style="color: #53b759"><span style="font-size: small">(10:19:28)</span> <b>marian:</b></span> for the osg-login1 I'm bit puzzled ...<br/>
<span style="color: #53b759"><span style="font-size: small">(10:20:37)</span> <b>marian:</b></span> that is doesn't accept connections to UCSD collector with "DENIED" status<br/>
<span style="color: #53b759"><span style="font-size: small">(10:23:47)</span> <b>marian:</b></span> can you, @ruben.lara, run this on the osg-login1, please?<br/>
<span style="color: #53b759"><span style="font-size: small">(10:23:51)</span> <b>marian:</b></span> <pre>openssl x509 -in <tt>condor_config_val GSI_DAEMON_CERT</tt> -noout -subject</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(10:25:45)</span> <b>marian:</b></span> another command to run:<br/><pre>condor_config_val CONDOR_HOST</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(10:53:36)</span> <b>ruben.lara:</b></span> <pre>[root@osg-login1 config.d]# openssl x509 -in <tt>condor_config_val GSI_DAEMON_CERT</tt> -noout -subject<br/>subject= /DC=org/DC=incommon/C=US/ST=Georgia/L=Atlanta/O=Georgia Institute of Technology/OU=Office of Information Technology/CN=<a href="http://osg-login1.pace.gatech.edu">osg-login1.pace.gatech.edu</a><br/>[root@osg-login1 config.d]# condor_config_val CONDOR_HOST<br/><a href="http://osg-sched.pace.gatech.edu">osg-sched.pace.gatech.edu</a></pre><br/>
<span style="color: #53b759"><span style="font-size: small">(11:01:00)</span> <b>marian:</b></span> ah, so it talks to that one, actually, as you posted previuosly<br/>
<span style="color: #c386df"><span style="font-size: small">(11:06:56)</span> <b>ruben.lara:</b></span> @marian just now, the condor jobs on <tt>osg-login2</tt> started flowing. From zero jobs (all nodes unclaimed) to<br/><pre>               Machines Owner Claimed Unclaimed Matched Preempting  Drain<br/><br/>  X86_64/LINUX    36285     0   34657      1625       0          3      0<br/><br/>         Total    36285     0   34657      1625       0          3      0</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(11:07:03)</span> <b>ruben.lara:</b></span> Did you change something?<br/>
<span style="color: #53b759"><span style="font-size: small">(11:07:27)</span> <b>marian:</b></span> nope, I did nothing yet<br/>
<span style="color: #53b759"><span style="font-size: small">(11:59:23)</span> <b>marian:</b></span> just noted about the the issue at our OSG standup and @bbockelm was interested in this particular issue ...<br/>
<span style="color: #53b759"><span style="font-size: small">(12:00:16)</span> <b>marian:</b></span> so to re-cap ... what makes me believe something have changed on the authentication side from the submit hosts is this collector errors from UCSD collector:<br/>
<span style="color: #53b759"><span style="font-size: small">(12:00:44)</span> <b>marian:</b></span> <pre>03/08/21 09:42:20 DC_AUTHENTICATE: required authentication of 194.171.96.6 failed: AUTHENTICATE:1003:Failed to authenticate with any method|AUTHENTICATE:1004:Failed to authenticate using GSI|GSI:5005:Failed to authenticate with client.  Client does not trust our certificate.  You may want to check the GSI_DAEMON_NAME in the condor_config|AUTHENTICATE:1004:Failed to authenticate using FS|FS:1004:Unable to lstat(/tmp/FS_XXXjvbZJv)<br/>03/08/21 09:42:22 PERMISSION DENIED to <a href="mailto:anonymous@osg-ligo-1.t2.ucsd.edu">anonymous@osg-ligo-1.t2.ucsd.edu</a> from host 130.207.168.70 for command 1 (UPDATE_SCHEDD_AD), access level ADVERTISE_SCHEDD: reason: cached result for ADVERTISE_SCHEDD; see first case for the full reason<br/>03/08/21 09:42:22 DC_AUTHENTICATE: Command not authorized, done!<br/>03/08/21 09:42:23 DC_AUTHENTICATE: required authentication of 128.61.254.78 failed: AUTHENTICATE:1003:Failed to authenticate with any method|AUTHENTICATE:1004:Failed to authenticate using FS|FS:1004:Unable to lstat(/tmp/FS_XXXyrHAY6)|AUTHENTICATE:1004:Failed to authenticate using IDTOKENS</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(12:01:37)</span> <b>ruben.lara:</b></span> What is the proper authentication method to use? PASSWORD,IDTOKENS,FS,GSI?<br/>
<span style="color: #53b759"><span style="font-size: small">(12:02:30)</span> <b>marian:</b></span> the three IPs listed above seem proberly added to the condormap file with their respective DNs ... these are the following hosts:<br/>1000] root@osg-ligo-1 ~# host 194.171.96.6<br/>6.96.171.194.in-addr.arpa domain name pointer <a href="http://stro.nikhef.nl">stro.nikhef.nl</a>.<br/>[1001] root@osg-ligo-1 ~# host 130.207.168.70<br/>70.168.207.130.in-addr.arpa domain name pointer <a href="http://osg-login1.pace.gatech.edu">osg-login1.pace.gatech.edu</a>.<br/>[1001] root@osg-ligo-1 ~# host 128.61.254.78<br/>78.254.61.128.in-addr.arpa domain name pointer <a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a>.<br/>
<span style="color: #53b759"><span style="font-size: small">(12:02:58)</span> <b>marian:</b></span> this is set on the collector side:<br/>
<span style="color: #53b759"><span style="font-size: small">(12:03:00)</span> <b>marian:</b></span> <pre>condor_config_val SEC_DEFAULT_AUTHENTICATION_METHODS<br/>IDTOKEN, ,FS,GSI</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(12:03:07)</span> <b>marian:</b></span> can you run same on the login node?<br/>
<span style="color: #c386df"><span style="font-size: small">(12:04:04)</span> <b>ruben.lara:</b></span> <pre>[root@osg-login1 config.d]# condor_config_val SEC_DEFAULT_AUTHENTICATION_METHODS<br/>,FS,GSI, PASSWORD, FS</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(12:04:16)</span> <b>ruben.lara:</b></span> And from the new server:<br/><pre>[root@osg-login2 config.d]# condor_config_val SEC_DEFAULT_AUTHENTICATION_METHODS<br/>IDTOKENS,FS,PASSWORD,GSI</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(12:04:28)</span> <b>marian:</b></span> ah, interesting ...<br/>
<span style="color: #53b759"><span style="font-size: small">(12:04:39)</span> <b>marian:</b></span> login2 is new host? did it ever worked?<br/>
<span style="color: #c386df"><span style="font-size: small">(12:06:12)</span> <b>ruben.lara:</b></span> Yes, new node, and no, it hasn’t. We are still trying to make it work.<br/>
<span style="color: #53b759"><span style="font-size: small">(12:06:51)</span> <b>marian:</b></span> ah, ok ... but osg-login1 should work then<br/>
<span style="color: #c386df"><span style="font-size: small">(12:06:56)</span> <b>ruben.lara:</b></span> Yes.<br/>
<span style="color: #53b759"><span style="font-size: small">(12:07:09)</span> <b>marian:</b></span> and you'd be taking working configs from there to osg-login2<br/>
<span style="color: #c386df"><span style="font-size: small">(12:07:51)</span> <b>ruben.lara:</b></span> Yes. There’s one file, though, that exists on osg-login2 but not on login1: <tt>/etc/condor/config.d/80-osg-flocking.conf</tt><br/>
<span style="color: #c386df"><span style="font-size: small">(12:08:39)</span> <b>ruben.lara:</b></span> we have no reference values for that file. Note that login1 is using OSG 3.4; login2 is using OSG 3.5.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:23:57)</span> <b>bbockelm:</b></span> Simple question - do you know _which_ authorization Edgar setup for login2?  Just want to know if we should be trying to tackle a GSI issue or a IDTOKENS issue.  One easy way to tell is whether there's a token in /etc/condor/tokens.d that you guys placed there.<br/>
<span style="color: #53b759"><span style="font-size: small">(12:32:05)</span> <b>marian:</b></span> btw, not sure osg-login2 is the one we should be debugging? it's replacment host afaik for osg-login1 but in the meantime osg-login1 stopped working ... those two should be identical, I heard from Pascal<br/>
<span style="color: #53b759"><span style="font-size: small">(12:32:53)</span> <b>marian:</b></span> reference host is osg-login1 in that point from where you're taking all the configs, but hey are apparently not identical on the two hosts<br/>
<span style="color: #c386df"><span style="font-size: small">(12:33:07)</span> <b>ruben.lara:</b></span> We want to move all production to osg-login2, so that’s the main one we want to make sure works.<br/>
<span style="color: #53b759"><span style="font-size: small">(12:33:28)</span> <b>marian:</b></span> ok<br/>
<span style="color: #c386df"><span style="font-size: small">(12:34:24)</span> <b>ruben.lara:</b></span> Searching in old Slack logs, found this:<br/><pre>[root@osg-login2 config.d]# grep PASSWORD /etc/condor/config.d/80-osg-flocking.conf <br/>#SEC_PASSWORD_FILE = /etc/condor/pool_password<br/>SEC_DEFAULT_AUTHENTICATION_METHODS = FS,PASSWORD<br/>SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION = TRUE<br/>SEC_ENABLE_MATCH_PASSWORD_AUTHENTICATION = TRUE</pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(12:41:01)</span> <b>bbockelm:</b></span> What about <tt>/etc/condor/tokens.d</tt>?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:41:14)</span> <b>bbockelm:</b></span> (apologies - I'm multitasking on a meeting, may be slow to respond)<br/>
<span style="color: #a63024"><span style="font-size: small">(12:41:21)</span> <b>paschos:</b></span> reading backscroll<br/>
<span style="color: #a63024"><span style="font-size: small">(12:41:39)</span> <b>paschos:</b></span> sorry i was on focusisng on another item<br/>
<span style="color: #c386df"><span style="font-size: small">(12:42:04)</span> <b>ruben.lara:</b></span> <tt>/etc/condor/tokens.d</tt> is empty.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:42:59)</span> <b>bbockelm:</b></span> Ok, great!  That narrows it down to GSI.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:44:58)</span> <b>bbockelm:</b></span> what's the value of <tt>SEC_DEFAULT_AUTHENTICATION_METHODS</tt>?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:45:54)</span> <b>bbockelm:</b></span> Actually, to double-check, what about:<br/><pre>condor_config_val -dump AUTHENTICATION_METHODS</pre><br/>That'll cover more obscure settings.<br/>
<span style="color: #a63024"><span style="font-size: small">(12:46:59)</span> <b>paschos:</b></span> @marian do we have a ticket for this: “osg-login2 is not added to the trusted hosts on the collector at UCSD “?<br/>
<span style="color: #53b759"><span style="font-size: small">(12:50:57)</span> <b>marian:</b></span> I added osg-login2 to the collector now<br/>
<span style="color: #53b759"><span style="font-size: small">(12:51:11)</span> <b>marian:</b></span> and last week to the frontend config<br/>
<span style="color: #53b759"><span style="font-size: small">(12:53:34)</span> <b>marian:</b></span> @bbockelm, this is what @ruben.lara posted previously:<br/>
<span style="color: #53b759"><span style="font-size: small">(12:53:37)</span> <b>marian:</b></span> <pre>[root@osg-login2 config.d]# condor_config_val SEC_DEFAULT_AUTHENTICATION_METHODS<br/>IDTOKENS,FS,PASSWORD,GSI</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(12:54:12)</span> <b>marian:</b></span> though, running <tt>condor_config_val -dump AUTHENTICATION_METHODS</tt> would give bigger output<br/>
<span style="color: #c386df"><span style="font-size: small">(12:54:53)</span> <b>ruben.lara:</b></span> <pre>[root@osg-login2 config.d]# condor_config_val -dump AUTHENTICATION_METHODS<br/># Configuration from machine: <a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a><br/><br/># Parameters with names that match AUTHENTICATION_METHODS:<br/>NEGOTIATOR.SEC_CLIENT_AUTHENTICATION_METHODS = PASSWORD<br/>SEC_DAEMON_AUTHENTICATION_METHODS = $(SEC_DEFAULT_AUTHENTICATION_METHODS)<br/>SEC_DEFAULT_AUTHENTICATION_METHODS = FS,PASSWORD<br/>SEC_NEGOTIATOR_AUTHENTICATION_METHODS = $(SEC_DEFAULT_AUTHENTICATION_METHODS)<br/># Contributing configuration file(s):<br/>#	/etc/condor/condor_config<br/>#	/etc/condor/config.d/00-batch_gahp_blahp.config<br/>#	/etc/condor/config.d/00-restart_peaceful.config<br/>#	/etc/condor/config.d/00_gwms_general.config<br/>#	/etc/condor/config.d/02_gwms_schedds.config<br/>#	/etc/condor/config.d/03_gwms_local.config<br/>#	/etc/condor/config.d/10-base.conf<br/>#	/etc/condor/config.d/50-password-auth.conf<br/>#	/etc/condor/config.d/80-osg-flocking.conf<br/>#	/etc/condor/config.d/90_gwms_dns.config<br/>#	/etc/condor/config.d/99-submit-local.conf<br/>#	/etc/condor/config.d/99_gratia-gwms.conf<br/>#	/etc/condor/config.d/99_gratia.conf<br/>#	/etc/condor/condor_config.local</pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(13:02:03)</span> <b>bbockelm:</b></span> Ok - I think, for <tt>80-osg-flocking.conf</tt>, you want:<br/><pre>SEC_DEFAULT_AUTHENTICATION_METHODS = FS,GSI,PASSWORD</pre><br/>instead<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:02:46)</span> <b>bbockelm:</b></span> Also I'd check:<br/><pre>rpm -qf /etc/condor/config.d/80-osg-flocking.conf</pre><br/>to see if that file is "owned" by an RPM (not sure if that's from an RPM or Ansible)<br/>
<span style="color: #c386df"><span style="font-size: small">(13:04:37)</span> <b>ruben.lara:</b></span> <pre>[root@osg-login2 config.d]# rpm -qf /etc/condor/config.d/80-osg-flocking.conf<br/>osg-flock-1.3-1.osg35.el7.noarch</pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(13:05:46)</span> <b>bbockelm:</b></span> Ok!  I'll double-check with Mats to see if there's changes.  In the meantime, instead of clobbering the <tt>80-osg-flocking.conf</tt> value, I'd suggest tweaking that setting in <tt>99-submit-local.conf</tt><br/>
<span style="color: #c386df"><span style="font-size: small">(13:10:09)</span> <b>ruben.lara:</b></span> Ok. thanks.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:10:56)</span> <b>bbockelm:</b></span> Once the reconfig is done, Marian should see a change in his logs on the collector-side.<br/>
<span style="color: #53b759"><span style="font-size: small">(13:15:07)</span> <b>marian:</b></span> also, check the SchedLog then again, @ruben.lara ... so far I'm seeing on the collector side:<br/><pre>03/08/21 11:12:08 DC_AUTHENTICATE: required authentication of 128.61.254.78 failed: AUTHENTICATE:1003:Failed to authenticate with any method|AUTHENTICATE:1004:Failed to authenticate using GSI|GSI:5005:Failed to authenticate with client.  Client does not trust our certificate.  You may want to check the GSI_DAEMON_NAME in the condor_config|AUTHENTICATE:1004:Failed to authenticate using FS|FS:1004:Unable to lstat(/tmp/FS_XXXbzHdLi)</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(13:16:57)</span> <b>marian:</b></span> you can post what is in your condormapfile, too, run:<br/><pre>cat <tt>condor_config_val CERTIFICATE_MAPFILE</pre></tt><br/>
<span style="color: #53b759"><span style="font-size: small">(13:17:00)</span> <b>marian:</b></span> from osg-login2<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:17:44)</span> <b>bbockelm:</b></span> Ah, this is good progress:<br/><pre>Client does not trust our certificate.</pre><br/>That suggests either (a) CA certs or (b) fetch-crl needs to be run.<br/>
<span style="color: #c386df"><span style="font-size: small">(13:21:05)</span> <b>ruben.lara:</b></span> <pre>[root@osg-login2 config.d]# cat <tt>condor_config_val CERTIFICATE_MAPFILE</tt><br/>GSI "^\/DC\=org\/DC\=opensciencegrid\/O\=Open\ Science\ Grid\/OU\=Services\/CN\=osg\-ligo\-1\.t2\.ucsd\.edu$" condor<br/>GSI "^\/DC\=org\/DC\=opensciencegrid\/O\=Open\ Science\ Grid\/OU\=Services\/CN\=pilot\/osg\-ligo\-1\.t2\.ucsd\.edu$" pilot<br/>GSI "^\/DC\=org\/DC\=incommon\/C\=US\/ST\=CA\/L\=La\ Jolla\/O\=University\ of\ California\,\ San\ Diego\/OU\=UCSD\/CN\=osg\-ligo\-1\.t2\.ucsd\.edu$" pilot<br/>GSI (.*) anonymous<br/>FS (.*) \1</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(13:25:02)</span> <b>ruben.lara:</b></span> I’m getting these messages on the <tt>SchedLog</tt> file:<br/><pre>03/08/21 14:24:08 (D_ALWAYS) Failed to request a new token: DAEMON:1:failed to start command for token request with remote daemon at '&lt;169.228.130.104:9618?alias=osg-ligo-1.t2.ucsd.edu&gt;'.|SECMAN:2009:DENIED authorization of server '<a href="mailto:anonymous@osg-login2.pace.gatech.edu">anonymous@osg-login2.pace.gatech.edu</a>/169.228.130.104' (I am acting as the client): reason: CLIENT authorization policy denies IP address 169.228.130.104.</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(13:25:25)</span> <b>marian:</b></span> ah, good, more of progress<br/>
<span style="color: #c386df"><span style="font-size: small">(13:26:01)</span> <b>ruben.lara:</b></span> That’s after I changed the authentication methods to this:<br/><pre>SEC_DEFAULT_AUTHENTICATION_METHODS = FS,GSI,PASSWORD</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(13:26:14)</span> <b>marian:</b></span> but, <tt>Failed to request a new token:</tt> ... why token<br/>
<span style="color: #53b759"><span style="font-size: small">(13:27:04)</span> <b>marian:</b></span> and fetch-crl?<br/>
<span style="color: #53b759"><span style="font-size: small">(13:29:24)</span> <b>marian:</b></span> maybe also check if <tt>fetch-crl</tt> is installed?<br/>
<span style="color: #c386df"><span style="font-size: small">(13:30:26)</span> <b>ruben.lara:</b></span> It is.<br/><pre>[root@osg-login2 config.d]# rpm -qa | grep fetch<br/>fetch-crl-3.0.19-2.el7.noarch</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(13:34:55)</span> <b>ruben.lara:</b></span> Found this error related to fetch-crl: <tt>ERROR CRL retrieval for INFN-CA-2015 failed. 24h grace expired. CRL not updated</tt><br/>
<span style="color: #53b759"><span style="font-size: small">(13:40:15)</span> <b>marian:</b></span> that's ok<br/>
<span style="color: #53b759"><span style="font-size: small">(13:44:26)</span> <b>marian:</b></span> now seeing on the collector side:<br/><pre>03/08/21 11:41:42 PERMISSION DENIED to <a href="mailto:anonymous@osg-ligo-1.t2.ucsd.edu">anonymous@osg-ligo-1.t2.ucsd.edu</a> from host 128.61.254.78 for command 1 (UPDATE_SCHEDD_AD), access level ADVERTISE_SCHEDD: reason: ADVERTISE_SCHEDD authorization policy denies IP address 128.61.254.78</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(13:44:52)</span> <b>marian:</b></span> (I restarted condor)<br/>
<span style="color: #c386df"><span style="font-size: small">(13:47:27)</span> <b>ruben.lara:</b></span> Getting something similar on this end:<br/><pre>SchedLog:03/08/21 14:24:08 (D_ALWAYS) Failed to request a new token: DAEMON:1:failed to start command for token request with remote daemon at '&lt;169.228.130.104:9618?alias=osg-ligo-1.t2.ucsd.edu&gt;'.|SECMAN:2009:DENIED authorization of server '<a href="mailto:anonymous@osg-login2.pace.gatech.edu">anonymous@osg-login2.pace.gatech.edu</a>/169.228.130.104' (I am acting as the client): reason: CLIENT authorization policy denies IP address 169.228.130.104.</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(13:50:15)</span> <b>ruben.lara:</b></span> Could this be the cause?<br/><pre>80-osg-flocking.conf:DENY_CLIENT        = anonymous@*</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(13:50:49)</span> <b>ruben.lara:</b></span> I see no allow entry anywhere else.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:53:28)</span> <b>bbockelm:</b></span> @marian - it might be a good idea to pull in Mats Rynge.  We can fix the above item that @ruben.lara notes but it's unclear why that <tt>DENY_CLIENT</tt> is there in the first place.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:53:58)</span> <b>bbockelm:</b></span> @ruben.lara - just to see where the thread goes, you can also set <tt>DENY_CLIENT =</tt> (empty string) in the <tt>99-submit-local.conf</tt><br/>
<span style="color: #53b759"><span style="font-size: small">(13:56:15)</span> <b>marian:</b></span> @rynge, pulling you in, welcome!<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:59:43)</span> <b>rynge:</b></span> Cool! Will look in ~30 minutes<br/>
<span style="color: #c386df"><span style="font-size: small">(14:00:24)</span> <b>ruben.lara:</b></span> The messages have changed slightly:<br/><pre>03/08/21 14:59:43 (D_SECURITY) SECMAN: resuming command 1 UPDATE_SCHEDD_AD to collector <a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a> from TCP port 7446 (non-blocking).<br/>03/08/21 14:59:43 (D_ALWAYS) SECMAN: FAILED: Received "DENIED" from server for user <a href="mailto:anonymous@osg-ligo-1.t2.ucsd.edu">anonymous@osg-ligo-1.t2.ucsd.edu</a> using method GSI.<br/>03/08/21 14:59:43 (D_ALWAYS) ERROR: SECMAN:2010:Received "DENIED" from server for user <a href="mailto:anonymous@osg-ligo-1.t2.ucsd.edu">anonymous@osg-ligo-1.t2.ucsd.edu</a> using method GSI.<br/>03/08/21 14:59:43 (D_ALWAYS) Collector update failed; will try to get a token request for trust domain <a href="http://condor-osg.ligo.caltech.edu">condor-osg.ligo.caltech.edu</a>, identity (default).<br/>03/08/21 14:59:43 (D_ALWAYS:2) Will use TCP to update collector <a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a> &lt;169.228.130.104:9618?alias=osg-ligo-1.t2.ucsd.edu&gt;<br/>03/08/21 14:59:43 (D_ALWAYS) Failed to start non-blocking update to &lt;169.228.130.104:9618&gt;.</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(14:00:38)</span> <b>ruben.lara:</b></span> At least it’s not complaining about a token.<br/>
<span style="color: #c386df"><span style="font-size: small">(14:10:13)</span> <b>ruben.lara:</b></span> Those are basically the same messages we are seeing on osg-login1, BTW.<br/>
<span style="color: #53b759"><span style="font-size: small">(14:14:31)</span> <b>marian:</b></span> ok, I think there is even bigger issue besides this one ... I logged in to supposedly running frontend pod and checked status of the frontend from within<br/>
<span style="color: #53b759"><span style="font-size: small">(14:14:34)</span> <b>marian:</b></span> <pre>[root@vo-frontend-igwn-74ddc5bf5d-mfdnk /]# supervisorctl status frontend<br/>frontend                         FATAL     Exited too quickly (process log may have details)</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(14:14:53)</span> <b>marian:</b></span> that's on tiger, @bbockelm<br/>
<span style="color: #53b759"><span style="font-size: small">(14:16:29)</span> <b>marian:</b></span> inspecting last 5000 bytes of the logs it gives (last lines):<br/>
<span style="color: #53b759"><span style="font-size: small">(14:16:33)</span> <b>marian:</b></span> <pre>IOError: [Errno 2] No such file or directory: '/var/lib/gwms-frontend/vofrontend/frontend.descript'<br/>Traceback (most recent call last):<br/>  File "/usr/sbin/glideinFrontend", line 630, in &lt;module&gt;<br/>    main(sys.argv[1], action)<br/>  File "/usr/sbin/glideinFrontend", line 518, in main<br/>    frontendDescript = glideinFrontendConfig.FrontendDescript(work_dir)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/frontend/glideinFrontendConfig.py", line 162, in __init__<br/>    repr) # convert everything in strings<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/frontend/glideinFrontendConfig.py", line 77, in __init__<br/>    self.load(os.path.join(config_dir, config_file), convert_function, validate)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/frontend/glideinFrontendConfig.py", line 99, in load<br/>    with self.open(fname) as fd:<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/frontend/glideinFrontendConfig.py", line 86, in open<br/>    return open(fname, "r")</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(14:29:12)</span> <b>ruben.lara:</b></span> ok. I remain on standby.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:36:01)</span> <b>bbockelm:</b></span> @marian - let's do one thing at a time.  For the CM, it sounds like the certificate from osg-login-2 isn't being mapped.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:36:46)</span> <b>bbockelm:</b></span> <pre>03/08/21 14:59:43 (D_ALWAYS) SECMAN: FAILED: Received "DENIED" from server for user <a href="mailto:anonymous@osg-ligo-1.t2.ucsd.edu">anonymous@osg-ligo-1.t2.ucsd.edu</a> using method GSI.</pre><br/>Is <tt>GSI_DAEMON_NAME</tt> set?  Is the GA Tech DN in the mapfile?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:37:47)</span> <b>bbockelm:</b></span> (Marian - for the frontend, it might be useful to simply restart the pod and see if it comes up cleanly.  If not, then we can debug the problem)<br/>
<span style="color: #c386df"><span style="font-size: small">(14:41:06)</span> <b>ruben.lara:</b></span> This is what we have on this end:<br/><pre>OSG_FLOCK_DN = /DC=org/DC=incommon/C=US/postalCode=53706/ST=WI/L=Madison/street=1210 West Dayton Street/O=University of Wisconsin-Madison/OU=OCIS/CN=<a href="http://flock.opensciencegrid.org">flock.opensciencegrid.org</a>, /DC=org/DC=incommon/C=US/ST=WI/L=Madison/O=University of Wisconsin-Madison/OU=OCIS/CN=<a href="http://flock.opensciencegrid.org">flock.opensciencegrid.org</a><br/>GSI_DAEMON_NAME = $(GSI_DAEMON_NAME), $(OSG_FLOCK_DN)</pre><br/>
<span style="color: #674b1b"><span style="font-size: small">(14:41:36)</span> <b>rynge:</b></span> Trying to catch up - what is the goal for this setup?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:42:37)</span> <b>bbockelm:</b></span> @rynge - this is a submit host at GA Tech trying to flock to the IGWN central manager run by Marian.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:43:14)</span> <b>bbockelm:</b></span> Edgar didn't 100% have it working at the end of the month so it's not precisely clear to me what path he was trying to go down -- I think he meant to have GSI auth working.<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:43:34)</span> <b>rynge:</b></span> but now we want tokens?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:43:36)</span> <b>bbockelm:</b></span> @ruben.lara - thanks for the info.  However, I think the problem is at the remote side.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:43:55)</span> <b>bbockelm:</b></span> As far as I can tell, we didn't start with tokens ... I'd prefer to get GSI working first if that's mostly setup.<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:44:11)</span> <b>rynge:</b></span> Ok<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:44:24)</span> <b>bbockelm:</b></span> oh!  Before I get any farther - @ruben.lara what's the output of <tt>condor_version</tt>?<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:45:03)</span> <b>rynge:</b></span> Did we check the issuer on that incommon cert? If you have the wrong one, there will not be a matching CA<br/>
<span style="color: #53b759"><span style="font-size: small">(14:46:30)</span> <b>marian:</b></span> yeah, I think if you scroll back we noted what DN we're trying to map<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:47:03)</span> <b>bbockelm:</b></span> @rynge - I don't think it's a CA issuer issue because then the authentication would fail outright instead of failure to map, no?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:47:29)</span> <b>bbockelm:</b></span> @marian - what's <tt>GSI_DAEMON_NAME</tt> set to on the collector?  If it's set then I'm not sure if the authfile is invoked?<br/>
<span style="color: #53b759"><span style="font-size: small">(14:47:33)</span> <b>marian:</b></span> can you remind me, on the collector side, do we need besides DNs in condor_mapfile also all DNs in the GSI_DAEMON_NAME?<br/>
<span style="color: #53b759"><span style="font-size: small">(14:47:40)</span> <b>marian:</b></span> it's empty!<br/>
<span style="color: #53b759"><span style="font-size: small">(14:47:51)</span> <b>marian:</b></span> and that's suspiciuos<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:48:02)</span> <b>bbockelm:</b></span> Ah, if it's empty, don't set it... there's a number of different rules for when it's set.<br/>
<span style="color: #53b759"><span style="font-size: small">(14:48:20)</span> <b>marian:</b></span> ah, ok<br/>
<span style="color: #53b759"><span style="font-size: small">(14:48:22)</span> <b>marian:</b></span> <pre> condor_config_val -dump | grep GSI<br/>DELEGATE_FULL_JOB_GSI_CREDENTIALS = false<br/>DELEGATE_JOB_GSI_CREDENTIALS = true<br/>DELEGATE_JOB_GSI_CREDENTIALS_LIFETIME = 86400<br/>DELEGATE_JOB_GSI_CREDENTIALS_REFRESH = 0.25<br/>GSI_DAEMON_CERT = /etc/grid-security/hostcert.pem<br/>GSI_DAEMON_DIRECTORY =<br/>GSI_DAEMON_KEY = /etc/grid-security/hostkey.pem<br/>GSI_DAEMON_NAME =<br/>GSI_DAEMON_PROXY =<br/>GSI_DAEMON_TRUSTED_CA_DIR = /etc/grid-security/certificates<br/>GSI_SKIP_HOST_CHECK = true<br/>GSI_SKIP_HOST_CHECK_CERT_REGEX =<br/>SEC_DEFAULT_AUTHENTICATION_METHODS = ,FS,GSI, IDTOKEN</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(14:48:29)</span> <b>marian:</b></span> it's this on the collector side<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:48:44)</span> <b>bbockelm:</b></span> Ok - can you crank the log to <tt>D_FULLDEBUG,D_SECURITY</tt> on the collector side and see if you can capture the authorization failure?<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:48:44)</span> <b>rynge:</b></span> Do you have <tt>FLOCK_FROM</tt> defined?<br/>
<span style="color: #53b759"><span style="font-size: small">(14:49:03)</span> <b>marian:</b></span> sure I can, give me sec<br/>
<span style="color: #53b759"><span style="font-size: small">(14:49:54)</span> <b>marian:</b></span> no <tt>FLOCK_FROM</tt>, @rynge<br/>
<span style="color: #53b759"><span style="font-size: small">(14:49:57)</span> <b>marian:</b></span> on the collector<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:50:31)</span> <b>rynge:</b></span> On flock.osg, I have flocking hosts listed in two places. Once is <tt>FLOCK_FROM</tt>, and the second is in the map file<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:50:49)</span> <b>rynge:</b></span> <pre>FLOCK_FROM = <a href="http://SUBMIT.MIT.EDU">SUBMIT.MIT.EDU</a>, <a href="http://akbul.cyverse.org">akbul.cyverse.org</a>, ...</pre><br/><br/>
<span style="color: #674b1b"><span style="font-size: small">(14:51:08)</span> <b>rynge:</b></span> <pre>GSI "^/DC=org/DC=incommon/C=US/ST=MA/L=Cambridge/O=Massachusetts Institute of Technology/OU=Information Systems &amp; Technology/CN=submit\.mit\.edu$" MIT</pre><br/><br/>
<span style="color: #9e3997"><span style="font-size: small">(14:51:23)</span> <b>bbockelm:</b></span> Hm - I don't think that's the problem here.  It'd be better to see why the mapping is not successful.<br/>
<span style="color: #c386df"><span style="font-size: small">(14:54:04)</span> <b>ruben.lara:</b></span> If this is of any use:<br/><pre>03/08/21 15:53:06 (D_SECURITY) SECMAN: command 60047 DC_START_TOKEN_REQUEST to collector <a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a> from TCP port 6482 (blocking).<br/>03/08/21 15:53:06 (D_SECURITY) SECMAN: using session osg-ligo-1:18823:1615236694:10 for {&lt;169.228.130.104:9618?alias=osg-ligo-1.t2.ucsd.edu&gt;,&lt;60047&gt;}.<br/>03/08/21 15:53:06 (D_SECURITY) SECMAN: resume, other side is $CondorVersion: 8.9.11 Jan 07 2021 PackageID: 8.9.11-1 $, NOT reauthenticating.<br/>03/08/21 15:53:06 (D_SECURITY) SECMAN: successfully enabled message authenticator!<br/>03/08/21 15:53:06 (D_SECURITY) SECMAN: startCommand succeeded.<br/>03/08/21 15:53:06 (D_ALWAYS:2) condor_read(): Socket closed when trying to read 21 bytes from collector <a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a><br/>03/08/21 15:53:06 (D_ALWAYS:2) IO: EOF reading packet header<br/>03/08/21 15:53:06 (D_ALWAYS:2) FAILED to get number of expressions.<br/>03/08/21 15:53:06 (D_ALWAYS:2) Daemon::startTokenRequest() failed to recieve response from remote daemon at '&lt;169.228.130.104:9618?alias=osg-ligo-1.t2.ucsd.edu&gt;'</pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(14:55:16)</span> <b>bbockelm:</b></span> @ruben.lara - that's fine ffor now.  What's condor_version from your side?<br/><br/>@marian - I don't think I have a copy of the output of <tt>cat $(condor_config_val CERTIFICATE_MAPFILE)</tt> above?<br/>
<span style="color: #c386df"><span style="font-size: small">(14:56:50)</span> <b>ruben.lara:</b></span> <pre>[root@osg-login2 config.d]# rpm -qa | grep condor<br/>glideinwms-condor-common-config-3.7.2-1.osgup.el7.noarch<br/>condor-classads-8.9.11-1.osgup.el7.x86_64<br/>python2-condor-8.9.11-1.osgup.el7.x86_64<br/>gratia-probe-condor-1.20.14-1.osg35.el7.x86_64<br/>glideinwms-glidecondor-tools-3.7.2-1.osgup.el7.noarch<br/>htcondor-ce-client-5.0.0-1.osg35up.el7.noarch<br/>glideinwms-minimal-condor-3.7.2-1.osgup.el7.noarch<br/>condor-procd-8.9.11-1.osgup.el7.x86_64<br/>condor-8.9.11-1.osgup.el7.x86_64<br/>python3-condor-8.9.11-1.osgup.el7.x86_64</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(14:57:27)</span> <b>marian:</b></span> <pre>gSI "/DC=org/DC=incommon/C=US/ST=California/L=Pasadena/O=California Institute of Technology/OU=Laser Interferometer Gravitational-Wave Observatory/CN=<a href="http://condor-osg.ligo.caltech.edu">condor-osg.ligo.caltech.edu</a>" condor<br/>GSI "/DC=org/DC=incommon/C=US/ST=California/L=La Jolla/O=University of California, San Diego/OU=UCSD/CN=<a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a>" condor<br/>GSI "^\/DC\=org\/DC\=incommon\/C\=US\/ST\=GA\/L\=Atlanta\/O\=Georgia\ Institute\ of\ Technology\/OU\=Office\ of\ Information\ Technology\/CN\=osg\-login1\.pace\.gatech\.edu$" gatech<br/>GSI "^\/DC\=org\/DC\=incommon\/C\=US\/ST\=GA\/L\=Atlanta\/O\=Georgia\ Institute\ of\ Technology\/OU\=Office\ of\ Information\ Technology\/CN\=osg\-login2\.pace\.gatech\.edu$" gatech<br/>GSI "/DC=org/DC=terena/DC=tcs/C=NL/L=Amsterdam/O=Nikhef/CN=<a href="http://stro.nikhef.nl">stro.nikhef.nl</a>" nikhef<br/>GSI "^/DC=org/DC=incommon/C=US/ST=California/L=Pasadena/O=California Institute of Technology/OU=Laser Interferometer Gravitational-Wave Observatory/CN=<a href="http://ldas-osg.ligo.caltech.edu">ldas-osg.ligo.caltech.edu</a>" ldas-osg<br/>GSI "^/CN=<a href="http://submit-osg-dev.ligo.uwm.edu">submit-osg-dev.ligo.uwm.edu</a>" ldas-uwm<br/>GSI "^/DC=org/DC=incommon/C=US/ST=California/L=Pasadena/O=California Institute of Technology/OU=Laser Interferometer Gravitational-Wave Observatory/CN=<a href="http://ldas-osg.ligo-wa.caltech.edu">ldas-osg.ligo-wa.caltech.edu</a>" ldas-osg-wa<br/>GSI "^/DC=org/DC=incommon/C=US/ST=California/L=Pasadena/O=California Institute of Technology/OU=Laser Interferometer Gravitational-Wave Observatory/CN=<a href="http://ldas-osg.ligo-la.caltech.edu">ldas-osg.ligo-la.caltech.edu</a>" ldas-osg-la<br/>GSI "^/DC=org/DC=incommon/C=US/ST=GA/L=Atlanta/O=Georgia Institute of Technology/OU=Office of Information Technology/CN=<a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a>" gatech<br/>GSI (.*) anonymous<br/>FS (.*) \1<br/>TOKEN (.*) \1</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(14:57:57)</span> <b>marian:</b></span> last osg-login2 (without special formatting) I just tried to add 30mins aog<br/>
<span style="color: #53b759"><span style="font-size: small">(14:58:47)</span> <b>marian:</b></span> questionable is $ sign at the end in the previous<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:59:13)</span> <b>bbockelm:</b></span> This looks reasonable:<br/><pre>GSI "^\/DC\=org\/DC\=incommon\/C\=US\/ST\=GA\/L\=Atlanta\/O\=Georgia\ Institute\ of\ Technology\/OU\=Office\ of\ Information\ Technology\/CN\=osg\-login2\.pace\.gatech\.edu$" gatech</pre><br/>Unless someone can spot a problem?  @ruben.lara from your side, the DN is located at:<br/><tt>openssl x509 -in /etc/grid-security/hostcert.pem -noout -subject</tt><br/>
<span style="color: #53b759"><span style="font-size: small">(14:59:34)</span> <b>marian:</b></span> ok<br/>
<span style="color: #c386df"><span style="font-size: small">(14:59:54)</span> <b>ruben.lara:</b></span> <pre>[root@osg-login2 config.d]# openssl x509 -in /etc/grid-security/hostcert.pem -noout -subject<br/>subject= /DC=org/DC=incommon/C=US/ST=Georgia/L=Atlanta/O=Georgia Institute of Technology/OU=Office of Information Technology/CN=<a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a></pre><br/>
<span style="color: #53b759"><span style="font-size: small">(15:00:14)</span> <b>marian:</b></span> ouch<br/>
<span style="color: #53b759"><span style="font-size: small">(15:00:17)</span> <b>marian:</b></span> so it's different<br/>
<span style="color: #53b759"><span style="font-size: small">(15:00:30)</span> <b>marian:</b></span> ST=Georgia, not=GA<br/>
<span style="color: #9e3997"><span style="font-size: small">(15:01:10)</span> <b>bbockelm:</b></span> Rats.  The InCommon CA has a bad habit of changing that...<br/>
<span style="color: #53b759"><span style="font-size: small">(15:01:38)</span> <b>marian:</b></span> and I see I actually asked for it previously <tt>openssl x509 -in </tt>condor_config_val GSI_DAEMON_CERT<tt> -noout -subject</tt><br/>
<span style="color: #c386df"><span style="font-size: small">(15:01:48)</span> <b>ruben.lara:</b></span> The entry of osg-login2 is duplicate, BTW.<br/>
<span style="color: #53b759"><span style="font-size: small">(15:01:53)</span> <b>marian:</b></span> but didn't see the difference<br/>
<span style="color: #53b759"><span style="font-size: small">(15:02:09)</span> <b>marian:</b></span> yes, it's just my attempt to try it in different format<br/>
<span style="color: #53b759"><span style="font-size: small">(15:02:12)</span> <b>marian:</b></span> it shouldn't hurt<br/>
<span style="color: #53b759"><span style="font-size: small">(15:02:25)</span> <b>marian:</b></span> I'll edit loging2<br/>
<span style="color: #c386df"><span style="font-size: small">(15:03:11)</span> <b>ruben.lara:</b></span> the entry for osg-login1 is also “Georgia”:<br/><pre>[root@osg-login1 config.d]# openssl x509 -in /etc/grid-security/hostcert.pem -noout -subject<br/>subject= /DC=org/DC=incommon/C=US/ST=Georgia/L=Atlanta/O=Georgia Institute of Technology/OU=Office of Information Technology/CN=<a href="http://osg-login1.pace.gatech.edu">osg-login1.pace.gatech.edu</a></pre><br/>
<span style="color: #53b759"><span style="font-size: small">(15:04:21)</span> <b>marian:</b></span> I can see this:<br/>
<span style="color: #53b759"><span style="font-size: small">(15:04:24)</span> <b>marian:</b></span> <pre>03/08/21 13:03:43 ZKM: successful mapping to gatech<br/>03/08/21 13:03:43 ScheddAd     : Inserting ** "&lt; <a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a> , 128.61.254.78 &gt;"<br/>03/08/21 13:03:43 stats: Inserting new hashent for 'Schedd':'<a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a>':'128.61.254.78'<br/>03/08/21 13:03:43 Registered TCP socket from &lt;128.61.254.78:26557&gt; for updates.<br/>03/08/21 13:03:43 SubmittorAd  : Inserting ** "&lt; jclark308@osg-login2.pace.gatech.eduosg-login2.pace.gatech.edu , 128.61.254.78 &gt;"<br/>03/08/21 13:03:43 stats: Inserting new hashent for 'Submittor':'<a href="mailto:jclark308@osg-login2.pace.gatech.edu">jclark308@osg-login2.pace.gatech.edu</a>':'128.61.254.78'</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(15:04:31)</span> <b>marian:</b></span> ok, so osg-login2 solved<br/>
<span style="color: #53b759"><span style="font-size: small">(15:04:47)</span> <b>marian:</b></span> changing osg-login1 now<br/>
<span style="color: #c386df"><span style="font-size: small">(15:09:39)</span> <b>ruben.lara:</b></span> osg-login2 looks good now. No more errors about DENIED access to <a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a><br/>
<span style="color: #53b759"><span style="font-size: small">(15:11:06)</span> <b>marian:</b></span> good, there are still issues with osg-login1<br/>
<span style="color: #53b759"><span style="font-size: small">(15:11:10)</span> <b>marian:</b></span> I see:<br/>
<span style="color: #53b759"><span style="font-size: small">(15:11:12)</span> <b>marian:</b></span> <pre>03/08/21 13:09:57 condor_read(): Socket closed when trying to read 21 bytes from &lt;130.207.168.70:17851&gt;</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(15:12:45)</span> <b>marian:</b></span> btw, there is a mapping issue with other host: <a href="http://stro.nikhef.nl">stro.nikhef.nl</a> ... do we know whether they have changed cert?<br/>
<span style="color: #c386df"><span style="font-size: small">(15:15:24)</span> <b>ruben.lara:</b></span> @marian: can you see if there’s any difference? I added <tt>DENY_CLIENT=</tt>  to the 99-submit-local.conf file<br/>
<span style="color: #53b759"><span style="font-size: small">(15:16:52)</span> <b>marian:</b></span> yes<br/>
<span style="color: #53b759"><span style="font-size: small">(15:16:55)</span> <b>marian:</b></span> <pre>03/08/21 13:16:38 SubmittorAd  : Updating ... "&lt; bkhamesra3@osg-sched.pace.gatech.eduosg-login1.pace.gatech.edu , 130.207.168.70 &gt;"</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(15:17:05)</span> <b>marian:</b></span> this is sign of doing good things<br/>
<span style="color: #53b759"><span style="font-size: small">(15:17:21)</span> <b>marian:</b></span> yep, working<br/>
<span style="color: #9e3997"><span style="font-size: small">(15:20:01)</span> <b>bbockelm:</b></span> Ok, so next up!  We need glideins...<br/>
<span style="color: #c386df"><span style="font-size: small">(15:21:33)</span> <b>ruben.lara:</b></span> Yes!<br/>
<span style="color: #53b759"><span style="font-size: small">(15:22:47)</span> <b>marian:</b></span> yeah, trying to recreate frontend pod<br/>
<span style="color: #53b759"><span style="font-size: small">(15:23:15)</span> <b>marian:</b></span> there is actually NIKHEF submit host in the similar situation with authentication<br/>
<span style="color: #53b759"><span style="font-size: small">(15:23:28)</span> <b>marian:</b></span> I'd guess same issue, some changes to the cert...<br/>
<span style="color: #53b759"><span style="font-size: small">(15:24:02)</span> <b>marian:</b></span> it is <a href="http://stro.nikhef.nl">stro.nikhef.nl</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(15:25:01)</span> <b>bbockelm:</b></span> Marian, now let's go back to the error on the frontend side.<br/>
<span style="color: #53b759"><span style="font-size: small">(15:33:28)</span> <b>marian:</b></span> yeah, just talked to Mary Hester who administrates NIKHEF host we will debug it later<br/>
<span style="color: #53b759"><span style="font-size: small">(15:39:08)</span> <b>marian:</b></span> ok, moving discussion to the gfrontend channel or to container-hackothon?<br/>
<span style="color: #53b759"><span style="font-size: small">(15:39:17)</span> <b>marian:</b></span> this looks bigger nut to crack<br/>
<span style="color: #53b759"><span style="font-size: small">(15:39:46)</span> <b>marian:</b></span> <pre>loning repo: <a href="https://github.com/opensciencegrid/osg-flock.git">https://github.com/opensciencegrid/osg-flock.git</a><br/>Branch not set, using: 'master'<br/>Cloning into 'osg-flock'...<br/>Renewed proxy from '/etc/grid-security/gwms-frontend/hostcert.pem' to '/etc/grid-security/frontend.proxy'.<br/>Renewed proxy from '/etc/grid-security/gwms-frontend/hostcert.pem' to '/etc/grid-security/pilot_ligo_proxy.proxy'.<br/>ERROR: Failed to renew proxy /etc/grid-security/pilot_virgo.proxy:<br/>Detected Globus version: 2.2<br/>PCI extension info:<br/> Path length: -1<br/> Policy language not specified.<br/> Policy file not specified.<br/>Number of bits in key :1024<br/>Files being used:<br/> CA certificate file: none<br/> Trusted certificates directory : /etc/grid-security/certificates<br/> Proxy certificate file : /etc/grid-security/tmprGrWks<br/> User certificate file: /etc/grid-security/gwms-frontend/hostcert.pem<br/> User key file: /etc/grid-security/gwms-frontend/hostkey.pem<br/>Output to /etc/grid-security/tmprGrWks<br/>Your identity: /DC=org/DC=incommon/C=US/ST=California/L=La Jolla/O=University of California, San Diego/OU=UCSD/CN=<a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a><br/>Using configuration file /root/.glite/vomses<br/>Using configuration file /etc/vomses<br/>Creating temporary proxy to /tmp/tmp_x509up_u0_40<br/>No policy language specified, Gsi impersonation proxy assumed. Done<br/>Contacting  <a href="http://voms.cnaf.infn.it:15009">voms.cnaf.infn.it:15009</a> [/DC=org/DC=terena/DC=tcs/C=IT/L=Frascati/O=Istituto Nazionale di Fisica Nucleare/OU=CNAF/CN=<a href="http://voms.cnaf.infn.it">voms.cnaf.infn.it</a>] "virgo" Failed<br/>....................................++++++<br/>.................++++++<br/>Error: User is currently suspended!<br/>Suspension reason: User membership has expired.<br/>None of the contacted servers for virgo were capable<br/>of returning a valid AC for the user.<br/>Using default frontend config file: /etc/gwms-frontend/frontend.xml<br/>Traceback (most recent call last):<br/>  File "/sbin/reconfig_frontend", line 245, in &lt;module&gt;<br/>    main(params, old_params, update_scripts, update_def_cfg)<br/>  File "/sbin/reconfig_frontend", line 69, in main<br/>    frontend_dicts_obj.populate()<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/creation/lib/cvWParamDict.py", line 382, in populate<br/>All connected Factories are at least v3.4.1<br/>Warning: Cannot find /var/lib/gwms-frontend/vofrontend/frontend.xml<br/>If this is the first reconfig, you can ignore this message.<br/>    self.sub_dicts[sub_name].populate(params)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/creation/lib/cvWParamDict.py", line 310, in populate<br/>    populate_group_security(self.client_security, params, sub_params)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/creation/lib/cvWParamDict.py", line 932, in populate_group_security<br/>    dn=x509Support.extract_DN(proxy_fname)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/lib/x509Support.py", line 13, in extract_DN<br/>    with open(fname, "r") as fd:<br/>IOError: [Errno 2] No such file or directory: u'/etc/grid-security/pilot_virgo.proxy'<br/>Upgrading the frontend[FAILED]</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(15:39:59)</span> <b>marian:</b></span> ^ @bbockelm<br/>
<span style="color: #53b759"><span style="font-size: small">(15:40:40)</span> <b>marian:</b></span> this:<br/>
<span style="color: #53b759"><span style="font-size: small">(15:40:43)</span> <b>marian:</b></span> <pre>Error: User is currently suspended!<br/>Suspension reason: User membership has expired.</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(15:40:46)</span> <b>marian:</b></span> hmm<br/>
<span style="color: #53b759"><span style="font-size: small">(15:42:51)</span> <b>marian:</b></span> for the NIKHEF I've got question in return in the meantime ... I guess @rynge can respond best:<br/>
<span style="color: #53b759"><span style="font-size: small">(15:42:54)</span> <b>marian:</b></span> is this correct?<br/><pre>OSG_FLOCK_DN = /DC=org/DC=incommon/C=US/postalCode=53706/ST=WI/L=Madison/street=1210 West Dayton Street/O=University of Wisconsin-Madison/OU=OCIS/CN=<a href="http://flock.opensciencegrid.org">flock.opensciencegrid.org</a>, /DC=org/DC=incommon/C=US/ST=WI/L=Madison/O=University of Wisconsin-Madison/OU=OCIS/CN=<a href="http://flock.opensciencegrid.org">flock.opensciencegrid.org</a></pre><br/><br/>
<span style="color: #674b1b"><span style="font-size: small">(15:49:44)</span> <b>rynge:</b></span> I mean that is correct for my frontend<br/>
<span style="color: #674b1b"><span style="font-size: small">(15:49:57)</span> <b>rynge:</b></span> But you should use your DN<br/>
<span style="color: #53b759"><span style="font-size: small">(15:50:46)</span> <b>marian:</b></span> you mean NIKHEF DN should be in?<br/>
<span style="color: #674b1b"><span style="font-size: small">(15:50:54)</span> <b>rynge:</b></span> Nop<br/>
<span style="color: #674b1b"><span style="font-size: small">(15:51:54)</span> <b>rynge:</b></span> So the goal is to flock from the ga submit nodes to <a href="http://osg-ligo-1.t2.ucsd.edu">osg-ligo-1.t2.ucsd.edu</a>, and then have that frontend submit pilots to nikhef, right?<br/>
<span style="color: #674b1b"><span style="font-size: small">(15:52:36)</span> <b>rynge:</b></span> <a href="http://flock.opensciencegrid.org">flock.opensciencegrid.org</a> is not involved<br/>
<span style="color: #53b759"><span style="font-size: small">(15:58:53)</span> <b>marian:</b></span> ah, ok, it's host with DN /DC=org/DC=terena/DC=tcs/C=NL/L=Amsterdam/O=Nikhef/CN=<a href="http://stro.nikhef.nl">stro.nikhef.nl</a> ... I'll follow up with them when they don't sleep<br/>
<span style="color: #53b759"><span style="font-size: small">(15:59:20)</span> <b>marian:</b></span> deep in the frontend issues now ...<br/>
<span style="color: #53b759"><span style="font-size: small">(16:00:43)</span> <b>marian:</b></span> do you have any idea of the virgo proxy not being renewed?<br/>
<span style="color: #53b759"><span style="font-size: small">(16:00:47)</span> <b>marian:</b></span> @rynge<br/>
<span style="color: #53b759"><span style="font-size: small">(16:01:11)</span> <b>marian:</b></span> looks things come from the source of<br/><pre>repo: <a href="https://github.com/opensciencegrid/osg-flock.git">https://github.com/opensciencegrid/osg-flock.git</a></pre><br/><br/>
<span style="color: #53b759"><span style="font-size: small">(16:02:14)</span> <b>marian:</b></span> somebody haven't signed VO AUP? guessing...<br/>
<span style="color: #674b1b"><span style="font-size: small">(16:15:09)</span> <b>rynge:</b></span> I don't know why that repo is pulled<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:16:40)</span> <b>bbockelm:</b></span> @marian - that's a good find!  The account in VIRGO might be associated with Edgar?<br/>
<span style="color: #53b759"><span style="font-size: small">(16:17:44)</span> <b>marian:</b></span> ugh, who would be to contact in that regard? we probably should find another person to own it ...<br/>
<span style="color: #53b759"><span style="font-size: small">(16:18:30)</span> <b>marian:</b></span> still, it's hard condition that it breaks whole frontend<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:18:55)</span> <b>bbockelm:</b></span> @marian - bingo: <a href="https://voms.cnaf.infn.it:8443/voms/virgo/user/load.action?userId=99">https://voms.cnaf.infn.it:8443/voms/virgo/user/load.action?userId=99</a><br/>
<blockquote>
<span style="color: #a63024"><span style="font-size: small">(17:37:42)</span> <b>paschos:</b></span> we’ll need a replacement there<br/>
</blockquote>
<span style="color: #9e3997"><span style="font-size: small">(16:19:30)</span> <b>bbockelm:</b></span> In the meantime, you can comment out the XML for virgo.<br/>
<span style="color: #53b759"><span style="font-size: small">(16:20:14)</span> <b>marian:</b></span> yeah, was already digging out where everywhere it is in the xml<br/>
<span style="color: #53b759"><span style="font-size: small">(16:20:25)</span> <b>marian:</b></span> quite lot of places<br/>
<span style="color: #53b759"><span style="font-size: small">(16:20:36)</span> <b>marian:</b></span> or, Disable it?<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:20:47)</span> <b>bbockelm:</b></span> <a href="https://github.com/opensciencegrid/tiger-osg-config/blob/master/manifests/production/vo-frontend-igwn/frontend.xml#L355-L389">https://github.com/opensciencegrid/tiger-osg-config/blob/master/manifests/production/vo-frontend-igwn/frontend.xml#L355-L389</a> for example.  Yes, I think disable may work.<br/>
<span style="color: #53b759"><span style="font-size: small">(16:21:02)</span> <b>marian:</b></span> sounds good<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:21:16)</span> <b>bbockelm:</b></span> Note, unlike a normal frontend, you can use XML comments in the repo.<br/>
<span style="color: #53b759"><span style="font-size: small">(16:21:24)</span> <b>marian:</b></span> but still, probably also proxies.ini need change<br/>
<span style="color: #53b759"><span style="font-size: small">(16:23:50)</span> <b>marian:</b></span> there is also another group using virgo proxy, virgo-gpu ... will disable that one, too<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:27:02)</span> <b>bbockelm:</b></span> I think proxies.ini is OK with a failure.  Only the glideinWMS failure is fatal.<br/>
<span style="color: #53b759"><span style="font-size: small">(16:48:26)</span> <b>marian:</b></span> enabled="False" doesn't seem to help<br/>
<span style="color: #53b759"><span style="font-size: small">(16:48:35)</span> <b>marian:</b></span> going to comment out those sections<br/>
<span style="color: #53b759"><span style="font-size: small">(16:58:07)</span> <b>marian:</b></span> <pre>...Active groups are:<br/>     cpu-rhel6<br/>     itb-ligo<br/>     itb-ligo-gpu<br/>     main<br/>     main-gpu<br/>...Verifying rrd schema<br/>...Work files are in /var/lib/gwms-frontend/vofrontend<br/>Reconfiguring the frontend[  OK  ]</pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(17:00:37)</span> <b>bbockelm:</b></span> Could you drop @peter.couvares a note on the findings above?  I don't expect him to run through the traceback of the Slack conversation but it's an important note.<br/>
<span style="color: #53b759"><span style="font-size: small">(17:00:40)</span> <b>marian:</b></span> ok, confirmed from the pod:<br/>
<span style="color: #53b759"><span style="font-size: small">(17:00:49)</span> <b>marian:</b></span> <pre>[root@vo-frontend-igwn-fc5bf499d-l6crf /]# supervisorctl status frontend<br/>frontend                         RUNNING   pid 103, uptime 0:03:13</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(17:02:00)</span> <b>marian:</b></span> sure, I'll update Freshdesk as well as github ticket opened<br/>
<span style="color: #53b759"><span style="font-size: small">(17:02:41)</span> <b>marian:</b></span> I'll do few sanity checks still<br/>
<span style="color: #53b759"><span style="font-size: small">(17:22:54)</span> <b>marian:</b></span> @ruben.lara, there is still some sort of problem that Frontend can't talk to your schedds:<br/>
<span style="color: #53b759"><span style="font-size: small">(17:22:57)</span> <b>marian:</b></span> <pre>[2021-03-08 23:19:11,985] ERROR: glideinFrontendLib:1143: Runtime Error. Failed to talk to schedd <a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a><br/>Traceback (most recent call last):<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/frontend/glideinFrontendLib.py", line 1134, in getCondorQConstrained<br/>    condorq = condorMonitor.CondorQ(schedd)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/lib/condorMonitor.py", line 589, in __init__<br/>    pool_name)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/lib/condorMonitor.py", line 169, in getScheddId<br/>    env = self.iGetEnv(schedd_name, pool_name)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/lib/condorMonitor.py", line 196, in iGetEnv<br/>    raise RuntimeError("Schedd '%s' not found" % schedd_name)<br/>RuntimeError: Schedd '<a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a>' not found<br/>[2021-03-08 23:19:11,985] ERROR: glideinFrontendLib:1143: Runtime Error. Failed to talk to schedd <a href="http://osg-login1.pace.gatech.edu">osg-login1.pace.gatech.edu</a><br/>Traceback (most recent call last):<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/frontend/glideinFrontendLib.py", line 1134, in getCondorQConstrained<br/>    condorq = condorMonitor.CondorQ(schedd)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/lib/condorMonitor.py", line 589, in __init__<br/>    pool_name)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/lib/condorMonitor.py", line 169, in getScheddId<br/>    env = self.iGetEnv(schedd_name, pool_name)<br/>  File "/usr/lib/python2.7/site-packages/glideinwms/lib/condorMonitor.py", line 196, in iGetEnv<br/>    raise RuntimeError("Schedd '%s' not found" % schedd_name)<br/>RuntimeError: Schedd '<a href="http://osg-login1.pace.gatech.edu">osg-login1.pace.gatech.edu</a>' not found</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(17:24:08)</span> <b>marian:</b></span> it, actually, can't query them<br/>
<span style="color: #53b759"><span style="font-size: small">(17:24:52)</span> <b>marian:</b></span> ah, moment, osg-login2 just showed up:<br/>
<span style="color: #53b759"><span style="font-size: small">(17:24:55)</span> <b>marian:</b></span> <pre>condor_status -schedd<br/>Name                         Machine                      RunningJobs   IdleJobs   HeldJobs<br/><br/><a href="http://ldas-osg.ligo-la.caltech.edu">ldas-osg.ligo-la.caltech.edu</a> <a href="http://ldas-osg.ligo-la.caltech.edu">ldas-osg.ligo-la.caltech.edu</a>           7       1077          0<br/><a href="http://ldas-osg.ligo-wa.caltech.edu">ldas-osg.ligo-wa.caltech.edu</a> <a href="http://ldas-osg.ligo-wa.caltech.edu">ldas-osg.ligo-wa.caltech.edu</a>          16         65          1<br/><a href="http://ldas-osg.ligo.caltech.edu">ldas-osg.ligo.caltech.edu</a>    <a href="http://ldas-osg.ligo.caltech.edu">ldas-osg.ligo.caltech.edu</a>           1085      11588        474<br/><a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a>   <a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a>             1          1          0</pre><br/>
<span style="color: #53b759"><span style="font-size: small">(17:25:06)</span> <b>marian:</b></span> did you do something, @ruben.lara?<br/>
<span style="color: #53b759"><span style="font-size: small">(17:25:57)</span> <b>marian:</b></span> it comes and goes actually<br/>
<span style="color: #c386df"><span style="font-size: small">(17:26:16)</span> <b>ruben.lara:</b></span> No, I did not.<br/>
<span style="color: #53b759"><span style="font-size: small">(17:26:29)</span> <b>marian:</b></span> now it disappeared again<br/>
<span style="color: #c386df"><span style="font-size: small">(17:26:35)</span> <b>ruben.lara:</b></span> Is there anything I need to check?<br/>
<span style="color: #c386df"><span style="font-size: small">(17:26:56)</span> <b>ruben.lara:</b></span> or restart?<br/>
<span style="color: #53b759"><span style="font-size: small">(17:27:01)</span> <b>marian:</b></span> not sure ... ScheddLog for any suspects?<br/>
<span style="color: #53b759"><span style="font-size: small">(17:27:17)</span> <b>marian:</b></span> maybe restart won't hurt just in case<br/>
<span style="color: #c386df"><span style="font-size: small">(17:29:29)</span> <b>ruben.lara:</b></span> Just restarted Condor.<br/>
<span style="color: #c386df"><span style="font-size: small">(17:30:32)</span> <b>ruben.lara:</b></span> Any change?<br/>
<span style="color: #c386df"><span style="font-size: small">(17:33:44)</span> <b>ruben.lara:</b></span> I’m leaving for the day. Send anything you can think of that might help us troubleshoot tomorrow morning. @marian<br/>
<span style="color: #c386df"><span style="font-size: small">(17:33:51)</span> <b>ruben.lara:</b></span> Thank you for your help.<br/>
<span style="color: #c386df"><span style="font-size: small">(17:35:29)</span> <b>ruben.lara:</b></span> Could they be missing in a configuration file?<br/><pre>  File "/usr/lib/python2.7/site-packages/glideinwms/lib/condorMonitor.py", line 196, in iGetEnv<br/>    raise RuntimeError("Schedd '%s' not found" % schedd_name)<br/>RuntimeError: Schedd '<a href="http://osg-login2.pace.gatech.edu">osg-login2.pace.gatech.edu</a>' not found</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(17:35:42)</span> <b>ruben.lara:</b></span> Again, thanks. Need to leave now.<br/>
<span style="color: #53b759"><span style="font-size: small">(17:54:44)</span> <b>marian:</b></span> sure, let's pick it up tomorrow<br/>
<span style="color: #53b759"><span style="font-size: small">(17:54:51)</span> <b>marian:</b></span> I'm also done for today...<br/>
<span style="color: #9e3997"><span style="font-size: small">(19:50:34)</span> <b>bbockelm:</b></span> if the schedd comes and goes - I'd guess that Marian only made the change to one of the two collectors?  That sounds like what would happen if there were 2 HA collectors but only one that the schedd was authorized to use.<br/>
</body>
</html>
