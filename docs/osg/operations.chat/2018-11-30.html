<!DOCTYPE html>
<html>
<head>
<title>Fri Nov 30, 2018 : #operations (osg)</title>
</head>
<body>
<h3>Fri Nov 30, 2018 : #operations (osg)</h3>
<span style="color: #16569E"><span style="font-size: small">(12:21:29)</span> <b>edquist:</b></span> @dweitzel, @matyas - today somebody noticed (<a href="https://support.opensciencegrid.org/helpdesk/tickets/8040">https://support.opensciencegrid.org/helpdesk/tickets/8040</a>) that our <tt>RPM-GPG-KEY-OSG</tt> files were missing on <tt>repo</tt>.  I'm guessing they got lost when it was rebuilt recently, and apparently they are not generated automatically.<br/><br/>Anyway, i have placed a <tt>RPM-GPG-KEY-OSG</tt> to the <tt>repo/osg</tt> root, and made per-series symlinks to it:<br/><pre><br/>[root@hcc-osg-repo osg]# ls -lU /usr/local/repo/osg/{,*/}RPM-GPG-KEY-OSG<br/>-rw-r--r--. 1 root root 1755 Nov 30 12:06 /usr/local/repo/osg/RPM-GPG-KEY-OSG<br/>lrwxrwxrwx. 1 root root   18 Nov 30 12:07 /usr/local/repo/osg/3.2/RPM-GPG-KEY-OSG -&gt; ../RPM-GPG-KEY-OSG<br/>lrwxrwxrwx. 1 root root   18 Nov 30 12:07 /usr/local/repo/osg/3.3/RPM-GPG-KEY-OSG -&gt; ../RPM-GPG-KEY-OSG<br/>lrwxrwxrwx. 1 root root   18 Nov 30 12:07 /usr/local/repo/osg/3.4/RPM-GPG-KEY-OSG -&gt; ../RPM-GPG-KEY-OSG<br/>lrwxrwxrwx. 1 root root   18 Nov 30 12:07 /usr/local/repo/osg/goc/RPM-GPG-KEY-OSG -&gt; ../RPM-GPG-KEY-OSG<br/>lrwxrwxrwx. 1 root root   18 Nov 30 12:07 /usr/local/repo/osg/upcoming/RPM-GPG-KEY-OSG -&gt; ../RPM-GPG-KEY-OSG<br/></pre><br/><br/>It's very rare that we update our <tt>RPM-GPG-KEY-OSG</tt>, which is why we probably never automated it, but at a minimum we probably want to place one when setting up a new <tt>repo</tt> server.<br/><br/>BTW, the <tt>RPM-GPG-KEY-OSG</tt> can be found either in the latest <tt>osg-release</tt> rpm, eg:<br/><pre><br/>wget -qO- <a href="http://repo.opensciencegrid.org/osg/3.4/osg-3.4-el7-release-latest.rpm">http://repo.opensciencegrid.org/osg/3.4/osg-3.4-el7-release-latest.rpm</a> | rpm2cpio - | cpio -i --quiet --to-stdout ./etc/pki/rpm-gpg/RPM-GPG-KEY-OSG &gt; RPM-GPG-KEY-OSG<br/></pre><br/><br/>Or (probably more conveniently) just from <a href="https://vdt.cs.wisc.edu/svn/native/redhat/trunk/osg-release/osg/RPM-GPG-KEY-OSG">https://vdt.cs.wisc.edu/svn/native/redhat/trunk/osg-release/osg/RPM-GPG-KEY-OSG</a><br/>
<span style="color: #c386df"><span style="font-size: small">(12:22:22)</span> <b>matyas:</b></span> or even more conveniently, <a href="https://vdt.cs.wisc.edu/RPM-GPG-KEY-OSG">https://vdt.cs.wisc.edu/RPM-GPG-KEY-OSG</a><br/>
<span style="color: #16569E"><span style="font-size: small">(12:23:00)</span> <b>edquist:</b></span> Ah, great.<br/>
<span style="color: #16569E"><span style="font-size: small">(12:43:39)</span> <b>edquist:</b></span> Do we have a git repo that contains whatever is done for setting up a <tt>repo</tt> host?  If so i can make a PR, if ops would like<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:45:49)</span> <b>dweitzel:</b></span> Yes, puppet is in github.  But it contains secrets, so it's behind a firewall and username / password.<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:46:15)</span> <b>dweitzel:</b></span> <b>@edquist</b> is there an ops project in Jira, make a ticket there and assign to either me or John.<br/>
<span style="color: #16569E"><span style="font-size: small">(12:48:41)</span> <b>edquist:</b></span> the <tt>REPO</tt> project?<br/>
<span style="color: #16569E"><span style="font-size: small">(12:48:52)</span> <b>edquist:</b></span> i actually don't see an <tt>OPS</tt> project in jira<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:49:32)</span> <b>dweitzel:</b></span> I'm not sure what the <tt>REPO</tt> project is.<br/>
<span style="color: #c386df"><span style="font-size: small">(12:50:46)</span> <b>matyas:</b></span> that's for the software repos; the url for it is <a href="http://repo.grid.iu.edu">repo.grid.iu.edu</a><br/>
<span style="color: #c386df"><span style="font-size: small">(12:51:09)</span> <b>matyas:</b></span> there's half a dozen ops-related projects but no one ops project: <a href="https://opensciencegrid.atlassian.net/secure/BrowseProjects.jspa?page=1">https://opensciencegrid.atlassian.net/secure/BrowseProjects.jspa?page=1</a><br/>
<span style="color: #16569E"><span style="font-size: small">(12:53:00)</span> <b>edquist:</b></span> Once upon a time, the <tt>REPO</tt> project was for any ops work on the <tt>repo</tt> servers.  Let me know if there's one you'd prefer to use now<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:58:12)</span> <b>dweitzel:</b></span> :shrug: that would probably work well.  I just wanted to keep track of this.<br/>
<span style="color: #43761b"><span style="font-size: small">(13:02:05)</span> <b>blin:</b></span> or do it via freshdesk?<br/>
<span style="color: #43761b"><span style="font-size: small">(13:02:16)</span> <b>blin:</b></span> i can look into making an operations project at some point<br/>
<span style="color: #43761b"><span style="font-size: small">(13:03:07)</span> <b>blin:</b></span> or maybe we can rename GFACTOPS to make it more general? @jdost321<br/>
<span style="color: #16569E"><span style="font-size: small">(14:45:51)</span> <b>edquist:</b></span> <a href="https://opensciencegrid.atlassian.net/browse/REPO-11">https://opensciencegrid.atlassian.net/browse/REPO-11</a><br/>
<span style="color: #16569E"><span style="font-size: small">(14:46:01)</span> <b>edquist:</b></span> feel free to move it to a different project if you like<br/>
</body>
</html>
