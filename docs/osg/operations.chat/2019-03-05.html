<!DOCTYPE html>
<html>
<head>
<title>Tue Mar 5, 2019 : #operations (osg)</title>
</head>
<body>
<h3>Tue Mar 5, 2019 : #operations (osg)</h3>
<span style="color: #a63024"><span style="font-size: small">(09:22:17)</span> <b>efajardo:</b></span> @jdost321 can  I be added to the Ops mailing list?<br/>
<span style="color: #e23f99"><span style="font-size: small">(10:33:37)</span> <b>marco.mascheroni:</b></span> @blin i am registering LSU SuperMIC into topology. Do I need to add a site.yaml file, like in: <a href="https://github.com/opensciencegrid/topology/blob/master/topology/New%20Mexico%20State%20University/New%20Mexico%20State%20AggieGrid/SITE.yaml">https://github.com/opensciencegrid/topology/blob/master/topology/New%20Mexico%20State%20University/New%20Mexico%20State%20AggieGrid/SITE.yaml</a> ? I don't see this step described in <a href="https://opensciencegrid.org/docs/common/registration/#registering-resources">https://opensciencegrid.org/docs/common/registration/#registering-resources</a><br/>
<span style="color: #43761b"><span style="font-size: small">(10:34:16)</span> <b>blin:</b></span> @matyas i foget, is the SITE.yaml required?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:34:21)</span> <b>matyas:</b></span> yes<br/>
<span style="color: #e23f99"><span style="font-size: small">(10:34:38)</span> <b>marco.mascheroni:</b></span> ok, I'll add it<br/>
<span style="color: #43761b"><span style="font-size: small">(10:34:41)</span> <b>blin:</b></span> there's a template-site.yaml<br/>
<span style="color: #e23f99"><span style="font-size: small">(11:06:18)</span> <b>marco.mascheroni:</b></span> PR done, I actually have to leave "early" tonight, I'll check tomorow mornign if there are comments <a href="https://github.com/opensciencegrid/topology/pull/496">https://github.com/opensciencegrid/topology/pull/496</a><br/>
<span style="color: #c386df"><span style="font-size: small">(11:08:53)</span> <b>matyas:</b></span> @marco.mascheroni: I'll take a look<br/>
<span style="color: #c386df"><span style="font-size: small">(11:16:29)</span> <b>matyas:</b></span> @marco.mascheroni: do you know the street address of the building LSU_SuperMIC is located in?<br/>
<span style="color: #674b1b"><span style="font-size: small">(11:20:07)</span> <b>rynge:</b></span> Interesting - so that is the same supermic which retired from XSEDE<br/>
<span style="color: #a63024"><span style="font-size: small">(12:32:21)</span> <b>efajardo:</b></span> yes<br/>
<span style="color: #a63024"><span style="font-size: small">(12:32:24)</span> <b>efajardo:</b></span> I think<br/>
<span style="color: #a63024"><span style="font-size: small">(12:32:43)</span> <b>efajardo:</b></span> but they said they are an xsede site<br/>
<span style="color: #53b759"><span style="font-size: small">(12:48:09)</span> <b>marian:</b></span> <b>@here</b> who would be to assign this ticket to? <a href="https://support.opensciencegrid.org/a/tickets/8396">https://support.opensciencegrid.org/a/tickets/8396</a><br/>
<span style="color: #43761b"><span style="font-size: small">(12:49:12)</span> <b>blin:</b></span> you need to CC the syracuse admin (rich amalee, iirc)<br/>
<span style="color: #43761b"><span style="font-size: small">(12:49:59)</span> <b>blin:</b></span> i'm not sure who handled these tickets previously for issues between sites and VOs so ¯\_(ツ)_/¯<br/>
<span style="color: #53b759"><span style="font-size: small">(12:50:01)</span> <b>marian:</b></span> he is cc'd<br/>
<span style="color: #43761b"><span style="font-size: small">(12:50:11)</span> <b>blin:</b></span> @kherner? ops? idk<br/>
<span style="color: #53b759"><span style="font-size: small">(12:50:24)</span> <b>marian:</b></span> trying to assign agent and type of the issue<br/>
<span style="color: #53b759"><span style="font-size: small">(12:52:23)</span> <b>marian:</b></span> ok, let's see where it goes :slightly_smiling_face:<br/>
<span style="color: #53b759"><span style="font-size: small">(12:54:18)</span> <b>marian:</b></span> found two other similar tickets which were previously closed due "inactivity" ... hmm<br/>
<span style="color: #53b759"><span style="font-size: small">(12:54:50)</span> <b>marian:</b></span> I'm telling ya'll, Freshdesk is cool!<br/>
<span style="color: #43761b"><span style="font-size: small">(12:55:36)</span> <b>blin:</b></span> what tickets?<br/>
<span style="color: #53b759"><span style="font-size: small">(12:57:56)</span> <b>marian:</b></span> the one I want to assign is 8396 ... the similar I found looks 7071 or 6800 ... I naively thought I can see who was there assignee that I can do the same for 8396 ...<br/>
<span style="color: #53b759"><span style="font-size: small">(12:58:00)</span> <b>marian:</b></span> ¯\_(ツ)_/¯<br/>
<span style="color: #43761b"><span style="font-size: small">(12:58:37)</span> <b>blin:</b></span> could you link them?<br/>
<span style="color: #53b759"><span style="font-size: small">(12:58:55)</span> <b>marian:</b></span> it doesn't seem it would solve anything<br/>
<span style="color: #53b759"><span style="font-size: small">(12:59:14)</span> <b>marian:</b></span> the linkage ... the other two are closed long ago<br/>
<span style="color: #53b759"><span style="font-size: small">(12:59:45)</span> <b>marian:</b></span> 8396 arrived yesterday<br/>
<span style="color: #43761b"><span style="font-size: small">(12:59:47)</span> <b>blin:</b></span> i mean what are the urls so i can look at the tickets<br/>
<span style="color: #43761b"><span style="font-size: small">(13:00:04)</span> <b>blin:</b></span> we may have some misconfiguration in freshdesk that are causing these tickets to be closed<br/>
<span style="color: #53b759"><span style="font-size: small">(13:00:16)</span> <b>marian:</b></span> gave you tx IDs ...<br/>
<span style="color: #53b759"><span style="font-size: small">(13:00:25)</span> <b>marian:</b></span> nope, they were closed by people<br/>
<span style="color: #53b759"><span style="font-size: small">(13:00:48)</span> <b>marian:</b></span> <a href="https://support.opensciencegrid.org/a/tickets/8396">https://support.opensciencegrid.org/a/tickets/8396</a><br/>
<span style="color: #53b759"><span style="font-size: small">(13:00:54)</span> <b>marian:</b></span> this is new one which arrived<br/>
<span style="color: #43761b"><span style="font-size: small">(13:01:07)</span> <b>blin:</b></span> ok, then freshdesk is fine it's just that it's being used wrong?<br/>
<span style="color: #53b759"><span style="font-size: small">(13:01:14)</span> <b>marian:</b></span> and I'm not sure who should be assigned<br/>
<span style="color: #53b759"><span style="font-size: small">(13:01:25)</span> <b>marian:</b></span> so took a look at similar tix:<br/>
<span style="color: #53b759"><span style="font-size: small">(13:01:33)</span> <b>marian:</b></span> <a href="https://support.opensciencegrid.org/a/tickets/6800">https://support.opensciencegrid.org/a/tickets/6800</a><br/>
<span style="color: #53b759"><span style="font-size: small">(13:01:39)</span> <b>marian:</b></span> <a href="https://support.opensciencegrid.org/a/tickets/7071">https://support.opensciencegrid.org/a/tickets/7071</a><br/>
<span style="color: #53b759"><span style="font-size: small">(13:01:51)</span> <b>marian:</b></span> hoped I could see who was solving that ...<br/>
<span style="color: #53b759"><span style="font-size: small">(13:02:02)</span> <b>marian:</b></span> but no resolution, unfortunatelly ...<br/>
<span style="color: #53b759"><span style="font-size: small">(13:02:09)</span> <b>marian:</b></span> just closed<br/>
<span style="color: #43761b"><span style="font-size: small">(13:02:24)</span> <b>blin:</b></span> mats closed the second one, he said so<br/>
<span style="color: #53b759"><span style="font-size: small">(13:02:50)</span> <b>marian:</b></span> yeah, I mentioned that, closed due "inactivity"<br/>
<span style="color: #43761b"><span style="font-size: small">(13:03:05)</span> <b>blin:</b></span> oh i see what you're saying now<br/>
<span style="color: #43761b"><span style="font-size: small">(13:03:12)</span> <b>blin:</b></span> you're hoping for an old solution<br/>
<span style="color: #53b759"><span style="font-size: small">(13:03:13)</span> <b>marian:</b></span> I don't think we want to do same with new ticket<br/>
<span style="color: #53b759"><span style="font-size: small">(13:03:22)</span> <b>marian:</b></span> yep<br/>
<span style="color: #8d4b84"><span style="font-size: small">(13:03:46)</span> <b>kherner:</b></span> @marian That should be assigned to a Syracuse site admin, definitely not me.<br/>
<span style="color: #8d4b84"><span style="font-size: small">(13:03:58)</span> <b>kherner:</b></span> Rich Amelee<br/>
<span style="color: #53b759"><span style="font-size: small">(13:04:03)</span> <b>marian:</b></span> ok ... so the admin is cc'd<br/>
<span style="color: #53b759"><span style="font-size: small">(13:04:11)</span> <b>marian:</b></span> should we then leave agent field empty?<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:04:29)</span> <b>rynge:</b></span> Somebody on our side (a registered agent) should own it<br/>
<span style="color: #43761b"><span style="font-size: small">(13:04:31)</span> <b>blin:</b></span> we should probably have OSG staff keep track of the issue<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:04:41)</span> <b>rynge:</b></span> and ping if no progress is being made<br/>
<span style="color: #43761b"><span style="font-size: small">(13:04:45)</span> <b>blin:</b></span> ^^<br/>
<span style="color: #53b759"><span style="font-size: small">(13:04:55)</span> <b>marian:</b></span> ok, so should that be triage probably?<br/>
<span style="color: #53b759"><span style="font-size: small">(13:05:00)</span> <b>marian:</b></span> OSG Ops triage<br/>
<span style="color: #53b759"><span style="font-size: small">(13:05:15)</span> <b>marian:</b></span> I think something to discuss with @jdost321 on this ... thanks for feedback<br/>
<span style="color: #53b759"><span style="font-size: small">(13:05:28)</span> <b>marian:</b></span> I'll have it owned by me and will ping site admin<br/>
<span style="color: #43761b"><span style="font-size: small">(13:05:53)</span> <b>blin:</b></span> p.s. this may mean that the second squid node syracuse stood up may not be sufficient for all the WNs they added to their pool<br/>
<span style="color: #53b759"><span style="font-size: small">(13:06:56)</span> <b>marian:</b></span> well I didn't think of the content of the ticket ... triage in charge is not required provide solution which suppose to be site admin task<br/>
<span style="color: #53b759"><span style="font-size: small">(13:08:26)</span> <b>marian:</b></span> wanted just to know what to do with assignment on the agent side in this case<br/>
<span style="color: #53b759"><span style="font-size: small">(13:08:39)</span> <b>marian:</b></span> we might have several other cases very similar<br/>
<span style="color: #53b759"><span style="font-size: small">(13:10:10)</span> <b>marian:</b></span> I assigned to "Operations", sorry @kherner!<br/>
<span style="color: #43761b"><span style="font-size: small">(13:10:35)</span> <b>blin:</b></span> yeah, in these cases, i think the OSG role is to monitor the conversation and help either side out if it seems necessary<br/>
<span style="color: #8d4b84"><span style="font-size: small">(13:11:06)</span> <b>kherner:</b></span> Worry not; I just didn't want it to languish while I'm on vacation. Also @blin we have still been seeing intermittent problems, so you might be right about that.<br/>
<blockquote>
<span style="color: #8d4b84"><span style="font-size: small">(13:16:49)</span> <b>kherner:</b></span> Plus I can't access anything at Cuse anyway.<br/>
</blockquote>
<span style="color: #43761b"><span style="font-size: small">(13:11:24)</span> <b>blin:</b></span> ok, thanks for the heads up<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:53:25)</span> <b>dweitzel:</b></span> ok, changing the topic.  @blin got a few minutes to talk about hosted ce's?  Is @marco.mascheroni still around?<br/>
<span style="color: #43761b"><span style="font-size: small">(13:53:45)</span> <b>blin:</b></span> i think marco said he was leaving a little early today<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:53:53)</span> <b>dweitzel:</b></span> for TACC, looking at one of the glidein ads in the <a href="http://flock.osg.org">flock.osg.org</a> host, I see this:<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:53:59)</span> <b>dweitzel:</b></span> <br/>
<span style="color: #235e5b"><span style="font-size: small">(13:54:16)</span> <b>dweitzel:</b></span> Few things that are odd:<br/>1. where are the 10's of GLIDEIN_* attributes?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:54:45)</span> <b>dweitzel:</b></span> 2. GLIDEIN_ResourceName = "SDSC_Comet""?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:54:54)</span> <b>dweitzel:</b></span> Comet is a weird name for a TACC node.<br/>
<span style="color: #43761b"><span style="font-size: small">(13:55:15)</span> <b>blin:</b></span> yeah, that definitely leads me to believe that HEPCloud isn't setting the glidein attr correctly<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:56:04)</span> <b>bbockelm:</b></span> Hmmm<br/><pre><br/>$ condor_status -pool <a href="http://flock.opensciencegrid.org">flock.opensciencegrid.org</a> <a href="mailto:slot1@c506-133.stampede2.tacc.utexas.edu">slot1@c506-133.stampede2.tacc.utexas.edu</a> -l | sort | grep -i req                                                 <br/>Requirements = false<br/></pre><br/>
<span style="color: #235e5b"><span style="font-size: small">(14:01:13)</span> <b>dweitzel:</b></span> so... much oddness?<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:21:11)</span> <b>marco.mascheroni:</b></span> @matyas I was also looking where LSU SuperMIC is located and I could not find it..<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:21:38)</span> <b>bbockelm:</b></span> @marco.mascheroni @rynge ^^^ any clue where these TACC glideins are coming from?<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:25:19)</span> <b>marco.mascheroni:</b></span> It's hepcloud<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:25:24)</span> <b>dweitzel:</b></span> I think Jeff mentioned on the call that they are coming from the hepcloud factory<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:25:29)</span> <b>marco.mascheroni:</b></span> fermifactori01<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:25:50)</span> <b>marco.mascheroni:</b></span> I have access to it if I need to check anything. It's manteined by Steve Timm<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:26:25)</span> <b>marco.mascheroni:</b></span> This is definitely weird GLIDEIN_ResourceName = "SDSC_Comet""?<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:26:32)</span> <b>marco.mascheroni:</b></span> I'll start checking this out<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:26:53)</span> <b>bbockelm:</b></span> Ok -- can we redirect that ticket appropriately?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:27:12)</span> <b>bbockelm:</b></span> How are they even authenticating to the OSG flock host?<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:31:08)</span> <b>marco.mascheroni:</b></span> this seems correct in the hepcloud factory: &lt;attr name="GLIDEIN_ResourceName" const="True" glidein_publish="True" job_publish="True" parameter="True" publish="True" type="string" value="T3_US_TACC"/&gt;.. What is the ticket number again? I can assing it and ping the involved people<br/>
<span style="color: #43761b"><span style="font-size: small">(14:32:02)</span> <b>blin:</b></span> <a href="https://support.opensciencegrid.org/a/tickets/8397">https://support.opensciencegrid.org/a/tickets/8397</a><br/>
<span style="color: #e23f99"><span style="font-size: small">(14:32:28)</span> <b>marco.mascheroni:</b></span> thx<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:41:37)</span> <b>rynge:</b></span> Could be Donkri, but they should not show up as batch records<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:41:56)</span> <b>dweitzel:</b></span> These are payload records.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:42:02)</span> <b>bbockelm:</b></span> (and it definitely is Donkri)<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:42:58)</span> <b>marco.mascheroni:</b></span> (Never heard of Donkri)<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:43:22)</span> <b>rynge:</b></span> He is running his own glideins<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:43:27)</span> <b>rynge:</b></span> not gwms<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:45:16)</span> <b>rynge:</b></span> He also does that on Bridges<br/>
<span style="color: #e23f99"><span style="font-size: small">(14:45:40)</span> <b>marco.mascheroni:</b></span> ok, so it is not hepcloud fault<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:45:45)</span> <b>bbockelm:</b></span> Gotcha - and these are the ones that go to a dedicated collector, right?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:46:29)</span> <b>bbockelm:</b></span> Mats, are you the "touch point" for Don's jobs?  If we provided a few attributes for him to set, is he technically competent enough to set them?<br/>
<span style="color: #43761b"><span style="font-size: small">(14:47:06)</span> <b>blin:</b></span> ooooh don krieger<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:47:49)</span> <b>dweitzel:</b></span> These payload records are coming from xd-login<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:50:08)</span> <b>rynge:</b></span> I can talk to him, but a lot of the time you have to do some extra handholding<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:50:17)</span> <b>rynge:</b></span> Is it attributes in the jobs, or on the glidiens?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:50:49)</span> <b>bbockelm:</b></span> typically, the attributes from the glideins are copied into the job ad.  This is controlled at the schedd level.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:51:01)</span> <b>bbockelm:</b></span> (and can be overridden by the jobs themselves)<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:51:29)</span> <b>bbockelm:</b></span> In all likelihood, assuming xd-login is setup reasonably, filling in the missing glidein attributes will solve the problem.<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:51:33)</span> <b>rynge:</b></span> So, the name is obviously wrong<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:51:48)</span> <b>rynge:</b></span> But what else?<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:53:17)</span> <b>dweitzel:</b></span> so GLIDEIN_ResourceName is there, in the glidein ad.<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:53:30)</span> <b>dweitzel:</b></span> the real question is, why is that not being used for the Host_description in the gratia probe.<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:53:46)</span> <b>dweitzel:</b></span> I had assigned that ticket to mats, because I had a question for him in my update.<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:54:19)</span> <b>dweitzel:</b></span> maybe I forgot to hit "update"<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:56:51)</span> <b>rynge:</b></span> Looks like the only one we set is <tt>GLIDEIN_ResourceName</tt><br/>
<span style="color: #674b1b"><span style="font-size: small">(14:57:08)</span> <b>rynge:</b></span> What does <tt>Host_description</tt> need?<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:57:50)</span> <b>rynge:</b></span> I don't see the ticket. What's the number?<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:57:57)</span> <b>dweitzel:</b></span> <a href="https://support.opensciencegrid.org/a/tickets/8397">https://support.opensciencegrid.org/a/tickets/8397</a><br/>
<span style="color: #235e5b"><span style="font-size: small">(14:58:18)</span> <b>dweitzel:</b></span> on xd-login, please issue: <pre>condor_config_val JOBGLIDEIN_ResourceName</pre><br/>
<span style="color: #674b1b"><span style="font-size: small">(14:58:54)</span> <b>rynge:</b></span> <pre><br/>rynge@xd-login:/etc/condor/config.d$ condor_config_val JOBGLIDEIN_ResourceName<br/>"$$([IfThenElse(IsUndefined(TARGET.GLIDEIN_ResourceName), IfThenElse(IsUndefined(TARGET.GLIDEIN_Site), FileSystemDomain, TARGET.GLIDEIN_Site), TARGET.GLIDEIN_ResourceName)])"<br/></pre><br/>
<span style="color: #674b1b"><span style="font-size: small">(15:04:01)</span> <b>rynge:</b></span> We are setting <tt>GLIDEIN_ResourceName</tt> in the condor cron advertise script - maybe some jobs run before that has finished<br/>
<span style="color: #674b1b"><span style="font-size: small">(15:04:15)</span> <b>rynge:</b></span> And then <tt>FileSystemDomain</tt> is picked up<br/>
<span style="color: #674b1b"><span style="font-size: small">(15:05:31)</span> <b>rynge:</b></span> But that is just a guess<br/>
<span style="color: #674b1b"><span style="font-size: small">(15:05:50)</span> <b>rynge:</b></span> I can't see his current setup at TACC - I'm looking at an old version from Bridges<br/>
</body>
</html>
