<!DOCTYPE html>
<html>
<head>
<title>Fri Apr 2, 2021 : #operations (osg)</title>
</head>
<body>
<h3>Fri Apr 2, 2021 : #operations (osg)</h3>
<span style="color: #43761b"><span style="font-size: small">(11:13:33)</span> <b>blin:</b></span> @dweitzel when we turned off COVID-19 entries this week, did you also turn off F@H?<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:13:51)</span> <b>dweitzel:</b></span> I turned off single core F@H.  8 core and GPU are still running.<br/>
<span style="color: #43761b"><span style="font-size: small">(11:14:15)</span> <b>blin:</b></span> ok, that explains why syracuse wouldn't be getting any then. thanks!<br/>
<span style="color: #43761b"><span style="font-size: small">(11:14:58)</span> <b>blin:</b></span> when'd you turn off the single core jobs?<br/>
<span style="color: #aba727"><span style="font-size: small">(11:21:17)</span> <b>moate:</b></span> @marian do you know where the LIGO gwms frontend configuration is kept/maintained?<br/>
<span style="color: #aba727"><span style="font-size: small">(11:21:33)</span> <b>moate:</b></span> Greg Thain and I want to see how they've integrated Singularity<br/>
<span style="color: #43761b"><span style="font-size: small">(11:22:46)</span> <b>blin:</b></span> the IGWN FEs are running on tiger so they live in the tiger-osg-config repo<br/>
<span style="color: #43761b"><span style="font-size: small">(11:23:34)</span> <b>blin:</b></span> so i think this should have what you need <a href="https://github.com/opensciencegrid/tiger-osg-config/blob/master/manifests/production/vo-frontend-igwn/frontend.xml">https://github.com/opensciencegrid/tiger-osg-config/blob/master/manifests/production/vo-frontend-igwn/frontend.xml</a><br/>
<span style="color: #aba727"><span style="font-size: small">(11:23:48)</span> <b>moate:</b></span> Ah, didn't realize IGWN = LIGO<br/>
<span style="color: #aba727"><span style="font-size: small">(11:23:51)</span> <b>moate:</b></span> THanks<br/>
<span style="color: #43761b"><span style="font-size: small">(11:24:16)</span> <b>blin:</b></span> ya, IGWN = LIGO + VIRGO + something else?<br/>
<span style="color: #aba727"><span style="font-size: small">(11:24:25)</span> <b>moate:</b></span> Gottya<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:31:42)</span> <b>dweitzel:</b></span> I think IGWN also inlcludes *KAGRA*<br/>
<span style="color: #43761b"><span style="font-size: small">(11:31:59)</span> <b>blin:</b></span> ah yeah, that's right<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:32:06)</span> <b>dweitzel:</b></span> I was told to turn of single core by Lauren, as they were winding down the COVID queues.<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:32:13)</span> <b>dweitzel:</b></span> :bus:<br/>
<span style="color: #43761b"><span style="font-size: small">(11:32:17)</span> <b>blin:</b></span> hahaha<br/>
<span style="color: #43761b"><span style="font-size: small">(11:32:33)</span> <b>blin:</b></span> sure but i'm just looking for when you turned 'em off<br/>
<span style="color: #43761b"><span style="font-size: small">(11:32:59)</span> <b>blin:</b></span> i'm trying to line up timings with a drop in pilots at syracuse<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:33:10)</span> <b>dweitzel:</b></span> ah, it was a 2 step process.  One day I turned off new submissions.  The next I just <tt>condor_rm</tt> 'd all single core F@H jobs.<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:33:36)</span> <b>dweitzel:</b></span> (going back to my git history)<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:34:27)</span> <b>dweitzel:</b></span> Stopped submitting single core jobs on March 29th at ~3pm central<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:35:06)</span> <b>dweitzel:</b></span> Removed sometime on the 30th.<br/>
<blockquote>
<span style="color: #43761b"><span style="font-size: small">(11:36:46)</span> <b>blin:</b></span> do you have a rough estimate of how many F@H jobs were running at the time that you stopped submission and removed jobs from queue?<br/>
<span style="color: #43761b"><span style="font-size: small">(11:37:45)</span> <b>blin:</b></span> a very rough estimate is fine, i'm just trying to see if it actually explains the drop<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:37:57)</span> <b>dweitzel:</b></span> Nope, sorry.  If I had to guess, less then 2k, probably.<br/>
<span style="color: #43761b"><span style="font-size: small">(11:38:27)</span> <b>blin:</b></span> ugh and these are "user" jobs right?<br/>
<span style="color: #43761b"><span style="font-size: small">(11:38:37)</span> <b>blin:</b></span> so who the hell knows how that corresponds to pilots...<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:39:06)</span> <b>dweitzel:</b></span> correct<br/>
</blockquote>
<span style="color: #43761b"><span style="font-size: small">(11:35:21)</span> <b>blin:</b></span> ok, thanks<br/>
<span style="color: #9d8eee"><span style="font-size: small">(11:35:39)</span> <b>cat:</b></span> For local folks: Are we converging on answers to this situation, because I suspect Miron will be asking questions…<br/>
<span style="color: #9d8eee"><span style="font-size: small">(11:36:09)</span> <b>cat:</b></span> One question I have (or could imagine) is how did we make a change of this magnitude and seemingly not notify anyone?<br/>
<span style="color: #aba727"><span style="font-size: small">(12:32:26)</span> <b>moate:</b></span> Is there any decent documentation out there for <tt>frontend.xml</tt>?<br/>
<span style="color: #53b759"><span style="font-size: small">(12:43:05)</span> <b>marian:</b></span> ugh, you mean other than gWMS official web pages provide?<br/>
<span style="color: #aba727"><span style="font-size: small">(12:43:28)</span> <b>moate:</b></span> Guess not, just found this -&gt;<br/>
<span style="color: #aba727"><span style="font-size: small">(12:43:29)</span> <b>moate:</b></span> <a href="https://glideinwms.fnal.gov/doc.v3_2_18/frontend/configuration.html">https://glideinwms.fnal.gov/doc.v3_2_18/frontend/configuration.html</a><br/>
<span style="color: #aba727"><span style="font-size: small">(12:43:40)</span> <b>moate:</b></span> It seems OK-ish<br/>
<span style="color: #53b759"><span style="font-size: small">(12:43:44)</span> <b>marian:</b></span> if so, then no, I don't think we have ... we call such documentation "Edgar's memories"<br/>
<span style="color: #aba727"><span style="font-size: small">(12:43:49)</span> <b>moate:</b></span> ha<br/>
<span style="color: #53b759"><span style="font-size: small">(12:44:00)</span> <b>marian:</b></span> well, I call it like that :slightly_smiling_face:<br/>
<span style="color: #53b759"><span style="font-size: small">(12:45:22)</span> <b>marian:</b></span> at least when I talked to IGWN/LIGO people we ended up invent the term "Edgar's memories" or "Edgar did something"<br/>
<span style="color: #53b759"><span style="font-size: small">(12:45:24)</span> <b>marian:</b></span> :slightly_smiling_face:<br/>
<span style="color: #53b759"><span style="font-size: small">(12:46:08)</span> <b>marian:</b></span> so I usually do reverse engineering on all of the things we troubleshoot for them<br/>
<span style="color: #53b759"><span style="font-size: small">(12:46:22)</span> <b>marian:</b></span> but surely make always point we need to document<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:48:18)</span> <b>bbockelm:</b></span> The frontend config is pretty finicky - not only to decode the settings but _why_ they were set that way.  Moate, always feel free to ask questions.  I've got some recollection here.<br/>
<span style="color: #9d8eee"><span style="font-size: small">(12:51:04)</span> <b>cat:</b></span> “Brian’s memories of Edgar’s memories”<br/>
<span style="color: #aba727"><span style="font-size: small">(12:58:38)</span> <b>moate:</b></span> For some context for my question, Greg and I are trying to figure out what frontend.xml will let us do WRT the startd that the pilot spawns<br/>
<span style="color: #aba727"><span style="font-size: small">(12:59:09)</span> <b>moate:</b></span> We weren't so much trying to figure out why things are the way they are as trying to figure out how to make things the way we want them to be<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:00:00)</span> <b>bbockelm:</b></span> Are you guys on a Zoom call?  I have a few free minutes.<br/>
<span style="color: #aba727"><span style="font-size: small">(13:00:19)</span> <b>moate:</b></span> We just ended it<br/>
<span style="color: #aba727"><span style="font-size: small">(13:01:01)</span> <b>moate:</b></span> I'll probably have some questions later, going to read the docs first<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:03:19)</span> <b>bbockelm:</b></span> In general, the answer is "anything".  You can set arbitrary knobs and determine when these are set (as there are several stages in building the configs and later ones override earlier ones.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:04:03)</span> <b>bbockelm:</b></span> IIRC, you can also control whether the values get propagated to the running job ad and/or the startd ad.<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:37:23)</span> <b>rynge:</b></span> I think "anything" is a little bit broad. For example, one thing that we can't to is use configuration tempaltes<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:39:19)</span> <b>rynge:</b></span> That is currently blocking us from using the startd memory config CHTC uses<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:41:01)</span> <b>rynge:</b></span> I suspect the state of the LIGO frontend is a mix of different efforts: I think they are using my old node advertise scripts, with HTCondor's Singularity execution<br/>
<span style="color: #674b1b"><span style="font-size: small">(14:41:26)</span> <b>rynge:</b></span> I saw somewhere else that we were trying to figure those parts out<br/>
</body>
</html>
