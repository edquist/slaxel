<!DOCTYPE html>
<html>
<head>
<title>Thu May 14, 2020 : #operations (osg)</title>
</head>
<body>
<h3>Thu May 14, 2020 : #operations (osg)</h3>
<span style="color: #43761b"><span style="font-size: small">(10:47:28)</span> <b>blin:</b></span> @jthiltges i'm not seeing any xrootd hosts reporting to the central collector :disappointed:<br/>
<span style="color: #43761b"><span style="font-size: small">(10:47:36)</span> <b>blin:</b></span> do you see any errors in the logs?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:47:52)</span> <b>blin:</b></span> i wonder if i messed up the <tt>COLLECTOR_REQUIREMENTS</tt><br/>
<span style="color: #e06b56"><span style="font-size: small">(10:50:54)</span> <b>jthiltges:</b></span> Nothing obviously jumping out at me. Any hostname I should look for?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:52:06)</span> <b>blin:</b></span> i don't know any off hand but i seem to remember there being a few showing up in a plain old <tt>condor_status -pool <a href="http://collector.opensciencegrid.org:9619">collector.opensciencegrid.org:9619</a></tt> a few months ago<br/>
<span style="color: #43761b"><span style="font-size: small">(10:52:19)</span> <b>blin:</b></span> i would think that all xcaches should be reporting at the very least so there's the GLOW one that @matyas is running<br/>
<span style="color: #c386df"><span style="font-size: small">(10:52:59)</span> <b>matyas:</b></span> what's the ad type for an xcache?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:53:17)</span> <b>matyas:</b></span> you might need to do condor_status -any<br/>
<span style="color: #43761b"><span style="font-size: small">(10:53:32)</span> <b>blin:</b></span> nope, they used to show up as WNs<br/>
<span style="color: #43761b"><span style="font-size: small">(10:53:47)</span> <b>blin:</b></span> there are only schedd's in the collector atm and those are all CEs<br/>
<span style="color: #e06b56"><span style="font-size: small">(10:56:03)</span> <b>jthiltges:</b></span> Found some logs. From the client (<a href="http://hcc-stash.unl.edu">hcc-stash.unl.edu</a>):<br/><pre>May 14 10:48:23 <a href="http://hcc-stash.unl.edu">hcc-stash.unl.edu</a> xcache-reporter: WARNING: Could not advertise to <a href="http://collector1.opensciencegrid.org:9619,collector2.opensciencegrid.org:9619">collector1.opensciencegrid.org:9619,collector2.opensciencegrid.org:9619</a>: Failed to advertise to collector</pre><br/>On collector1.osg:<br/><pre>05/14/20 10:48:23 DC_AUTHENTICATE: received DC_AUTHENTICATE from &lt;129.93.244.237:46178&gt;<br/>05/14/20 10:48:23 DC_AUTHENTICATE: generating BLOWFISH key for session hcc-osg-collector:3535175:1589471303:56179...<br/>05/14/20 10:48:23 SECMAN: new session, doing initial authentication.<br/>05/14/20 10:48:23 Returning to DC while we wait for socket to authenticate.<br/>05/14/20 10:48:23 AUTHENTICATE: setting timeout for (unknown) to 20.<br/>05/14/20 10:48:23 HANDSHAKE: in handshake(my_methods = 'FS')<br/>05/14/20 10:48:23 HANDSHAKE: handshake() - i am the server<br/>05/14/20 10:48:23 HANDSHAKE: client sent (methods == 4)<br/>05/14/20 10:48:23 HANDSHAKE: i picked (method == 4)<br/>05/14/20 10:48:23 HANDSHAKE: client received (method == 4)<br/>05/14/20 10:48:23 FS: client template is /tmp/FS_XXXXXXXXX<br/>05/14/20 10:48:23 FS: client filename is /tmp/FS_XXXRFzRYa<br/>05/14/20 10:48:23 Will return to DC because authentication is incomplete.<br/>05/14/20 10:48:23 AUTHENTICATE_FS: used dir /tmp/FS_XXXRFzRYa, status: 0<br/>05/14/20 10:48:23 AUTHENTICATE: method -1 (FS) failed.<br/>05/14/20 10:48:23 HANDSHAKE: in handshake(my_methods = 'FS')<br/>05/14/20 10:48:23 AUTHENTICATE: handshake would block<br/>05/14/20 10:48:23 Will return to DC to continue authentication..<br/>05/14/20 10:48:23 HANDSHAKE: handshake() - i am the server<br/>05/14/20 10:48:23 HANDSHAKE: client sent (methods == 0)<br/>05/14/20 10:48:23 HANDSHAKE: i picked (method == 0)<br/>05/14/20 10:48:23 HANDSHAKE: client received (method == 0)<br/>05/14/20 10:48:23 DC_AUTHENTICATE: required authentication of 129.93.244.237 failed: AUTHENTICATE:1003:Failed to authenticate with any method|AUTHENTICATE:1004:Failed to authenticate using FS|FS:1004:Unable to lstat(/tmp/FS_XXXRFzRYa)</pre><br/>
<span style="color: #43761b"><span style="font-size: small">(10:57:25)</span> <b>blin:</b></span> ah ok, that "makes sense"<br/>
<span style="color: #43761b"><span style="font-size: small">(10:57:47)</span> <b>blin:</b></span> basically we made default condor installs more secure and of course security has gotten in the way of functionality :smile:<br/>
<span style="color: #43761b"><span style="font-size: small">(10:58:13)</span> <b>blin:</b></span> i think the xcache update that diego is working on should solve it because it adds SSL auth as an option<br/>
<span style="color: #674b1b"><span style="font-size: small">(12:41:55)</span> <b>rynge:</b></span> How do you find a contact email from the current topology setup?<br/>
<span style="color: #43761b"><span style="font-size: small">(12:43:13)</span> <b>blin:</b></span> <a href="https://topology.opensciencegrid.org/contacts">https://topology.opensciencegrid.org/contacts</a> with a cert loaded in your browser whose DN is registered with us<br/>
<span style="color: #674b1b"><span style="font-size: small">(12:47:09)</span> <b>rynge:</b></span> Works. Thanks!<br/>
</body>
</html>
