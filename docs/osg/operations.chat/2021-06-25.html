<!DOCTYPE html>
<html>
<head>
<title>Fri Jun 25, 2021 : #operations (osg)</title>
</head>
<body>
<h3>Fri Jun 25, 2021 : #operations (osg)</h3>
<span style="color: #d1707d"><span style="font-size: small">(07:05:17)</span> <b>gattebury:</b></span> FYI, seeing <tt>Timeout on <a href="http://repo.opensciencegrid.org/mirror/osg/upcoming/el7/release/x86_64">http://repo.opensciencegrid.org/mirror/osg/upcoming/el7/release/x86_64</a>: (28, 'Connection timed out after 30003 milliseconds')</tt> this morning at ~7am Central. Doesn’t seem to be anything listening on port 80.<br/><br/>DNS currently <tt>rDNS record for 128.104.103.123: <a href="http://tigerreserve0008.chtc.wisc.edu">tigerreserve0008.chtc.wisc.edu</a></tt> in case it’s some stale caching causing my issues.<br/>
<span style="color: #73769d"><span style="font-size: small">(07:37:28)</span> <b>tim.theisen:</b></span> @gattebury Some hosts are offline at Wisconsin right now.<br/>
<span style="color: #73769d"><span style="font-size: small">(08:29:24)</span> <b>tim.theisen:</b></span> Wisconsin had a data center power outage: <a href="https://outages.discovery.wisc.edu/incidents/fffj0pd8srvw">https://outages.discovery.wisc.edu/incidents/fffj0pd8srvw</a><br/>
<span style="color: #73769d"><span style="font-size: small">(08:36:04)</span> <b>tim.theisen:</b></span> Multiple buildings on campus are without power: <a href="https://outages.doit.wisc.edu/outage/94740d334308363b1828ce482e9ac5d91b1704dd7b">https://outages.doit.wisc.edu/outage/94740d334308363b1828ce482e9ac5d91b1704dd7b</a><br/>
<span style="color: #9d8eee"><span style="font-size: small">(08:58:57)</span> <b>cat:</b></span> <a href="https://status.opensciencegrid.org">https://status.opensciencegrid.org</a><br/>
<span style="color: #9d8eee"><span style="font-size: small">(08:59:13)</span> <b>cat:</b></span> If OSG services are affected, the status site should reflect that ASAP<br/>
<span style="color: #c386df"><span style="font-size: small">(09:09:39)</span> <b>matyas:</b></span> I don't have access but topology is down too.<br/>
<span style="color: #c386df"><span style="font-size: small">(09:10:02)</span> <b>matyas:</b></span> er, access to update the status page.<br/>
<span style="color: #9d8eee"><span style="font-size: small">(09:10:33)</span> <b>cat:</b></span> Well, this is the Operations team channel, so I’m hoping that someone here has access.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(09:17:26)</span> <b>jpeterson:</b></span> Powering tiger back up. And everything else<br/>
<span style="color: #43761b"><span style="font-size: small">(09:45:59)</span> <b>blin:</b></span> i may have access but i'm not sure how to check<br/>
<span style="color: #43761b"><span style="font-size: small">(09:46:09)</span> <b>blin:</b></span> anyone have any idea if there are docs for this?<br/>
<span style="color: #43761b"><span style="font-size: small">(09:51:09)</span> <b>blin:</b></span> @cat well, i don't have access but i think i have admin to be able to grant/remove access (i'm pretty sure there are seat limits, though)<br/>
<span style="color: #43761b"><span style="font-size: small">(09:51:35)</span> <b>blin:</b></span> on the OSG side, it looks like Derek/BrianB/Mats/Cannon all have access<br/>
<span style="color: #c386df"><span style="font-size: small">(09:54:07)</span> <b>matyas:</b></span> I think both Derek and Brian are out today<br/>
<span style="color: #43761b"><span style="font-size: small">(09:55:03)</span> <b>blin:</b></span> yup<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:11:36)</span> <b>cat:</b></span> @rynge is in this channel, but it is early there.<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:12:31)</span> <b>cat:</b></span> Does someone want to help @clock join this channel and get going on an outage announcement?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:12:35)</span> <b>blin:</b></span> yeah and hopefully he knows how to actually submit the outage<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:15:32)</span> <b>clock:</b></span> On it<br/>
<span style="color: #43761b"><span style="font-size: small">(10:22:05)</span> <b>blin:</b></span> @clock do you know where to submit the outage?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:22:17)</span> <b>clock:</b></span> Okay I have a disclaimer to publish on the site. I am unsure of where to submit the outage<br/>
<span style="color: #43761b"><span style="font-size: small">(10:23:26)</span> <b>blin:</b></span> ah what do you have written? I think Tim was asking someone else to write the outage announcement and for you to submit it :slightly_smiling_face:<br/>
<span style="color: #43761b"><span style="font-size: small">(10:24:12)</span> <b>blin:</b></span> i think you should be able to access <a href="https://manage.statuspage.io/login">https://manage.statuspage.io/login</a> with your Atlassian account<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:25:09)</span> <b>clock:</b></span> Okay, I had just copied the discovery report to indicate that was down<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:26:10)</span> <b>clock:</b></span> I will wait on his report to push to the site<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:26:25)</span> <b>clock:</b></span> Yes I can access that statuspage<br/>
<span style="color: #43761b"><span style="font-size: small">(10:26:57)</span> <b>blin:</b></span> which discovery report, this one? <a href="https://outages.discovery.wisc.edu/incidents/fffj0pd8srvw">https://outages.discovery.wisc.edu/incidents/fffj0pd8srvw</a><br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:27:06)</span> <b>clock:</b></span> Yes<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:27:18)</span> <b>clock:</b></span> I did not push it to the site yet though<br/>
<span style="color: #43761b"><span style="font-size: small">(10:27:36)</span> <b>blin:</b></span> ah yeah, we'll want to modify it so that it's less UW specific<br/>
<span style="color: #43761b"><span style="font-size: small">(10:27:48)</span> <b>blin:</b></span> one sec<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:28:02)</span> <b>clock:</b></span> How am I filling out the status page? Can I have Jeff help with this?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:28:36)</span> <b>blin:</b></span> do you have time for a quick screen share? i think we're gonna have to fumble through this together<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:28:41)</span> <b>clock:</b></span> Yes<br/>
<span style="color: #43761b"><span style="font-size: small">(10:29:05)</span> <b>blin:</b></span> i think Jeff P's in the data center<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:29:21)</span> <b>clock:</b></span> Ah yes<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:38:46)</span> <b>clock:</b></span> @cat Would you like a outage announcement on the main webpage?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:42:37)</span> <b>blin:</b></span> @clock let's actually set the incident to "Investigating"<br/>&gt; Incident name: Data Center Power Outage<br/>&gt; Message:<br/>&gt; One of the data centers hosting OSG services experienced a power outage last night causing some services to be inaccessible. Administrative staff are currently repowering the affected hosts.<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:42:48)</span> <b>cat:</b></span> On the main OSG webpage? No, that’s why we have the status site.<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:42:53)</span> <b>cat:</b></span> Also, this is relatively minor.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:43:10)</span> <b>clock:</b></span> @cat Okay<br/>
<span style="color: #c386df"><span style="font-size: small">(10:43:17)</span> <b>matyas:</b></span> would disagree with your last statement... half our hosted CEs are down<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:43:27)</span> <b>cat:</b></span> Oh, I was unaware of that.<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:43:39)</span> <b>cat:</b></span> Ok, well… great<br/>
<span style="color: #A82F2F"><span style="font-size: small">(10:43:51)</span> <b>B01GA370NNT:</b></span> <br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:44:33)</span> <b>jpeterson:</b></span> tigermaster is back up, now to check on the rest of the k8s structure.<br/>
<span style="color: #43761b"><span style="font-size: small">(10:44:42)</span> <b>blin:</b></span> woot!<br/>
<span style="color: #c386df"><span style="font-size: small">(10:45:31)</span> <b>matyas:</b></span> koji's back<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:46:54)</span> <b>cat:</b></span> Just letting all the local folks know: We’re going to need an incident report on this, so please keep track of things.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:51:20)</span> <b>clock:</b></span> How will I know when these services go live again so that I can update the report?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:51:37)</span> <b>blin:</b></span> we'll harass you about it :slightly_smiling_face:<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:51:42)</span> <b>clock:</b></span> Perfect<br/>
<span style="color: #385a86"><span style="font-size: small">(11:10:35)</span> <b>jdost321:</b></span> Thanks all for your response to this. I'm still getting caught up. I can see from factory monitoring that at least some of our CEs, AMNH, TCNJ dropped off at about 4 am CT<br/>
<span style="color: #99a949"><span style="font-size: small">(11:39:46)</span> <b>dwd:</b></span> topology (<a href="http://my.opensciencegrid.org">my.opensciencegrid.org</a>) is still down.  Is that on the tiger cluster?<br/>
<span style="color: #385a86"><span style="font-size: small">(12:00:33)</span> <b>jdost321:</b></span> Yes, topology is affected<br/>
<span style="color: #385a86"><span style="font-size: small">(12:00:48)</span> <b>jdost321:</b></span> (the web frontend part)<br/>
<span style="color: #c386df"><span style="font-size: small">(13:08:16)</span> <b>matyas:</b></span> @jpeterson tigermaster is back up but I can't contact the API server:<br/>&gt; [13:07 matyas@tigermaster0000 ~]% k8 get pods<br/>&gt; The connection to the server 128.104.103.139:6443 was refused - did you specify the right host or port?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:08:49)</span> <b>jpeterson:</b></span> still working on it. the kubelet on that system isn’t wanting to startup<br/>
<span style="color: #385a86"><span style="font-size: small">(13:10:26)</span> <b>jdost321:</b></span> besides the k8s services themself do we have any WAN connectivity problems between the data center Tiger is in and the outside? Just curious if network was also affected<br/>
<span style="color: #43761b"><span style="font-size: small">(13:14:55)</span> <b>blin:</b></span> well Mat was able to SSH into tigermaster so that bodes well<br/>
<span style="color: #e96699"><span style="font-size: small">(13:27:05)</span> <b>lincoln:</b></span> @jpeterson if I can be of any help with troubleshooting kubelet LMK<br/>
<span style="color: #385a86"><span style="font-size: small">(13:29:39)</span> <b>jdost321:</b></span> Brian L gave me the keys to the status page. I'd like to give a status update. Is it fair to say the hardware is back up but we're still working on getting the Kubernetes cluster back online? In particular this also affects all the gwms frontends in TIger. I just created components for them.<br/>
<span style="color: #385a86"><span style="font-size: small">(13:34:12)</span> <b>jdost321:</b></span> Something along these lines, unless anyone wants to correct my wording i'll post this update in 20 min or so<br/><pre>Power has been restored and the machines are back up. Administrative staff is working on getting the Kubernetes infrastructure back online, which serves the affected OSG central services</pre><br/>
<span style="color: #9d8eee"><span style="font-size: small">(13:44:00)</span> <b>cat:</b></span> I think the message is clear … whether it is accurate, I cannot help.<br/>
<span style="color: #A82F2F"><span style="font-size: small">(13:51:48)</span> <b>B01GA370NNT:</b></span> <br/>
<span style="color: #A82F2F"><span style="font-size: small">(13:53:36)</span> <b>B01GA370NNT:</b></span> Your incident *Data Center Power Outage* has been open for over *3 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #385a86"><span style="font-size: small">(15:10:07)</span> <b>jdost321:</b></span> @jpeterson how are things going? any updates?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:10:51)</span> <b>jpeterson:</b></span> not well, @lincoln and I are looking at it, and @bbockelm will bin in about 20ish minutes as well<br/>
<span style="color: #9d8eee"><span style="font-size: small">(15:16:51)</span> <b>cat:</b></span> Can any services be moved elsewhere temporarily?<br/>
<span style="color: #385a86"><span style="font-size: small">(15:18:50)</span> <b>jdost321:</b></span> technically we can move some hosted CEs back to river, but in practice I need Jeff P's help there, and Derek or Brian L to tweak the DNS. Derek is out and I think Jeff P and Brian L's time is better spent debugging the root cause<br/>
<span style="color: #385a86"><span style="font-size: small">(16:36:49)</span> <b>jdost321:</b></span> i'm guessing some kind of progress was made, I don't get the connection errors anymore but I don't know what to make of this either<br/><pre>kubectl --kubeconfig ~/jdost.yaml -n osg get pods<br/>Error from server (Forbidden): pods is forbidden: User "jdost" cannot list resource "pods" in API group "" in the namespace "osg"</pre><br/>
<blockquote>
<span style="color: #e06b56"><span style="font-size: small">(16:37:56)</span> <b>jthiltges:</b></span> Getting the same result with my credentials<br/>
<span style="color: #c386df"><span style="font-size: small">(16:47:27)</span> <b>matyas:</b></span> That's a separate issue -- a bunch of credentials expired recently; Jeff will have to give you new ones.<br/>
<span style="color: #e06b56"><span style="font-size: small">(16:48:58)</span> <b>jthiltges:</b></span> My cert shows good through Aug 25 2022<br/>
<span style="color: #c386df"><span style="font-size: small">(16:49:30)</span> <b>matyas:</b></span> ... or not I guess<br/>
<span style="color: #3c8c69"><span style="font-size: small">(16:56:34)</span> <b>jpeterson:</b></span> non-admin credentials were 2year from creation by default.  we are still poking at the etcd state database. not looking good<br/>
</blockquote>
<span style="color: #A82F2F"><span style="font-size: small">(16:43:55)</span> <b>B01GA370NNT:</b></span> Your component *Topology* has been set to *Major Outage* for over *6 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(16:53:33)</span> <b>B01GA370NNT:</b></span> Your component *IGWN GWMS Frontend* has been set to *Major Outage* for over *3 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(16:53:35)</span> <b>B01GA370NNT:</b></span> Your component *JLAB GWMS Frontend* has been set to *Major Outage* for over *3 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(16:53:38)</span> <b>B01GA370NNT:</b></span> Your component *GLUEX GWMS Frontend* has been set to *Major Outage* for over *3 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(16:53:39)</span> <b>B01GA370NNT:</b></span> Your component *UCSD CMS GWMS Frontend* has been set to *Major Outage* for over *3 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(16:53:41)</span> <b>B01GA370NNT:</b></span> Your component *UCSD CMS VO Collector* has been set to *Major Outage* for over *3 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(16:53:55)</span> <b>B01GA370NNT:</b></span> Your incident *Data Center Power Outage* has been open for over *6 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(19:53:31)</span> <b>B01GA370NNT:</b></span> Your component *IGWN GWMS Frontend* has been set to *Major Outage* for over *6 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(19:53:33)</span> <b>B01GA370NNT:</b></span> Your component *JLAB GWMS Frontend* has been set to *Major Outage* for over *6 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(19:53:34)</span> <b>B01GA370NNT:</b></span> Your component *GLUEX GWMS Frontend* has been set to *Major Outage* for over *6 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(19:53:35)</span> <b>B01GA370NNT:</b></span> Your component *UCSD CMS GWMS Frontend* has been set to *Major Outage* for over *6 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(19:53:36)</span> <b>B01GA370NNT:</b></span> Your component *UCSD CMS VO Collector* has been set to *Major Outage* for over *6 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(22:53:31)</span> <b>B01GA370NNT:</b></span> Your component *Hosted CE Infrastructure* has been set to *Partial Outage* for over *12 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(22:53:33)</span> <b>B01GA370NNT:</b></span> Your component *Topology* has been set to *Major Outage* for over *12 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #A82F2F"><span style="font-size: small">(22:53:49)</span> <b>B01GA370NNT:</b></span> Your incident *Data Center Power Outage* has been open for over *12 hours*. (<a href="http://manage.statuspage.io/pages/ws62tz4wcmxv">http://manage.statuspage.io/pages/ws62tz4wcmxv</a>)<br/>
<span style="color: #e06b56"><span style="font-size: small">(23:20:49)</span> <b>jthiltges:</b></span> If need be, I can probably resurrect topology and repo VMs at Nebraska. Please let me know, and I'll work on it.<br/>
</body>
</html>
