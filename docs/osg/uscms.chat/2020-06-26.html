<!DOCTYPE html>
<html>
<head>
<title>Fri Jun 26, 2020 : #uscms (osg)</title>
</head>
<body>
<h3>Fri Jun 26, 2020 : #uscms (osg)</h3>
<span style="color: #9e3997"><span style="font-size: small">(12:20:07)</span> <b>bbockelm:</b></span> &gt;  In fairness, and I'm not one to defend Java, rejecting the certs was the right move -- after the update, the cert didn't chain to a root of trust<br/>but it did!  The problem was the server sent the intermediate and a the wrong root.  Browsers have pretty robust verification paths and are able to figure out "hey, I know this intermediate CA - I can just ignore the wrong root because I have the correct one locally".  OpenSSL ... does not.<br/><br/>&gt;  When they re-did the update, it broke the same way<br/>Nah, the breaks were a similar-looking-but-different issue (long discussion that's not worth rehashing).  OSG doesn't have the size to detect all the possible ways OpenSSL can break ... but where we missed the opportunity was to broadcast from the mountaintops to be on the lookout on whatever-weekend-it-was.<br/>
<span style="color: #43761b"><span style="font-size: small">(12:40:00)</span> <b>blin:</b></span> i think andrew's talking about when they removed the addtrust CA in the beginning of May before it expired at the end of May<br/>
<span style="color: #43761b"><span style="font-size: small">(12:40:23)</span> <b>blin:</b></span> i'd think that things would fail the same way that they did in January if the el6 client updated in those cases without a corresponding server-side update<br/>
<span style="color: #de5f24"><span style="font-size: small">(13:37:11)</span> <b>justas.balcas:</b></span> Is there something wrong with <a href="http://cmsxrootd.fnal.gov">cmsxrootd.fnal.gov</a> redirector?<br/><pre>-bash-4.2$ voms-proxy-info<br/>subject   : /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jbalcas/CN=751133/CN=Justas Balcas/CN=1855413021<br/>issuer    : /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jbalcas/CN=751133/CN=Justas Balcas<br/>identity  : /DC=ch/DC=cern/OU=Organic Units/OU=Users/CN=jbalcas/CN=751133/CN=Justas Balcas<br/>type      : RFC compliant proxy<br/>strength  : 2048 bits<br/>path      : /storage/user/jbalcas/x509<br/>timeleft  : 140:47:12<br/>-bash-4.2$ xrdcp <a href="root://cmsxrootd.fnal.gov:1094//store/temp/user/jbalcas.cachetest/2020-6-27-10-cache-test">root://cmsxrootd.fnal.gov:1094//store/temp/user/jbalcas.cachetest/2020-6-27-10-cache-test</a> .<br/>[0B/0B][100%][==================================================][0B/s]<br/>Run: [ERROR] Server responded with an error: [3011] No servers are available to read the file. (source)<br/>-bash-4.2$ ll /mnt/hadoop//store/temp/user/jbalcas.cachetest/2020-6-27-10-cache-test<br/>-rw-rw-r-- 1 root cms 16777216 Jun 26 11:02 /mnt/hadoop//store/temp/user/jbalcas.cachetest/2020-6-27-10-cache-test<br/>-bash-4.2$ xrdcp <a href="root://cmsxrootd.fnal.gov:1094//store/temp/user/jbalcas.cachetest/2020-6-27-9-cache-test">root://cmsxrootd.fnal.gov:1094//store/temp/user/jbalcas.cachetest/2020-6-27-9-cache-test</a> .<br/>[16MB/16MB][100%][==================================================][16MB/s]</pre><br/>
<span style="color: #de5f24"><span style="font-size: small">(13:37:24)</span> <b>justas.balcas:</b></span> any new file on hdfs - I cant retrieve it via fnal redirector<br/>
<span style="color: #e06b56"><span style="font-size: small">(13:47:58)</span> <b>jthiltges:</b></span> Showing up OK on both regional redirectors at the moment. Any chance it's being accessed before created (a negative caching thing)?<br/>
<span style="color: #de5f24"><span style="font-size: small">(13:48:36)</span> <b>justas.balcas:</b></span> mh. let me try that<br/>
<span style="color: #de5f24"><span style="font-size: small">(13:51:09)</span> <b>justas.balcas:</b></span> you are right! How long does negative cache lives until retried?<br/>
<span style="color: #e06b56"><span style="font-size: small">(13:53:59)</span> <b>jthiltges:</b></span> For the redirector at Nebraska, looks like we've got<br/><pre>cms.fxhold 1200s</pre><br/>
<span style="color: #de5f24"><span style="font-size: small">(14:14:27)</span> <b>justas.balcas:</b></span> thanks<br/>
</body>
</html>
