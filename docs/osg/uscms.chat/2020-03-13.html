<!DOCTYPE html>
<html>
<head>
<title>Fri Mar 13, 2020 : #uscms (osg)</title>
</head>
<body>
<h3>Fri Mar 13, 2020 : #uscms (osg)</h3>
<span style="color: #a72f79"><span style="font-size: small">(16:35:28)</span> <b>andrew.melo:</b></span> 2 Qs: 1) Is there an easy tool to figure out the max bandwidth between two hosts? 2) can someone run the other end so I can test something?<br/><br/>for some reason, it looks like my wan link is capped at 15gbit and i'm not sure why<br/>
<span style="color: #619a4f"><span style="font-size: small">(16:37:31)</span> <b>clundstedt:</b></span> iperf?<br/>
<span style="color: #d1707d"><span style="font-size: small">(16:37:43)</span> <b>gattebury:</b></span> <tt>iperf3</tt> is probably the easiest tool, though getting &gt; 15gb for a single iperf3 instance is very dependent on hardware, some luck, and the phase of the moon<br/>
<span style="color: #d1707d"><span style="font-size: small">(16:41:30)</span> <b>gattebury:</b></span> feel free to try a <tt>iperf3 -p 11235 -c <a href="http://hcc-fiona.unl.edu">hcc-fiona.unl.edu</a></tt> if you want (and add <tt>-R</tt> to go the other direction). Plenty of other knobs to really test “go fast” but I always have to look those up.<br/>
<span style="color: #d1707d"><span style="font-size: small">(16:42:45)</span> <b>gattebury:</b></span> that’s a host with a 100Gb NIC more or less directly on our campus edge — no guarantees of speed, but it’s good enough<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:44:50)</span> <b>andrew.melo:</b></span> I've got 8x10g machines whose switch is a hop from our research computing edge then another hop to campus edge<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:45:16)</span> <b>andrew.melo:</b></span> I'm just curious if while those big machines are pumping gridftp how much throughput I'll get<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:45:36)</span> <b>andrew.melo:</b></span> mind if I hit it for 10-15 mins so I can see if the gridftp traffic drops?<br/>
<span style="color: #d1707d"><span style="font-size: small">(16:45:53)</span> <b>gattebury:</b></span> go for it<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:46:00)</span> <b>andrew.melo:</b></span> ty<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:48:20)</span> <b>andrew.melo:</b></span> I'm gonna drain one of the 8 machines, then once it quiesces, fire up iperf<br/>
<span style="color: #a72f79"><span style="font-size: small">(17:12:41)</span> <b>andrew.melo:</b></span> Hmmm, no change on gridftp's rate, still a solid 15/16gbit/sec, even with a node sending ~5gbit over iperf. weird. Thanks, garhan :slightly_smiling_face:<br/>
<span style="color: #d1707d"><span style="font-size: small">(17:26:36)</span> <b>gattebury:</b></span> no problem, I usually keep that iperf shutoff but just send a msg if you ever need it back on — where’s the gridftp going? lots of places, or just a few?<br/>
<span style="color: #a72f79"><span style="font-size: small">(17:27:38)</span> <b>andrew.melo:</b></span> lots of everywhere but mostly italy and russia<br/>
<span style="color: #a72f79"><span style="font-size: small">(17:29:28)</span> <b>andrew.melo:</b></span> whatever production is happening has been making like a gbyte/sec all year<br/>
<span style="color: #a72f79"><span style="font-size: small">(17:31:42)</span> <b>andrew.melo:</b></span> (dip eearlier was bringing a new machine online whose CRLs were expired, so it blackholed a gajillion transfers until I noticed)<br/>
</body>
</html>
