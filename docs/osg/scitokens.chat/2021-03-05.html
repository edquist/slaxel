<!DOCTYPE html>
<html>
<head>
<title>Fri Mar 5, 2021 : #scitokens (osg)</title>
</head>
<body>
<h3>Fri Mar 5, 2021 : #scitokens (osg)</h3>
<span style="color: #99a949"><span style="font-size: small">(12:11:56)</span> <b>dwd:</b></span> With htvault-config and vault and htgettoken, the regular code flow behaves almost the same as the device flow.  The main difference is that the URL the user sends to their browser is longer with the regular flow than with the device flow.  Also the user’s web browser needs access to port 8200 on the vault server because that’s where the flow ends up.<br/>
<span style="color: #99a949"><span style="font-size: small">(12:14:55)</span> <b>dwd:</b></span> Regarding service tokens, an option with the vault client is to use a regular OIDC flow to get a refresh token into vault, and then provide a way for the automated process to continue to get vault tokens.  That can be done in a number of ways, including via a kerberos robot principal or by the vault system administrator manually creating a renewable vault token.  In the future, I expect we’ll also be developing a way to get them via ssh-agent and authorized keys.  @timm @jbasney @bbockelm<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:55:52)</span> <b>bbockelm:</b></span> Right - in addition to managing token issuer rules at CILogon, you can also manage in Vault who can access issued tokens (and how).  If you have both options, it's not immediately clear whether you would always do one or the other.  I suspect we'll end up with a combination of both, depending on the use case.<br/>
</body>
</html>
