<!DOCTYPE html>
<html>
<head>
<title>Fri Mar 13, 2020 : #scitokens (osg)</title>
</head>
<body>
<h3>Fri Mar 13, 2020 : #scitokens (osg)</h3>
<span style="color: #43761b"><span style="font-size: small">(09:00:55)</span> <b>blin:</b></span> @dweitzel <tt>/DC=org/DC=cilogon/C=US/O=University of Wisconsin-Madison/CN=Brian Lin A2266246</tt><br/>
<span style="color: #235e5b"><span style="font-size: small">(10:19:34)</span> <b>dweitzel:</b></span> what scopes do you want.  I see <tt>dteam</tt> VO has these access rules:<br/><pre>{"match": "fqan:/dteam", "scopes": ["read:/store", "write:/store/user/{username}", "write:/store/tmp"]},</pre><br/>
<span style="color: #235e5b"><span style="font-size: small">(10:20:08)</span> <b>dweitzel:</b></span> There are some personal certifiates with slightly different rules, but that's just me, brian, and Wei.<br/>
<span style="color: #43761b"><span style="font-size: small">(10:23:24)</span> <b>blin:</b></span> hrm, i guess all of them, but i don't see the CONDOR ones<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:24:10)</span> <b>dweitzel:</b></span> as far as I can tell, this issuer will not give you condor "rights"<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:24:25)</span> <b>dweitzel:</b></span> (to be honest, I don't know what condor scopes look like, need to go read)<br/>
<span style="color: #43761b"><span style="font-size: small">(10:24:35)</span> <b>blin:</b></span> one sec, i've got them in my notes<br/>
<span style="color: #43761b"><span style="font-size: small">(10:25:18)</span> <b>blin:</b></span> look at 2b: <a href="https://opensciencegrid.org/technology/software/requesting-tokens/#requesting-tokens">https://opensciencegrid.org/technology/software/requesting-tokens/#requesting-tokens</a><br/>
<span style="color: #235e5b"><span style="font-size: small">(10:27:07)</span> <b>dweitzel:</b></span> should I be looking at the other parts?  Because this dteam issuer for sure will not work with oidc-client.<br/>
<span style="color: #43761b"><span style="font-size: small">(10:27:47)</span> <b>blin:</b></span> nah, don't worry about the other parts<br/>
<span style="color: #43761b"><span style="font-size: small">(10:27:53)</span> <b>blin:</b></span> 2b has the condor scopes<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:29:29)</span> <b>dweitzel:</b></span> ok, just to confirm your goals:<br/>• You want a token with condor scopes<br/>• The token should be from the dteam issuer: <a href="https://dteam.scitokens.org/">https://dteam.scitokens.org/</a><br/>• wherever you are using the token already knows and trusts the dteam issuer?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:32:39)</span> <b>blin:</b></span> yup! note that this isn't at all urgent, i can get WLCG tokens with the scopes I need from IAM<br/>
<span style="color: #43761b"><span style="font-size: small">(10:33:05)</span> <b>blin:</b></span> i just need to get experience with the scitokens side at some point<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:36:04)</span> <b>dweitzel:</b></span> does oidc agent work with OSG's comanage?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:36:19)</span> <b>dweitzel:</b></span> can comanage issue scitokens?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:36:34)</span> <b>dweitzel:</b></span> sure, I'll add the condor stuff for your cert.<br/>
<span style="color: #43761b"><span style="font-size: small">(10:37:24)</span> <b>blin:</b></span> &gt; does oidc agent work with OSG's comanage?<br/>i believe it does<br/>&gt; can comanage issue scitokens?<br/>i don't think so?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:38:09)</span> <b>blin:</b></span> there's a 9:30 meeting between oidc-agent devs, fnal folks, and maybe some CILogon folks next monday. it may be worth attending<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:41:56)</span> <b>dweitzel:</b></span> interesting<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:43:22)</span> <b>dweitzel:</b></span> ok, dteam issuer should be ready for you Brian.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:43:51)</span> <b>dweitzel:</b></span> if you want to understand your token, feel free to copy / paste into a token reader such as <a href="https://demo.scitokens.org/">https://demo.scitokens.org/</a><br/>
<span style="color: #43761b"><span style="font-size: small">(10:44:54)</span> <b>blin:</b></span> dumb question: what's different between <a href="http://demo.scitokens.org">demo.scitokens.org</a> and <a href="http://jwt.io">jwt.io</a>?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:46:52)</span> <b>dweitzel:</b></span> we forked the <a href="http://jwt.io">jwt.io</a> website a while ago and added some scitokens functionality to it.  For example, it can issue scitokens to you that are valid if the resource allows the <a href="http://demo.scitokens.org">demo.scitokens.org</a> issuer.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:47:18)</span> <b>dweitzel:</b></span> it has a demo using scitokens for protected access.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:55:14)</span> <b>bbockelm:</b></span> @blin - oddly enough, I just got off the phone with Basney and then read this thread.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:55:53)</span> <b>bbockelm:</b></span> He and I were talking about putting up a token issuer on the OSG comanage instance.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:56:29)</span> <b>bbockelm:</b></span> once that's there, <tt>oidc-agent</tt> _should_ work transparently with either IAM or CILogon.<br/>
<span style="color: #43761b"><span style="font-size: small">(14:01:47)</span> <b>blin:</b></span> woot! what do we have to do for that?<br/>
</body>
</html>
