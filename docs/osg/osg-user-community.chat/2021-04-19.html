<!DOCTYPE html>
<html>
<head>
<title>Mon Apr 19, 2021 : #osg-user-community (osg)</title>
</head>
<body>
<h3>Mon Apr 19, 2021 : #osg-user-community (osg)</h3>
<span style="color: #5a4592"><span style="font-size: small">(13:09:01)</span> <b>lmichael:</b></span> @bbockelm any thoughts on @mtwest2718’s question above?<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:44:41)</span> <b>mtwest2718:</b></span> I know <a href="https://slurm.schedmd.com/sacct.html">SLURM</a> has some functionality built into <tt>sacct</tt> that reports "Consumed Energy" but how this is calibrated I do not know.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:52:55)</span> <b>mtwest2718:</b></span> A few people have pointed me at back-of-the-envelop calculators: <a href="https://green-algorithms.org/">here</a> and <a href="https://chryswoods.github.io/howmuchisenough/">here</a> along with the LLNL having a working <a href="https://eehpcwg.llnl.gov/index.html">group </a>on the topic. But with the OSG being by its nature distributed and heterogeneous and HTC workflows often involving complex DAGs, these simple calculators miss important variables.<br/>
<span style="color: #e96699"><span style="font-size: small">(15:01:20)</span> <b>lincoln:</b></span> if the glidein reported whatever cpu i imagine you could do it in principle<br/>
<span style="color: #e96699"><span style="font-size: small">(15:01:36)</span> <b>lincoln:</b></span> theres other things you'd potenitally need to take into account..  hyperthreading and whatnot might skew numbers<br/>
<span style="color: #9f69e7"><span style="font-size: small">(15:09:50)</span> <b>mtwest2718:</b></span> Yeah, its not a simple problem, particular for non-monolithic HTC workloads. Probably too complex, but there is some appeal of feeding a program an HTCondor <tt>.log</tt> file and have it spit out a tally of kWh alongside CoreHours.<br/>
<span style="color: #5a4592"><span style="font-size: small">(18:55:12)</span> <b>lmichael:</b></span> You’d probably be best off just going with some avg kWh per core hour, and qualifying the estimate appropriately.<br/>
</body>
</html>
