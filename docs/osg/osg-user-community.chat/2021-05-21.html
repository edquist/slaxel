<!DOCTYPE html>
<html>
<head>
<title>Fri May 21, 2021 : #osg-user-community (osg)</title>
</head>
<body>
<h3>Fri May 21, 2021 : #osg-user-community (osg)</h3>
<span style="color: #9f69e7"><span style="font-size: small">(13:21:19)</span> <b>mtwest2718:</b></span> Is the OSG right now only supporting x86_64 systems or are there also ARM systems in the mix as well?<br/>
<span style="color: #e96699"><span style="font-size: small">(13:36:59)</span> <b>lincoln:</b></span> only x86_64 in the pool right now it seem s:)<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:37:46)</span> <b>rynge:</b></span> We do not currently have any arm, but we re "preparing" for it by for example asking users to always put in <tt>Arch == "X86_64"</tt> in their jobs<br/>
<span style="color: #9f69e7"><span style="font-size: small">(13:40:59)</span> <b>mtwest2718:</b></span> Excuse my naivete but would it be possible to have jobs from the same workflow run on different architectures?<br/>
<span style="color: #e96699"><span style="font-size: small">(13:48:09)</span> <b>lincoln:</b></span> if all of the dependencies are present, sure<br/>
<span style="color: #e96699"><span style="font-size: small">(13:49:51)</span> <b>lincoln:</b></span> folks can get tripped up if their job brings, say, compiled C code for x86_64<br/>
<span style="color: #e96699"><span style="font-size: small">(13:52:15)</span> <b>lincoln:</b></span> I don't think the modules system has any arm64 dependencies compiled though. so you'd be on your own if there were any arm resources.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:49:37)</span> <b>mtwest2718:</b></span> Sorry for more questions on a Friday afternoon.<br/><br/>Getting a question from some HPC folks about the potential significant performance loss in certain applications by running C code with non-optimal compiler flags due to running in a container on heterogeneous hardware.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:52:51)</span> <b>bbockelm:</b></span> ah, that's a perennial favorite.  Indeed, you'll have performance loss on some applications with suboptimal compiler flags.  The question is, does _your_ application see a significant performance loss and is the performance loss larger or smaller than the addition of the heterogeneous hardware?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:53:17)</span> <b>bbockelm:</b></span> E.g., if I take a 20% hit but get 2x more cores, I'd personally take the tradeoff every day.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:54:47)</span> <b>bbockelm:</b></span> There are many traditional HPC applications that are highly tuned for specific hardware; my observation (wager?) is that most science applications have different performance characteristics from traditional HPC applications.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:57:28)</span> <b>bbockelm:</b></span> So, back to the original question -- I guess I'd say the answer is "yes, but".  Yes there are performance considerations but those may nor correlate strongly with scientific throughput.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:57:54)</span> <b>mtwest2718:</b></span> I have been advertising HTCondor week in HPC circles and got stuck in the firing line of a *rant* about containers and compiler flags.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(15:22:20)</span> <b>mtwest2718:</b></span> Thank you Brian for the sensible response. I do wish I could get HPC folks to attend and listen. Maybe break out of their FLOPS mantra... for a little bit.<br/>
<span style="color: #9e3997"><span style="font-size: small">(15:44:26)</span> <b>bbockelm:</b></span> Or it's a good time to break _into_ the flops -- the newest version off HTCondor will actually record your application's performance through CPU counters.<br/>
<blockquote>
<span style="color: #9f69e7"><span style="font-size: small">(16:53:45)</span> <b>mtwest2718:</b></span> Will the slot/node meta data be fine grained enough to distinguish different generations of a chip family (ala Intel 10th Gen i7 VS 11th for example)?<br/>
<span style="color: #9f69e7"><span style="font-size: small">(16:57:06)</span> <b>mtwest2718:</b></span> Also can we get per socket power usage :pray:<br/>
</blockquote>
<span style="color: #9e3997"><span style="font-size: small">(15:44:28)</span> <b>bbockelm:</b></span> :slightly_smiling_face:<br/>
<span style="color: #5a4592"><span style="font-size: small">(16:36:04)</span> <b>lmichael:</b></span> If it’s at all possible to NOT have users specify Arch == “X86_64”, and to only match to ARM if they explicitly ask for it, that might be much better!?<br/>
</body>
</html>
