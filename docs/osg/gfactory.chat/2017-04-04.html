<!DOCTYPE html>
<html>
<head>
<title>Tue Apr 4, 2017 : #gfactory (osg)</title>
</head>
<body>
<h3>Tue Apr 4, 2017 : #gfactory (osg)</h3>
<span style="color: #3c989f"><span style="font-size: small">(08:26:54)</span> <b>amjad:</b></span> @marian , @mkandes , I found these logs<br/>[Thu Mar 30 19:43:01 2017] [error] [client 137.110.33.44] File does not exist: /var/lib/gwms-factory/web-area/monitor/jslibs/rrdFile.js, referer: <a href="http://vocms0805.cern.ch/factory/monitor/factoryStatus.html">http://vocms0805.cern.ch/factory/monitor/factoryStatus.html</a><br/>[Thu Mar 30 19:43:01 2017] [error] [client 137.110.33.44] File does not exist: /var/lib/gwms-factory/web-area/monitor/jslibs/rrdMultiFile.js, referer: <a href="http://vocms0805.cern.ch/factory/monitor/factoryStatus.html">http://vocms0805.cern.ch/factory/monitor/factoryStatus.html</a><br/>[Thu Mar 30 19:43:01 2017] [error] [client 137.110.33.44] File does not exist: /var/lib/gwms-factory/web-area/monitor/jslibs/rrdFilter.js, referer: <a href="http://vocms0805.cern.ch/factory/monitor/factoryStatus.html">http://vocms0805.cern.ch/factory/monitor/factoryStatus.html</a><br/>[Thu Mar 30 19:43:06 2017] [error] [client 137.110.33.44] File does not exist: /var/lib/gwms-factory/web-area/monitor/jslibs/binaryXHR.js, referer: <a href="http://vocms0805.cern.ch/factory/monitor/factoryStatus.html">http://vocms0805.cern.ch/factory/monitor/factoryStatus.html</a><br/>
<span style="color: #43761b"><span style="font-size: small">(10:00:57)</span> <b>blin:</b></span> @marian you around?<br/>
<span style="color: #53b759"><span style="font-size: small">(10:01:24)</span> <b>marian:</b></span> heh, magic powers? just sent you email...<br/>
<span style="color: #53b759"><span style="font-size: small">(10:01:39)</span> <b>marian:</b></span> so what do you want to do guys?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:01:41)</span> <b>blin:</b></span> haha, just saw that<br/>
<span style="color: #43761b"><span style="font-size: small">(10:01:52)</span> <b>blin:</b></span> i heard moate talking about killing glideins but i think they're dealing with another fire first<br/>
<span style="color: #53b759"><span style="font-size: small">(10:02:44)</span> <b>marian:</b></span> <a href="http://glidein2.chtc.wisc.edu">glidein2.chtc.wisc.edu</a> is your Frontend I guess?<br/>
<span style="color: #53b759"><span style="font-size: small">(10:03:35)</span> <b>marian:</b></span> so you want everything what gets requested and in any job status from that frontend killed?<br/>
<span style="color: #43761b"><span style="font-size: small">(10:06:54)</span> <b>blin:</b></span> Yup, that's the one.<br/>
<span style="color: #43761b"><span style="font-size: small">(10:07:07)</span> <b>blin:</b></span> and eventually yes, that's what we want. let me run it by them to see when they want it done. i'll ping you again when i get an answer<br/>
<span style="color: #53b759"><span style="font-size: small">(10:13:42)</span> <b>marian:</b></span> ok, thanks<br/>
<span style="color: #43761b"><span style="font-size: small">(10:24:48)</span> <b>blin:</b></span> @marian: we're good to go on killing those pilots<br/>
<span style="color: #53b759"><span style="font-size: small">(10:25:18)</span> <b>marian:</b></span> ok, I'll proceed...<br/>
<span style="color: #53b759"><span style="font-size: small">(10:27:39)</span> <b>marian:</b></span> Brian, <a href="http://glidein3.chtc.wisc.edu">glidein3.chtc.wisc.edu</a> is still alive, btw?<br/>
<span style="color: #53b759"><span style="font-size: small">(10:28:08)</span> <b>marian:</b></span> it's using same FE user mapped on Factory side ... feglow ...<br/>
<span style="color: #53b759"><span style="font-size: small">(10:28:59)</span> <b>marian:</b></span> so whether it's safe to blow out everything for 'owner==feglow' or rather be careful and try to avoid glidein3<br/>
<span style="color: #53b759"><span style="font-size: small">(10:29:50)</span> <b>marian:</b></span> just now I realized factory condor dn mapfile has both: glidein2 and glidein3<br/>
<span style="color: #53b759"><span style="font-size: small">(10:30:03)</span> <b>marian:</b></span> and maps to the same user<br/>
<span style="color: #53b759"><span style="font-size: small">(10:30:07)</span> <b>marian:</b></span> feglow<br/>
<span style="color: #43761b"><span style="font-size: small">(10:30:24)</span> <b>blin:</b></span> glidein3 is alive but it's used as a test<br/>
<span style="color: #43761b"><span style="font-size: small">(10:30:42)</span> <b>blin:</b></span> it's not really active though so you can blow away anything with <tt>owner==feglow</tt><br/>
<span style="color: #53b759"><span style="font-size: small">(10:30:50)</span> <b>marian:</b></span> ok, so I don't need to dig further for expression to search for particular FE only ...<br/>
<span style="color: #53b759"><span style="font-size: small">(10:30:58)</span> <b>marian:</b></span> thanks! you saved me some minutes :wink:<br/>
<span style="color: #43761b"><span style="font-size: small">(10:36:14)</span> <b>blin:</b></span> let me know when it's done!<br/>
<span style="color: #53b759"><span style="font-size: small">(10:38:12)</span> <b>marian:</b></span> looks clean to me!<br/>
<span style="color: #53b759"><span style="font-size: small">(10:38:32)</span> <b>marian:</b></span> did few codor_rm's and those and also -forcex's ...<br/>
<span style="color: #53b759"><span style="font-size: small">(10:38:36)</span> <b>marian:</b></span> should be clean<br/>
<span style="color: #53b759"><span style="font-size: small">(10:38:42)</span> <b>marian:</b></span> for feglow<br/>
<span style="color: #53b759"><span style="font-size: small">(10:38:52)</span> <b>marian:</b></span> on SDCS ... moment, will do at GOC factory too<br/>
<span style="color: #53b759"><span style="font-size: small">(10:40:25)</span> <b>marian:</b></span> done<br/>
<span style="color: #53b759"><span style="font-size: small">(10:46:11)</span> <b>marian:</b></span> btw, guite many requests are coming back quickly for feglow ...and some already in held status ... what you see on your end?<br/>
<span style="color: #53b759"><span style="font-size: small">(10:46:48)</span> <b>marian:</b></span> are you submitting stuff? ... I can list sites where jobs get held ....<br/>
<span style="color: #43761b"><span style="font-size: small">(10:55:25)</span> <b>blin:</b></span> i assume we have jobs submitting<br/>
<span style="color: #43761b"><span style="font-size: small">(10:57:22)</span> <b>blin:</b></span> we're seeing startd's but they've got the misconfiguration in them for some reason<br/>
<span style="color: #43761b"><span style="font-size: small">(10:57:29)</span> <b>blin:</b></span> which they shouldn't if they're new startd's<br/>
<span style="color: #53b759"><span style="font-size: small">(11:07:49)</span> <b>marian:</b></span> well I did rm stuff ...<br/>
<span style="color: #53b759"><span style="font-size: small">(11:08:19)</span> <b>marian:</b></span> and did you clean everything old on the Frontend side too?<br/>
<span style="color: #53b759"><span style="font-size: small">(11:08:51)</span> <b>marian:</b></span> your submit schedd...<br/>
<span style="color: #53b759"><span style="font-size: small">(11:09:13)</span> <b>marian:</b></span> if anything has left there it'll request same things over and over<br/>
<span style="color: #53b759"><span style="font-size: small">(11:09:20)</span> <b>marian:</b></span> with old startds<br/>
<span style="color: #53b759"><span style="font-size: small">(11:10:17)</span> <b>marian:</b></span> I think you want to stop requesting factory new jobs, you clean stuff on your submit schedd, then let me know and I clean things again on the factory end<br/>
<span style="color: #43761b"><span style="font-size: small">(11:25:30)</span> <b>blin:</b></span> well most of the jobs we're seeing have the same config<br/>
<span style="color: #43761b"><span style="font-size: small">(11:31:58)</span> <b>blin:</b></span> not same, correct***<br/>
<span style="color: #43761b"><span style="font-size: small">(11:35:38)</span> <b>blin:</b></span> @marian we're looking at jobs with the bad config and checking out their <tt>GLIDEIN_ClusterId</tt> and <tt>GLIDEIN_Factory</tt> attributes. If we give you that list, could you remove those pilots?<br/>
<span style="color: #53b759"><span style="font-size: small">(11:36:19)</span> <b>marian:</b></span> sure, I think that'll work<br/>
<span style="color: #43761b"><span style="font-size: small">(11:43:23)</span> <b>blin:</b></span> <pre><br/>(11:41:20 AM) Aaron Moate: SDSC Clusters:<br/><br/>(11:41:22 AM) Aaron Moate: 4263478<br/>4962697<br/>(11:41:37 AM) Aaron Moate: OSGGOC clusters:<br/>(11:41:38 AM) Aaron Moate: 3506967<br/>4546963<br/>(11:42:24 AM) Aaron Moate: ITBGOC clusters:<br/>(11:42:25 AM) Aaron Moate: 223697<br/>223932<br/>223940<br/>223943<br/>223961<br/>223982<br/></pre><br/>
<span style="color: #53b759"><span style="font-size: small">(11:58:43)</span> <b>marian:</b></span> seems like for glideins I can't parse through GLIDEIN_ClusterId, don't see classad like this in glidein jobs on glidein schedds<br/>
<span style="color: #53b759"><span style="font-size: small">(11:58:55)</span> <b>marian:</b></span> I'll need to poke around further ...<br/>
<span style="color: #43761b"><span style="font-size: small">(12:01:10)</span> <b>blin:</b></span> well, i think the glidein_clusterid means it's the job cluster id at the factory<br/>
<span style="color: #bd9336"><span style="font-size: small">(12:33:50)</span> <b>mkandes:</b></span> for i in <tt>seq 1 9</tt>; do condor_rm -name schedd_glideins$i@glidein.grid.iu.edu -const 'owner=?="feglow"' | sleep 5; done<br/>
<span style="color: #bd9336"><span style="font-size: small">(12:36:18)</span> <b>mkandes:</b></span> Ah, sorry. I though you guys were still talking about how to blow away all the glow glideins.<br/>
<span style="color: #53b759"><span style="font-size: small">(13:17:19)</span> <b>marian:</b></span> Marty, that is done already...<br/>
<span style="color: #53b759"><span style="font-size: small">(13:17:52)</span> <b>marian:</b></span> and you should not use seq ... new recommended form is {1..9} instead of $(seq 1 9)<br/>
<span style="color: #53b759"><span style="font-size: small">(13:18:02)</span> <b>marian:</b></span> :stuck_out_tongue:<br/>
<span style="color: #43761b"><span style="font-size: small">(13:18:58)</span> <b>blin:</b></span> hey marian, saw your email. did you clean out the jobs above?<br/>
<span style="color: #385a86"><span style="font-size: small">(13:27:04)</span> <b>jdost321:</b></span> i always preferred bash's hidden c syntax ((i=1;i&lt;=9;++i))<br/>
<span style="color: #bd9336"><span style="font-size: small">(13:28:17)</span> <b>mkandes:</b></span> P.S. Trying to go though and clean-up my old tickets for you guys as best I can.<br/>
<span style="color: #bd9336"><span style="font-size: small">(13:28:29)</span> <b>mkandes:</b></span> Old Jira tickets that is.<br/>
<span style="color: #43761b"><span style="font-size: small">(13:31:02)</span> <b>blin:</b></span> thanks, much appreciated<br/>
<span style="color: #43761b"><span style="font-size: small">(13:31:05)</span> <b>blin:</b></span> when's your last day again?<br/>
<span style="color: #bd9336"><span style="font-size: small">(13:32:00)</span> <b>mkandes:</b></span> Technically started new job yesterday. But just trying to use what free time I have to wrap up a few things.<br/>
<span style="color: #bd9336"><span style="font-size: small">(13:39:50)</span> <b>mkandes:</b></span> @marian: You may want to follow-up with Syracuse (see GFACTOPS-1014). All glideins submitted to RHEL7 entries going held due to proxy issue; RHEL6 entries appear to be unaffected.  Started about March 30th/31st.<br/>
<span style="color: #53b759"><span style="font-size: small">(13:49:33)</span> <b>marian:</b></span> sure! very well enough of tickets everywhere :slightly_smiling_face:<br/>
<span style="color: #53b759"><span style="font-size: small">(13:50:07)</span> <b>marian:</b></span> did you guys all talked together and pointing to me today for support from every project? :slightly_smiling_face:<br/>
<span style="color: #43761b"><span style="font-size: small">(13:51:56)</span> <b>blin:</b></span> yea it's our weekly "gang up on marian" meeting :stuck_out_tongue:<br/>
<span style="color: #53b759"><span style="font-size: small">(13:52:13)</span> <b>marian:</b></span> :stuck_out_tongue:<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:05:23)</span> <b>mkandes:</b></span> @rynge: I know you're on vacation right now, but just fyi ... we're starting to see these errors pop up in glidein startd logs ...<br/><br/>04/01/17 09:21:08 (pid:86846) CONFIGURATION PROBLEM: Failed to insert ClassAd attribute STARTD_JOB_ATTRS = ,x509userproxysubject,x509UserProxyFQAN,x509UserProxyVOName,x509UserProxyEmail,x509UserProxyExpiration,ProjectName.  The most common reason for this is that you forgot to quote a string value in the list of attributes being added to the STARTD ad.<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:22:38)</span> <b>mkandes:</b></span> @marian @jdost321; Was the plan to upgrade SDSC to glideinWMS 3.2.18 today? Just a reminder in the context of this outstanding ticket with Hyak .... GFACTOPS-1076<br/>
<span style="color: #53b759"><span style="font-size: small">(14:23:26)</span> <b>marian:</b></span> I don't we agreed on the meeting to upgrade today as we wanted final word from Jeff on that<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:23:54)</span> <b>mkandes:</b></span> Okay, I could not remember when.<br/>
<span style="color: #385a86"><span style="font-size: small">(14:23:55)</span> <b>jdost321:</b></span> i think the most we discussed is the earliest could be the 11th for goc<br/>
<span style="color: #385a86"><span style="font-size: small">(14:24:06)</span> <b>jdost321:</b></span> so, it is reasonable to try SDSC this week<br/>
<span style="color: #385a86"><span style="font-size: small">(14:24:19)</span> <b>jdost321:</b></span> we've confirmed there were no surprises on ITB right?<br/>
<span style="color: #53b759"><span style="font-size: small">(14:24:26)</span> <b>marian:</b></span> true<br/>
<span style="color: #53b759"><span style="font-size: small">(14:24:33)</span> <b>marian:</b></span> nothing obviuos on ITB<br/>
<span style="color: #385a86"><span style="font-size: small">(14:25:01)</span> <b>jdost321:</b></span> ok, Marian, let's plan to get SDSC upgraded by the end of the day tomorrow.  Just ping me tomorrow if you can't get to it before my shift<br/>
<span style="color: #53b759"><span style="font-size: small">(14:25:20)</span> <b>marian:</b></span> ok<br/>
<span style="color: #53b759"><span style="font-size: small">(14:25:46)</span> <b>marian:</b></span> will follow on few more items for ops and I upgrade later today or tomorrow<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:30:13)</span> <b>mkandes:</b></span> Yeah, so far I haven't noticed any issues with 3.2.18. And at least from preliminary tests of GLIDEIN_CPUs = auto / GLIDEIN_MaxMemMBs =0 appeared to be working again. I submitted some test jobs to Nebraska test entry again to confirm. See GFACTOPS-1122.<br/>
<span style="color: #53b759"><span style="font-size: small">(15:48:13)</span> <b>marian:</b></span> @blin: I can confirm that all ClusterIds from the list are cleaned, btw ... do not exist on the Factories anymore ... if you find some more jobs with wrong startds let me know<br/>
<span style="color: #43761b"><span style="font-size: small">(15:48:30)</span> <b>blin:</b></span> will do, i'll check with our admins<br/>
<span style="color: #43761b"><span style="font-size: small">(15:48:34)</span> <b>blin:</b></span> thanks marian!<br/>
</body>
</html>
