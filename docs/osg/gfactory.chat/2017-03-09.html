<!DOCTYPE html>
<html>
<head>
<title>Thu Mar 9, 2017 : #gfactory (osg)</title>
</head>
<body>
<h3>Thu Mar 9, 2017 : #gfactory (osg)</h3>
<span style="color: #5b89d5"><span style="font-size: small">(09:31:40)</span> <b>sthapa:</b></span> How do I update the tarballs?  I use the factory for all software team testing so it sounds like I should update it fairly soon<br/>
<span style="color: #bd9336"><span style="font-size: small">(11:04:50)</span> <b>mkandes:</b></span> From our twiki page, but which is behind a password login for some reason ....<br/>
<span style="color: #bd9336"><span style="font-size: small">(11:04:59)</span> <b>mkandes:</b></span> Go to the Condor website and download tarballs:<br/><a href="http://research.cs.wisc.edu/htcondor/downloads/">http://research.cs.wisc.edu/htcondor/downloads/</a><br/>For organization, we recommend to download all currently used tarballs to /root/Downloads/tarballs.<br/>cd /root/Downloads/tarballs wget <a href="http://parrot.cs.wisc.edu//symlink/tmp_path_to_tarball/condor-rel-x86_RedHat6-stripped.tar.gz">http://parrot.cs.wisc.edu//symlink/tmp_path_to_tarball/condor-rel-x86_RedHat6-stripped.tar.gz</a> <br/>Download each permutation for the needed release (as of 2014-01-09):<br/>condor-rel-x86_RedHat5-stripped.tar.gz<br/>condor-rel-x86_64_RedHat5-stripped.tar.gz<br/>condor-rel-x86_RedHat6-stripped.tar.gz<br/>condor-rel-x86_64_RedHat6-stripped.tar.gz<br/>NOTE as of 2016-02-05 we only have sites with x86_64 arch and mostly rhel6. Keeping the above list for ref.<br/>The downloaded tarballs are also symlinked to here, other factories can then access the history as needed:<br/><a href="http://gfactory-1.t2.ucsd.edu/debug/tarballs/">http://gfactory-1.t2.ucsd.edu/debug/tarballs/</a><br/>Create Stripped Tarballs<br/>Go to the prestage dir:<br/>cd /var/lib/gwms-factory/condor<br/>Append gfactory-g_rel- in front of stripped tarballs where g_rel is the current glideinWMS version. An example for 64-bit rhel6:<br/>create_condor_tarball gfactory-g_rel-condor-rel-x86_64_RedHat6-stripped.tar.gz /root/Downloads/tarballs/condor-rel-x86_64_RedHat6-stripped.tar.gz <br/>Alternatively you can recreate all tarballs from /root/Downloads/tarballs using a for loop:<br/>G_REL=g_rel for i in /root/Downloads/tarballs/condor-*.tar.gz; do      echo -n "creating gfactory-${G_REL}-<tt>basename $i</tt>..."     create_condor_tarball gfactory-${G_REL}-<tt>basename $i</tt> $i     echo " done." done <br/>The new tarballs need to be added to the Factory config in the condor_tarballs section. Hints on how to properly add them are described in the sections that follow. When ready, continue on to the section, Update, Reconfigure and Restart Factory.<br/>
<span style="color: #bd9336"><span style="font-size: small">(11:06:19)</span> <b>mkandes:</b></span> the area of the factory config when tarball paths need to be updated are in /etc/gwms-factory/glideinWMS.xml near the bottom.<br/>
<span style="color: #385a86"><span style="font-size: small">(11:08:35)</span> <b>jdost321:</b></span> 027 (4532087.000.000) 03/09 08:33:35 Job submitted to grid resource<br/>    GridResource: condor <a href="http://hosted-ce02.grid.uchicago.edu">hosted-ce02.grid.uchicago.edu</a> <a href="http://hosted-ce02.grid.uchicago.edu:9619">hosted-ce02.grid.uchicago.edu:9619</a><br/>    GridJobId: condor <a href="http://hosted-ce02.grid.uchicago.edu">hosted-ce02.grid.uchicago.edu</a> <a href="http://hosted-ce02.grid.uchicago.edu:9619">hosted-ce02.grid.uchicago.edu:9619</a> 257590.0<br/>
</body>
</html>
