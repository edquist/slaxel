<!DOCTYPE html>
<html>
<head>
<title>Mon Dec 7, 2020 : #gracc (osg)</title>
</head>
<body>
<h3>Mon Dec 7, 2020 : #gracc (osg)</h3>
<span style="color: #5870dd"><span style="font-size: small">(10:31:31)</span> <b>duncan.macleod:</b></span> hi all, hopefully this is the best place for this question. I'm looking at <a href="https://gracc.opensciencegrid.org/d/000000079/site-summary?orgId=1&amp;from=1572566400000&amp;to=1604188800000&amp;var-interval=$__auto_interval_interval&amp;var-site=RAL-LCG2&amp;var-site=UKI-NORTHGRID-LANCS-HEP&amp;var-site=UKI-SCOTGRID-GLASGOW&amp;var-type=Payload&amp;var-Filter=VOName%7C%3D~%7C.*ligo.*">https://gracc.opensciencegrid.org/d/000000079/site-summary?orgId=1&amp;from=1572566400000&amp;to=1604188800000&amp;var-interval=$__auto_interval_interval&amp;var-site=RAL-LCG2&amp;var-site=UKI-NORTHGRID-LANCS-HEP&amp;var-site=UKI-SCOTGRID-GLASGOW&amp;var-type=Payload&amp;var-Filter=VOName%7C%3D~%7C.*ligo.*</a> to try and estimate how many UK resources have been used in the last year. I am confused by the first two graphs, entitled _Total Core Hours_ and _Total CPU Hours_, with the latter about 15% of the former. Can someone explain what each of these measures and how they might be related?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:44:11)</span> <b>dweitzel:</b></span> Hi Duncan.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:44:31)</span> <b>dweitzel:</b></span> I have plans to remove that CPU Hours field.  For payload jobs, I don't trust it much.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:45:35)</span> <b>dweitzel:</b></span> Generally, that graph is suppose to show the "User CPU" hours.  Same field as the "user" field from the output of the <tt>time</tt> command.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:46:31)</span> <b>dweitzel:</b></span> But, it's really hard for payload jobs (non-root) to capture cpu time of multiple subprocesses.  Further, it's cpu time, so high IO jobs will show a low value.  But, high IO is kinda bread &amp; butter OSG...<br/>
<span style="color: #5870dd"><span style="font-size: small">(10:49:31)</span> <b>duncan.macleod:</b></span> I ask because I put the two numbers in a resource allocation proposal and the reviewer questioned the apparent 15% efficiency of our jobs - is that the way it is supposed to be read?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:58:27)</span> <b>dweitzel:</b></span> If we trusted the cpu hours, yes.<br/>
<span style="color: #5870dd"><span style="font-size: small">(11:29:07)</span> <b>duncan.macleod:</b></span> ok, even if its a factor of 2 out, that's still pretty horrendous<br/>
</body>
</html>
