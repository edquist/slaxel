<!DOCTYPE html>
<html>
<head>
<title>Fri Jun 25, 2021 : #gracc (osg)</title>
</head>
<body>
<h3>Fri Jun 25, 2021 : #gracc (osg)</h3>
<span style="color: #bd9336"><span style="font-size: small">(02:27:23)</span> <b>mkandes:</b></span> @blin - If you have time to double check the payload utilization on your end tomorrow, please do let me know if you can confirm that is the total payload utilization of cpu-hours.<br/><br/>I think there is a few months of life ($) left in this 32-node (36 cores/per node) system. I would like to propose to the PI we increase OSG available nodes because no one else is using the other nodes --- OSG has 6 dedicated nodes of 32. But also make glideins accept any type of VO job and make queue parameters on our end more friendly to glidein jobs. I can ping @jdost321 about how to improve glidein submissions and job matching --- I think at least increasing glidein lifetime would help (maybe from 8 hours to 48 hours). Also, I know @bbockelm wants SDSC to get on the preemption model ... if SDSC is going to test that model, I think this is cluster to try it on and prove it out. The lead admin is retiring this month and this could effectively become a dev cluster for us to experiment with slurm configurations that would make that possible on other (larger) clusters.<br/><br/>But 3% utilization of glidein time delivered so far ... at the very least, I think we need to do something different for last few months.<br/>
<span style="color: #bd9336"><span style="font-size: small">(02:30:33)</span> <b>mkandes:</b></span> P.S. Running direct accounting against Slurm, I did see many (or the majority of) glidein jobs last only 20 minutes, so matchmaking is definitely an issue.<br/>
<span style="color: #bd9336"><span style="font-size: small">(02:34:02)</span> <b>mkandes:</b></span> 12 core-hours = 20 minute glidein lifetime for 36 core nodes.<br/>
<span style="color: #43761b"><span style="font-size: small">(08:53:01)</span> <b>blin:</b></span> @mkandes oof yeah that's rough. let me see if maybe i missed some records<br/>
<span style="color: #43761b"><span style="font-size: small">(10:15:09)</span> <b>blin:</b></span> looking at raw payload records, i'm seeing a sum of <tt>905,141.425</tt>, which looks like it's about 3% over your estimate for pilots...which seems off<br/>
<span style="color: #43761b"><span style="font-size: small">(10:19:11)</span> <b>blin:</b></span> i'm not sure if there's deduplication that occurs in the summarization process. can this wait until next week? Derek should be back by then and he'd have a better idea of what's "right" here<br/>
<span style="color: #43761b"><span style="font-size: small">(11:01:05)</span> <b>blin:</b></span> aha, summary payload records aren't too far off, i just had the wrong date range: <tt>904,292.972</tt><br/>
<span style="color: #43761b"><span style="font-size: small">(11:02:30)</span> <b>blin:</b></span> and the Fields of Science<br/><pre>"OIM_NSFFieldOfScience: Descending",Count<br/>"Biological Sciences",1229<br/>Astronomy,889<br/>Physics,657<br/>Chemistry,313<br/>"Computer Sciences",257<br/>Engineering,80<br/>Mathematics,21<br/>Health,17<br/>"Integrative Activities",11<br/>Economics,5<br/>Education,4</pre><br/>
<span style="color: #bd9336"><span style="font-size: small">(12:17:19)</span> <b>mkandes:</b></span> @blin - Thanks. I'll check in next week with Derek. I believe your 'raw payload' could be glidein runtime, but I would not be entirely surprised your initial result is closer to actual utilization. As I said, I see lots of idle glideins.<br/>
<span style="color: #43761b"><span style="font-size: small">(12:18:23)</span> <b>blin:</b></span> nah, i checked the pilot core hour sum and it was _less_. I must be doing something wrong<br/>
<span style="color: #bd9336"><span style="font-size: small">(13:49:51)</span> <b>mkandes:</b></span> Maybe its not as bad as we think. This looks more promising.<br/>
<span style="color: #bd9336"><span style="font-size: small">(13:50:03)</span> <b>mkandes:</b></span> <br/>
<span style="color: #bd9336"><span style="font-size: small">(13:51:25)</span> <b>mkandes:</b></span> Still high unmatched.<br/>
<span style="color: #43761b"><span style="font-size: small">(13:56:20)</span> <b>blin:</b></span> =/<br/>
</body>
</html>
