<!DOCTYPE html>
<html>
<head>
<title>Wed Mar 14, 2018 : #gracc (osg)</title>
</head>
<body>
<h3>Wed Mar 14, 2018 : #gracc (osg)</h3>
<span style="color: #965d1b"><span style="font-size: small">(09:59:01)</span> <b>briedel:</b></span> could someone explain the various numbers to me that are displayed on the gracc plot<br/>
<span style="color: #965d1b"><span style="font-size: small">(09:59:16)</span> <b>briedel:</b></span> @briedel uploaded a file: <a href="https://opensciencegrid.slack.com/files/U1DNMH7SS/F9P56SZRN/screen_shot_2018-03-14_at_09.54.00.png">Screen Shot 2018-03-14 at 09.54.00.png</a><br/>
<span style="color: #965d1b"><span style="font-size: small">(10:05:37)</span> <b>briedel:</b></span> the histogram says 250kish and then the pie chart says 421k<br/>
<span style="color: #965d1b"><span style="font-size: small">(10:05:44)</span> <b>briedel:</b></span> which is the true number?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:13:36)</span> <b>kretzke:</b></span> the pie chart is including the next day, since it looks like your time range includes midnight<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:14:17)</span> <b>kretzke:</b></span> <a href="https://gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?orgId=1&amp;from=1519289168636&amp;to=1519458326852&amp;var-VOName=All&amp;var-Project=xenon1t&amp;var-Facility=All&amp;var-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d">https://gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?orgId=1&amp;from=1519289168636&amp;to=1519458326852&amp;var-VOName=All&amp;var-Project=xenon1t&amp;var-Facility=All&amp;var-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d</a><br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:14:33)</span> <b>kretzke:</b></span> vs <a href="https://gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?orgId=1&amp;from=1519332293009&amp;to=1519415059367&amp;var-VOName=All&amp;var-Project=xenon1t&amp;var-Facility=All&amp;var-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d">https://gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?orgId=1&amp;from=1519332293009&amp;to=1519415059367&amp;var-VOName=All&amp;var-Project=xenon1t&amp;var-Facility=All&amp;var-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d</a><br/>
<span style="color: #965d1b"><span style="font-size: small">(10:17:09)</span> <b>briedel:</b></span> okay<br/>
<span style="color: #965d1b"><span style="font-size: small">(10:17:13)</span> <b>briedel:</b></span> thanks<br/>
<span style="color: #965d1b"><span style="font-size: small">(10:17:20)</span> <b>briedel:</b></span> that is not super clear... can that be changed?<br/>
<span style="color: #965d1b"><span style="font-size: small">(10:17:33)</span> <b>briedel:</b></span> or is that just an artifact of the plotting<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:27:52)</span> <b>kretzke:</b></span> it’s a result of summary records being timestamped to midnight and time ranges in Grafana being inclusive. Either could be changed, the former more easily, and perhaps there’s a good argument to be made there. Not my jurisdiction any more, let’s see what @dweitzel thinks<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:28:24)</span> <b>kretzke:</b></span> I seem to recall this coming up before<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:38:25)</span> <b>dweitzel:</b></span> I'm not sure why the bar chart is different from the pie chart.  Both look at the same data...<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:41:07)</span> <b>kretzke:</b></span> because the bar chart stops right at midnight<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:42:14)</span> <b>kretzke:</b></span> <a href="https://gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?orgId=1&amp;from=1519344000000&amp;to=1519430400000&amp;var-VOName=All&amp;var-Project=xenon1t&amp;var-Facility=All&amp;var-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d">https://gracc.opensciencegrid.org/dashboard/db/payload-jobs-summary?orgId=1&amp;from=1519344000000&amp;to=1519430400000&amp;var-VOName=All&amp;var-Project=xenon1t&amp;var-Facility=All&amp;var-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d</a><br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:43:12)</span> <b>kretzke:</b></span> @kretzke uploaded a file: <a href="https://opensciencegrid.slack.com/files/U0X2J0V0X/F9PRKT0EN/image.png">image.png</a><br/>
<span style="color: #235e5b"><span style="font-size: small">(11:11:06)</span> <b>dweitzel:</b></span> ah, you are right.  good catch.<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:11:22)</span> <b>dweitzel:</b></span> BTW, how was elasticon?  Any good contacts?  Any feedback?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(11:41:50)</span> <b>kretzke:</b></span> it was pretty crazy actually, so much going on. There were several folks from NERSC there, and I saw a couple from some other labs.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(11:44:00)</span> <b>kretzke:</b></span> my talk went pretty well, not too much specific feedback or questions. A couple people were interested in our experience with RabbitMQ. I told them it’s been pretty good, with some caveats…<br/>
<span style="color: #3c8c69"><span style="font-size: small">(11:44:37)</span> <b>kretzke:</b></span> seems Kafka is winning the MQ wars, at least in the Elastic community<br/>
<span style="color: #3c8c69"><span style="font-size: small">(11:46:06)</span> <b>kretzke:</b></span> some very cool new visualization tools in Kibana, I actually just gave a quick talk to the CMS folks about them. Can you see this? <a href="https://indico.cern.ch/event/713671/contributions/2932345/attachments/1617300/2570932/kibana_-_cms_monitoring_-_20180314.pdf">https://indico.cern.ch/event/713671/contributions/2932345/attachments/1617300/2570932/kibana_-_cms_monitoring_-_20180314.pdf</a><br/>
<span style="color: #3c8c69"><span style="font-size: small">(11:46:35)</span> <b>kretzke:</b></span> ah right, I already told you about canvas<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:48:18)</span> <b>dweitzel:</b></span> yeah, I an see that.<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:48:23)</span> <b>dweitzel:</b></span> cool.<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:52:08)</span> <b>dweitzel:</b></span> I'm reading Kafka, it seems like a more involved RabbitMQ?  Has a bunch of features above and beyond message brokering.<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:52:20)</span> <b>dweitzel:</b></span> is that the impression you have too?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(11:58:59)</span> <b>kretzke:</b></span> no, the opposite actually, although admittedly it’s been maybe a year since I played with it. It has a more robust clustering model, at the cost of requiring zookeeper, but has a simpler messaging model. Instead of keeping a queue per consumer, it keeps a queue on the “exchange” and keeps track of where each consumer is in that queue. So it keeps all messages for some length of time.<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:03:46)</span> <b>dweitzel:</b></span> that makes sense.<br/>
</body>
</html>
