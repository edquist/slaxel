<!DOCTYPE html>
<html>
<head>
<title>Tue Mar 7, 2017 : #gracc (osg)</title>
</head>
<body>
<h3>Tue Mar 7, 2017 : #gracc (osg)</h3>
<span style="color: #9e3997"><span style="font-size: small">(11:35:40)</span> <b>bbockelm:</b></span> are these all GRACC graphs?<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:36:10)</span> <b>dweitzel:</b></span> yes<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:36:27)</span> <b>dweitzel:</b></span> If I understand your "these"<br/>
<span style="color: #902d59"><span style="font-size: small">(11:37:29)</span> <b>tanya:</b></span> @dweitzel have you finished with transfer summary? Should i try to verify numbers again?<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:37:42)</span> <b>dweitzel:</b></span> There's some issues with it.<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:37:55)</span> <b>dweitzel:</b></span> Not sure if we understand those issues yet.<br/>
<span style="color: #902d59"><span style="font-size: small">(11:38:10)</span> <b>tanya:</b></span> ok<br/>
<span style="color: #902d59"><span style="font-size: small">(13:41:43)</span> <b>tanya:</b></span> @bbockelm  - is it possible/reasonable to ask to push OSG glideinwms logs to Nebraska ES?<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:42:08)</span> <b>bbockelm:</b></span> you mean the logfiles themselves?<br/>
<span style="color: #902d59"><span style="font-size: small">(13:42:14)</span> <b>tanya:</b></span> yes<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:42:14)</span> <b>bbockelm:</b></span> or the classads?<br/>
<span style="color: #902d59"><span style="font-size: small">(13:42:22)</span> <b>tanya:</b></span> no logfiles<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:42:32)</span> <b>bbockelm:</b></span> erm, I'm not sure we have enough disk space for the logfiles.  I'd welcome the challenge!<br/>
<span style="color: #902d59"><span style="font-size: small">(13:42:34)</span> <b>tanya:</b></span> we need to see why pilots are held<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:42:37)</span> <b>bbockelm:</b></span> How much data are we talking about?<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:42:39)</span> <b>bbockelm:</b></span> which VO?<br/>
<span style="color: #902d59"><span style="font-size: small">(13:43:00)</span> <b>tanya:</b></span> no idea - i am asking theoretically - instead of opening a ticket and wait<br/>
<span style="color: #902d59"><span style="font-size: small">(13:43:09)</span> <b>tanya:</b></span> it would be much easier just to check ES<br/>
<span style="color: #902d59"><span style="font-size: small">(13:43:23)</span> <b>tanya:</b></span> all fermilab vos<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:43:30)</span> <b>bbockelm:</b></span> I'd be happy to try!  Alternately, UChicago has a pretty awesome ES setup.<br/>
<span style="color: #5b89d5"><span style="font-size: small">(13:43:31)</span> <b>sthapa:</b></span> It’s moderately large, I think I have some scripts and ES mappings for this<br/>
<span style="color: #902d59"><span style="font-size: small">(13:44:00)</span> <b>tanya:</b></span> ok - we will talk to Marty<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:44:00)</span> <b>bbockelm:</b></span> @tanya - what if we rotated only after 7 days?<br/>
<span style="color: #902d59"><span style="font-size: small">(13:44:09)</span> <b>tanya:</b></span> yes - it is fine<br/>
<span style="color: #5b89d5"><span style="font-size: small">(13:44:20)</span> <b>sthapa:</b></span> <a href="https://github.com/DHTC-Tools/logstash-confs/tree/master/glideinwms">https://github.com/DHTC-Tools/logstash-confs/tree/master/glideinwms</a><br/>
<span style="color: #902d59"><span style="font-size: small">(13:44:30)</span> <b>tanya:</b></span> we don't care about long term for now (maybe somebody else does)<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:44:37)</span> <b>bbockelm:</b></span> :slightly_smiling_face: Suchandra, does that mean we already have this setup for OSG VO?<br/>
<span style="color: #5b89d5"><span style="font-size: small">(13:45:07)</span> <b>sthapa:</b></span> I did some work but ran out of space, I can resurrect and get this working again<br/>
<span style="color: #902d59"><span style="font-size: small">(13:46:01)</span> <b>tanya:</b></span> Hi Marty<br/>
<span style="color: #bd9336"><span style="font-size: small">(13:46:35)</span> <b>mkandes:</b></span> @bbockelm: We rsync logs from SDSC factory for interested frontend admins. e.g., @rynge will usually poke us when he sees something wrong with glidein logs.<br/>
<span style="color: #902d59"><span style="font-size: small">(13:46:40)</span> <b>tanya:</b></span> do you willing to start pushing glideinwms logs to ES, it looks Suchandra has code to do it<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:47:35)</span> <b>bbockelm:</b></span> yeah - rsync'ing logs has always been a bit of weak sauce.  I think using Suchandra's code is a great idea.<br/>
<span style="color: #902d59"><span style="font-size: small">(13:47:51)</span> <b>tanya:</b></span> yes, could we try<br/>
<span style="color: #bd9336"><span style="font-size: small">(13:48:35)</span> <b>mkandes:</b></span> Goctchya. Didn't know there was another option.<br/>
<span style="color: #5b89d5"><span style="font-size: small">(13:49:16)</span> <b>sthapa:</b></span> Marty, I’d be happy to help with the code.  Looking at it, it looks like I’m just grabbing bits from the logs instead of the entire thing<br/>
<span style="color: #5b89d5"><span style="font-size: small">(13:49:39)</span> <b>sthapa:</b></span> it’ll probably need to be changed to get some more interesting bits, e.g. stdout or stderr<br/>
<span style="color: #8d4b84"><span style="font-size: small">(14:06:25)</span> <b>kherner:</b></span> Completely unrelated, but Purdue-Halstead is reporting 20M hours in the past day.<br/>
<span style="color: #902d59"><span style="font-size: small">(14:14:32)</span> <b>tanya:</b></span> brrrr<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:20:10)</span> <b>kretzke:</b></span> @kherner yeah, they’re reporting epoch StartTime in some records and the quarantine filter isn't catching them <a href="https://jira.opensciencegrid.org/browse/GRACC-86">https://jira.opensciencegrid.org/browse/GRACC-86</a><br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:33:07)</span> <b>kretzke:</b></span> I’ve cleaned up the latest records<br/>
<span style="color: #902d59"><span style="font-size: small">(15:49:40)</span> <b>tanya:</b></span> Ken, could you please open the ticket for Purdue-H?<br/>
<span style="color: #8d4b84"><span style="font-size: small">(16:16:44)</span> <b>kherner:</b></span> done<br/>
<span style="color: #3c8c69"><span style="font-size: small">(17:19:45)</span> <b>kretzke:</b></span> <a href="https://gracc.opensciencegrid.org/dashboard/db/unknown-sites-in-payload-records">https://gracc.opensciencegrid.org/dashboard/db/unknown-sites-in-payload-records</a><br/>
<span style="color: #5b89d5"><span style="font-size: small">(17:24:59)</span> <b>sthapa:</b></span> The ruc. sites are from the MWT2 friends queue<br/>
<span style="color: #5b89d5"><span style="font-size: small">(17:25:15)</span> <b>sthapa:</b></span> That’s going through the MWT2 RCCF factory instead of the osg-flock host<br/>
<span style="color: #5b89d5"><span style="font-size: small">(17:26:52)</span> <b>sthapa:</b></span> I think all the comet instances are coming from xenon1t jobs that are running there through edgar’s virtual cluster bit<br/>
<span style="color: #5b89d5"><span style="font-size: small">(17:27:26)</span> <b>sthapa:</b></span> is there a way we can fix these or prevent future entries like that?  Something we can change on the submit hosts?<br/>
<span style="color: #902d59"><span style="font-size: small">(17:56:14)</span> <b>tanya:</b></span> i sent Edgar comet related stuff (comet-host...) is coming from Dan Krieger direct submission, SDCS-Comet from Krieger submitting vis osg-login and Comet from all the rest<br/>
<span style="color: #9e3997"><span style="font-size: small">(18:13:42)</span> <b>bbockelm:</b></span> @kretzke - doh!  Safari users still can't read due to certificate issues.  Does anyone recall why?<br/>
<span style="color: #9e3997"><span style="font-size: small">(18:14:38)</span> <b>bbockelm:</b></span> I thought we went around this circle before but can't recall the conclusion.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:19:36)</span> <b>kretzke:</b></span> because safari is terrible. there’s actually still a ticket open for that.<br/>
<span style="color: #8d4b84"><span style="font-size: small">(18:19:46)</span> <b>kherner:</b></span> Chrome works though, right?<br/>
<span style="color: #8d4b84"><span style="font-size: small">(18:20:17)</span> <b>kherner:</b></span> I would think either both would work and both wouldn't work since they both pull from the Mac keychain<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:21:36)</span> <b>kretzke:</b></span> @kretzke uploaded a file: <a href="https://opensciencegrid.slack.com/files/kretzke/F4EE9NUBB/pasted_image_at_2017_03_07_04_21_pm.png">at least for me safari works in a private window…</a><br/>
<span style="color: #902d59"><span style="font-size: small">(18:22:44)</span> <b>tanya:</b></span> 400 Bad Request<br/><br/>The SSL certificate error<br/>
<span style="color: #8d4b84"><span style="font-size: small">(18:22:47)</span> <b>kherner:</b></span> did not work for me in a private window FWIW<br/>
<span style="color: #8d4b84"><span style="font-size: small">(18:22:55)</span> <b>kherner:</b></span> But Chrome did work<br/>
<span style="color: #902d59"><span style="font-size: small">(18:22:58)</span> <b>tanya:</b></span> in private window and CILogon<br/>
<span style="color: #8d4b84"><span style="font-size: small">(18:23:27)</span> <b>kherner:</b></span> I used a CILogon (OSG CA, not Basic CA)<br/>
<span style="color: #9e3997"><span style="font-size: small">(18:23:38)</span> <b>bbockelm:</b></span> I think it's because gracc is allowing a user certificate request.<br/>
<span style="color: #9e3997"><span style="font-size: small">(18:23:46)</span> <b>bbockelm:</b></span> We shouldn't even accept these because Safari mauls them so badly.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:23:47)</span> <b>kretzke:</b></span> don’t give it any certificate<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:25:33)</span> <b>kretzke:</b></span> I guess we just need to move services to another endpoint<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:26:31)</span> <b>kretzke:</b></span> we were talking about splitting services between a couple hosts anyways<br/>
<span style="color: #9e3997"><span style="font-size: small">(18:32:59)</span> <b>bbockelm:</b></span> but what needs cert auth in the first place?  I can't recall that part.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:34:54)</span> <b>kretzke:</b></span> just FIFE stuff right now. generally, anything that needs to write to elasticsearch from outside<br/>
<span style="color: #9e3997"><span style="font-size: small">(18:35:35)</span> <b>bbockelm:</b></span> ah - why split the service?  Why not a different virtual host in nginx?  Port <tt>8443</tt> for the win?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:37:30)</span> <b>kretzke:</b></span> yeah, could do. we were talking about splitting services just for isolation<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:45:23)</span> <b>kretzke:</b></span> if there’s no plans to move GRACC components outside then we should probably just get rid of the complication of an external write endpoint once FIFE has moved out<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:48:26)</span> <b>kretzke:</b></span> hm, actually I’m not sure anything is writing though <a href="http://gracc.opensciencegrid.org">gracc.opensciencegrid.org</a>…<br/>
<span style="color: #3c8c69"><span style="font-size: small">(18:55:21)</span> <b>kretzke:</b></span> safari users rejoice, you can keep using your ~terrible~ wonderful browser<br/>
<span style="color: #9e3997"><span style="font-size: small">(19:11:01)</span> <b>bbockelm:</b></span> Safari users confirmed it works...<br/>
<span style="color: #3c8c69"><span style="font-size: small">(19:18:48)</span> <b>kretzke:</b></span> <a href="https://gracc.opensciencegrid.org/dashboard/db/site-summary-non-osg">https://gracc.opensciencegrid.org/dashboard/db/site-summary-non-osg</a> better name for this? (sites that payload jobs have run on but aren’t in OIM)<br/>
<span style="color: #3c8c69"><span style="font-size: small">(19:20:29)</span> <b>kretzke:</b></span> oh hey there it is <a href="https://gracc.opensciencegrid.org/dashboard/db/site-summary-non-osg?var-interval=$__auto_interval&amp;var-site=Comet&amp;var-site=SDSC_Comet">https://gracc.opensciencegrid.org/dashboard/db/site-summary-non-osg?var-interval=$__auto_interval&amp;var-site=Comet&amp;var-site=SDSC_Comet</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(19:21:36)</span> <b>bbockelm:</b></span> I think "Non-OIM"?<br/>
<span style="color: #902d59"><span style="font-size: small">(19:21:43)</span> <b>tanya:</b></span> you also need to add comet-*.<a href="http://sdsc.edu">sdsc.edu</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(19:22:06)</span> <b>bbockelm:</b></span> Is it possible to do a top-10 list of non-registered payload sites?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(19:22:57)</span> <b>kretzke:</b></span> here’s a top 20 <a href="https://gracc.opensciencegrid.org/dashboard/db/unknown-sites-in-payload-records">https://gracc.opensciencegrid.org/dashboard/db/unknown-sites-in-payload-records</a><br/>
<span style="color: #3c8c69"><span style="font-size: small">(19:23:26)</span> <b>kretzke:</b></span> anyone know anybody who works at Fermilab?<br/>
<span style="color: #902d59"><span style="font-size: small">(19:23:43)</span> <b>tanya:</b></span> it should be also a lot from  PC Bridges<br/>
</body>
</html>
