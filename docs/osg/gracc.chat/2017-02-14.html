<!DOCTYPE html>
<html>
<head>
<title>Tue Feb 14, 2017 : #gracc (osg)</title>
</head>
<body>
<h3>Tue Feb 14, 2017 : #gracc (osg)</h3>
<span style="color: #235e5b"><span style="font-size: small">(13:19:23)</span> <b>dweitzel:</b></span> @kretzke wanna start deploying the transfer summarizer?<br/>
<blockquote>
<span style="color: #3c8c69"><span style="font-size: small">(13:19:47)</span> <b>kretzke:</b></span> dweitzel: sure<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:20:25)</span> <b>dweitzel:</b></span> Awesome.  Ok, lets get started.  I'm going to update the graccreq and gracc-sumarize packages.  If I can spell.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:22:08)</span> <b>kretzke:</b></span> ok. I’ll get the stash agent set up<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:28:33)</span> <b>kretzke:</b></span> ready<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:29:12)</span> <b>dweitzel:</b></span> Ok, what's the exchange for transfer?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:29:31)</span> <b>kretzke:</b></span> gracc.osg-transfer.summary<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:29:42)</span> <b>dweitzel:</b></span> ok, configuring...<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:36:33)</span> <b>kretzke:</b></span> alright, records coming in...<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:37:33)</span> <b>kretzke:</b></span> .. and going into elasticsearch!<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:42:26)</span> <b>dweitzel:</b></span> hum... am I not rounding to the nearest day?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:43:20)</span> <b>kretzke:</b></span> there’s no <tt>EndTime</tt>?!<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:43:20)</span> <b>dweitzel:</b></span> oh, it is.<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:43:32)</span> <b>dweitzel:</b></span> The Gratia summaries didn't have EndTime.<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:43:36)</span> <b>dweitzel:</b></span> it used StartTime instead.<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:43:45)</span> <b>dweitzel:</b></span> so I followed suite<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:43:51)</span> <b>kretzke:</b></span> ok.... ugh<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:44:28)</span> <b>dweitzel:</b></span> there is an endtime.<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:44:46)</span> <b>dweitzel:</b></span> but, gratia doesn't didn't record it in the summary table...<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:44:54)</span> <b>dweitzel:</b></span> I wonder what the logic behind that was.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:45:08)</span> <b>kretzke:</b></span> good question<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:45:21)</span> <b>dweitzel:</b></span> would tanya know?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:45:47)</span> <b>dweitzel:</b></span> @tanya can you join here?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:47:17)</span> <b>kretzke:</b></span> <a href="https://gracc.opensciencegrid.org/kibana/goto/24fdcdb6a611516b12d4ef72e8b2dc45">https://gracc.opensciencegrid.org/kibana/goto/24fdcdb6a611516b12d4ef72e8b2dc45</a><br/>
<span style="color: #235e5b"><span style="font-size: small">(13:47:36)</span> <b>dweitzel:</b></span> that looks better.<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:47:38)</span> <b>dweitzel:</b></span> what did you do?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:47:51)</span> <b>kretzke:</b></span> told kibana to use <tt>StartTime</tt><br/>
<span style="color: #235e5b"><span style="font-size: small">(13:47:56)</span> <b>dweitzel:</b></span> oh, ok.<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:47:57)</span> <b>dweitzel:</b></span> :slightly_smiling_face:<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:48:05)</span> <b>dweitzel:</b></span> what about the @timestamp ?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:48:28)</span> <b>dweitzel:</b></span> @tanya ?<br/>
<span style="color: #902d59"><span style="font-size: small">(13:48:33)</span> <b>tanya:</b></span> yes<br/>
<span style="color: #902d59"><span style="font-size: small">(13:48:39)</span> <b>tanya:</b></span> what's up?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:48:41)</span> <b>dweitzel:</b></span> good, wondering if you could see this.<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:48:48)</span> <b>dweitzel:</b></span> We are adding transfer summareis.<br/>
<span style="color: #902d59"><span style="font-size: small">(13:48:49)</span> <b>tanya:</b></span> should i read?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:48:59)</span> <b>dweitzel:</b></span> in Gratia, there is no EndTime in the summary table.<br/>
<span style="color: #902d59"><span style="font-size: small">(13:49:00)</span> <b>tanya:</b></span> agh, ok;<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:49:09)</span> <b>dweitzel:</b></span> So, I didn't add it to gracc.<br/>
<span style="color: #902d59"><span style="font-size: small">(13:49:12)</span> <b>tanya:</b></span> yes, it is summed by StartTime<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:49:13)</span> <b>dweitzel:</b></span> should there be?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:49:21)</span> <b>dweitzel:</b></span> ok, find with me.<br/>
<span style="color: #902d59"><span style="font-size: small">(13:50:08)</span> <b>tanya:</b></span> we should ask Brian why it was done this way<br/>
<span style="color: #902d59"><span style="font-size: small">(13:50:20)</span> <b>tanya:</b></span> but if we want to preserve gratia<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:50:20)</span> <b>dweitzel:</b></span> eh, he's traveling.<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:50:31)</span> <b>dweitzel:</b></span> for now, consistency with gratia is good enough for me.<br/>
<span style="color: #902d59"><span style="font-size: small">(13:50:46)</span> <b>tanya:</b></span> ok<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:51:05)</span> <b>dweitzel:</b></span> @kretzke should I start the resummairzer for transfers?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:51:12)</span> <b>dweitzel:</b></span> how far back do we have transfer records?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:51:13)</span> <b>kretzke:</b></span> me too. ok, I’ll make a transfer version of the stash agent to use <tt>StartTime</tt> :confused:<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:51:26)</span> <b>kretzke:</b></span> not yet<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:51:28)</span> <b>dweitzel:</b></span> k<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:51:39)</span> <b>kretzke:</b></span> will only take a couple minutes<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:52:39)</span> <b>dweitzel:</b></span> kk<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:53:05)</span> <b>dweitzel:</b></span> then, I suppose we will need to make a grafana page for transfers.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(13:58:42)</span> <b>kretzke:</b></span> alright, I deleted the index, and new version up<br/>
<span style="color: #3c8c69"><span style="font-size: small">(14:00:43)</span> <b>kretzke:</b></span> transfer records go back to 2016.04<br/>
<span style="color: #235e5b"><span style="font-size: small">(14:00:50)</span> <b>dweitzel:</b></span> ok<br/>
<span style="color: #3c8c69"><span style="font-size: small">(14:00:57)</span> <b>kretzke:</b></span> and go forward to 2060.03 !! :open_mouth:<br/>
<span style="color: #3c8c69"><span style="font-size: small">(14:18:45)</span> <b>kretzke:</b></span> <a href="https://gracc.opensciencegrid.org/dashboard/db/transfer-summary">https://gracc.opensciencegrid.org/dashboard/db/transfer-summary</a><br/>
</blockquote>
<span style="color: #A82F2F"><span style="font-size: small">(13:41:10)</span> <b>B167BCLN5:</b></span> <br/>
<span style="color: #A82F2F"><span style="font-size: small">(13:53:43)</span> <b>B167BCLN5:</b></span> <br/>
<span style="color: #A82F2F"><span style="font-size: small">(13:55:41)</span> <b>B167BCLN5:</b></span> <br/>
<span style="color: #3c8c69"><span style="font-size: small">(14:18:46)</span> <b>kretzke:</b></span> <br/>
<span style="color: #902d59"><span style="font-size: small">(14:20:10)</span> <b>tanya:</b></span> could we have a better template for probe (all batch probes are there)<br/>
<span style="color: #902d59"><span style="font-size: small">(14:20:24)</span> <b>tanya:</b></span> dcache-tarsnfer; gridftp<br/>
<span style="color: #3c8c69"><span style="font-size: small">(14:21:59)</span> <b>kretzke:</b></span> fixed<br/>
<span style="color: #902d59"><span style="font-size: small">(14:24:39)</span> <b>tanya:</b></span> great, we need to add protocol to template<br/>
<span style="color: #902d59"><span style="font-size: small">(14:25:45)</span> <b>tanya:</b></span> hm  - <a href="http://gratiaweb-itb.grid.iu.edu/gratia/html/vo_transfer_volume?starttime=2017-02-01+00%3A00%3A00&amp;endtime=2017-02-14+23%3A59%3A59&amp;span=86400&amp;vo=.*&amp;facility=.*&amp;user=.*&amp;exclude-vo=other&amp;exclude-facility=NONE%7CGeneric%7CObsolete&amp;exclude-user=NONE&amp;exclude-role=NONE&amp;include-failed=YES&amp;include-success=YES&amp;probe=.*fndca2a.fnal.gov.*&amp;protocol=.*&amp;role=.*&amp;title=Volume+of+Gigabytes+Transferred+By+VO&amp;transfer_direction%28in%7Cout%7Cboth%29=BOTH">http://gratiaweb-itb.grid.iu.edu/gratia/html/vo_transfer_volume?starttime=2017-02-01+00%3A00%3A00&amp;endtime=2017-02-14+23%3A59%3A59&amp;span=86400&amp;vo=.*&amp;facility=.*&amp;user=.*&amp;exclude-vo=other&amp;exclude-facility=NONE%7CGeneric%7CObsolete&amp;exclude-user=NONE&amp;exclude-role=NONE&amp;include-failed=YES&amp;include-success=YES&amp;probe=.*fndca2a.fnal.gov.*&amp;protocol=.*&amp;role=.*&amp;title=Volume+of+Gigabytes+Transferred+By+VO&amp;transfer_direction%28in%7Cout%7Cboth%29=BOTH</a><br/>
<span style="color: #902d59"><span style="font-size: small">(14:25:55)</span> <b>tanya:</b></span> vs <a href="https://gracc.opensciencegrid.org/dashboard/db/transfer-summary?var-VOName=All&amp;var-Project=All&amp;var-User=All&amp;var-Probe=dCache-transfer:fndca2a.fnal.gov&amp;var-interval=1d">https://gracc.opensciencegrid.org/dashboard/db/transfer-summary?var-VOName=All&amp;var-Project=All&amp;var-User=All&amp;var-Probe=dCache-transfer:fndca2a.fnal.gov&amp;var-interval=1d</a><br/>
<span style="color: #902d59"><span style="font-size: small">(14:26:01)</span> <b>tanya:</b></span> should it match?<br/>
<span style="color: #e7392d"><span style="font-size: small">(16:02:01)</span> <b>bala:</b></span> Hi Kevin, I have question about the OSG Flocking summary table (at the bottom)  that appear on OSG Connect dashboard <a href="https://gracc.opensciencegrid.org/dashboard/db/osg-connect">https://gracc.opensciencegrid.org/dashboard/db/osg-connect</a><br/>
<span style="color: #e7392d"><span style="font-size: small">(16:02:29)</span> <b>bala:</b></span> the project xenon1t usage is about 1K. When I check gratia it is about 80 K.<br/>
<span style="color: #e7392d"><span style="font-size: small">(16:03:18)</span> <b>bala:</b></span> Basically, xenon1t jobs are coming through uchicago.ci-connect and login.xenon<br/>
<span style="color: #e7392d"><span style="font-size: small">(16:04:53)</span> <b>bala:</b></span> @kretzke  I think login.xenon is not included in the Gracc dashboard.  This not very urgent and we would like this login.xenon included at some point.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(16:07:32)</span> <b>kretzke:</b></span> @bala looks like it’s all here <a href="https://gracc.opensciencegrid.org/dashboard/db/osg-project-accounting?from=now-7d&amp;to=now">https://gracc.opensciencegrid.org/dashboard/db/osg-project-accounting?from=now-7d&amp;to=now</a><br/>
<span style="color: #e7392d"><span style="font-size: small">(16:09:20)</span> <b>bala:</b></span> ah, yes<br/>
<span style="color: #e7392d"><span style="font-size: small">(16:09:40)</span> <b>bala:</b></span> Is it possible to make both the pages display same numbers<br/>
<span style="color: #e7392d"><span style="font-size: small">(16:10:02)</span> <b>bala:</b></span> the project page is correct<br/>
<span style="color: #3c8c69"><span style="font-size: small">(16:10:36)</span> <b>kretzke:</b></span> looks like we're missing a VO name correction, a lot of records have VO name <tt>/XENON-Connect/LocalGroup=users</tt><br/>
<span style="color: #e7392d"><span style="font-size: small">(16:12:10)</span> <b>bala:</b></span> Is this something we need to make corrections on our submit node login.xenon<br/>
<span style="color: #3c8c69"><span style="font-size: small">(16:14:03)</span> <b>kretzke:</b></span> no, it’s a correction made in the accounting system<br/>
<span style="color: #e7392d"><span style="font-size: small">(16:14:12)</span> <b>bala:</b></span> ah, ok<br/>
<span style="color: #e7392d"><span style="font-size: small">(16:15:13)</span> <b>bala:</b></span> For now I will follow the project page to get the wall hour usage.  Maybe after the correction things should appear. Thank you.<br/>
<span style="color: #A82F2F"><span style="font-size: small">(16:26:34)</span> <b>B167BCLN5:</b></span> <br/>
</body>
</html>
