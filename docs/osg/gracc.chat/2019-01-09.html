<!DOCTYPE html>
<html>
<head>
<title>Wed Jan 9, 2019 : #gracc (osg)</title>
</head>
<body>
<h3>Wed Jan 9, 2019 : #gracc (osg)</h3>
<span style="color: #43761b"><span style="font-size: small">(15:24:18)</span> <b>blin:</b></span> hi <b>@here</b> do we have an interface in the GRACC so that gratia probes can flag records that they believe to be bad in some way?<br/>
<span style="color: #43761b"><span style="font-size: small">(15:24:42)</span> <b>blin:</b></span> i.e. records that may need human review<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:26:31)</span> <b>kretzke:</b></span> I don’t think so.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:27:02)</span> <b>kretzke:</b></span> Certainly not anything that would act on such a flag if it existed<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:28:14)</span> <b>kretzke:</b></span> The collector _will_ quarantine “bad” records, but that’s just based on some sanity checks on start time and end time as I recall<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:30:17)</span> <b>kretzke:</b></span> <br/>
<span style="color: #43761b"><span style="font-size: small">(15:31:09)</span> <b>blin:</b></span> i think it's probably worth expanding the quarantine checks<br/>
<span style="color: #43761b"><span style="font-size: small">(15:31:24)</span> <b>blin:</b></span> i'm not sure if it all belongs in the GRACC or if the probes themselves should mark records it believes are bad<br/>
<span style="color: #43761b"><span style="font-size: small">(15:32:02)</span> <b>blin:</b></span> but yeah, i believe probes themselves have quarantines, which seems rather useless<br/>
<span style="color: #43761b"><span style="font-size: small">(15:36:01)</span> <b>blin:</b></span> anywho @kretzke are you the one in charge of GRACC design decisions?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:36:43)</span> <b>kretzke:</b></span> I am in charge of nothing<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:37:33)</span> <b>kretzke:</b></span> actually the local quarantine has proven useful in the past: eventually quarantined records fill the disk, causing the site admin to look at them :slightly_smiling_face:<br/>
<span style="color: #43761b"><span style="font-size: small">(15:38:37)</span> <b>blin:</b></span> so who is in charge of GRACC design?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(15:41:46)</span> <b>kretzke:</b></span> well, we’re more of a collective… Derek for OSG I imagine. I suppose since we run a local GRACC at FNAL I *am* in charge of design from that perspective<br/>
<span style="color: #43761b"><span style="font-size: small">(15:45:43)</span> <b>blin:</b></span> ok good to know, thanks<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:00:13)</span> <b>dweitzel:</b></span> @blin what would make a “bad” record?<br/>
<span style="color: #43761b"><span style="font-size: small">(16:02:06)</span> <b>blin:</b></span> a lot of things but a current example would be having the <tt>Processors</tt> field set to an expression <a href="https://opensciencegrid.atlassian.net/browse/SOFTWARE-3474">https://opensciencegrid.atlassian.net/browse/SOFTWARE-3474</a><br/>
<span style="color: #43761b"><span style="font-size: small">(16:42:03)</span> <b>blin:</b></span> @dweitzel my thinking is that it would make a lot of sense for probes to flag "bad" records so that OSG staff can investigate/troubleshoot/etc<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:59:55)</span> <b>dweitzel:</b></span> Probability better to have those record sent to GRACC so we can have something centralized to detect, store, and fix these records. <br/>
<span style="color: #43761b"><span style="font-size: small">(17:02:50)</span> <b>blin:</b></span> yeah, i'm saying that the probes send them to the GRACC with <tt>BadRecord = True</tt><br/>
<span style="color: #43761b"><span style="font-size: small">(17:03:43)</span> <b>blin:</b></span> alternatively, the 'bad record detection' can go into the GRACC<br/>
<span style="color: #43761b"><span style="font-size: small">(17:15:09)</span> <b>blin:</b></span> but i'm glad we agree that the onus shouldn't be on admins to handle these bad records<br/>
</body>
</html>
