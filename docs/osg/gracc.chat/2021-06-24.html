<!DOCTYPE html>
<html>
<head>
<title>Thu Jun 24, 2021 : #gracc (osg)</title>
</head>
<body>
<h3>Thu Jun 24, 2021 : #gracc (osg)</h3>
<span style="color: #5a4592"><span style="font-size: small">(12:43:48)</span> <b>lmichael:</b></span> @dweitzel Looks like the number of campuses contributing to the OSPool is a lot larger on this page:<br/><a href="https://gracc.opensciencegrid.org/d/000000077/open-science-pool-all-usage?orgId=1">https://gracc.opensciencegrid.org/d/000000077/open-science-pool-all-usage?orgId=1</a><br/>
<span style="color: #5a4592"><span style="font-size: small">(12:44:17)</span> <b>lmichael:</b></span> Than this one: (Facilities graph)<br/><a href="https://gracc.opensciencegrid.org/d/000000037/payload-jobs-summary?orgId=1&amp;var-ReportableVOName=osg&amp;var-Project=All&amp;var-Facility=All&amp;var-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d&amp;from=now-1y&amp;to=now">https://gracc.opensciencegrid.org/d/000000037/payload-jobs-summary?orgId=1&amp;var-Reportable[…]ode=All&amp;var-Probe=All&amp;var-interval=1d&amp;from=now-1y&amp;to=now</a><br/>
<span style="color: #43761b"><span style="font-size: small">(12:47:44)</span> <b>blin:</b></span> derek's out on vacation but which part are you looking at on the second page? the core hours by facility timeline?<br/>
<blockquote>
<span style="color: #5a4592"><span style="font-size: small">(2021-06-25 10:46:45)</span> <b>lmichael:</b></span> @blin there’s a table at the bottom of the first page I linked, with campuses and hours contributed. Then, the list of Facilities in the “By Facility” timeline graph on the second page has far fewer entities listed (when I filter at top for the ‘osg’ VO).<br/>
<span style="color: #43761b"><span style="font-size: small">(2021-06-25 10:48:08)</span> <b>blin:</b></span> ah ok. i think that widget probably just hard limits the number of facilities displayed<br/>
<span style="color: #5a4592"><span style="font-size: small">(2021-06-25 12:02:13)</span> <b>lmichael:</b></span> Oof. So, there’s not way to get a full list of Facilities contributing to any one VO?<br/>
<span style="color: #5a4592"><span style="font-size: small">(2021-06-25 12:02:52)</span> <b>lmichael:</b></span> (I know I can use the first page for the OSPool/osg VO, but there are times when we want to be able to say “N campuses contribute to the  X pool/VO”.<br/>
<span style="color: #43761b"><span style="font-size: small">(2021-06-25 12:11:03)</span> <b>blin:</b></span> we should be able to get that info and it may just be a matter of expanding the number of facilities that we can list in that dashboard<br/>
<span style="color: #43761b"><span style="font-size: small">(2021-06-25 12:11:24)</span> <b>blin:</b></span> when i said hard limits above, i just meant that we configured a low limit<br/>
<span style="color: #43761b"><span style="font-size: small">(2021-06-25 12:11:40)</span> <b>blin:</b></span> (i think, Derek's really the expert)<br/>
<span style="color: #235e5b"><span style="font-size: small">(2021-06-28 09:21:26)</span> <b>dweitzel:</b></span> @lmichael @blin It's currently limited to 40.  I expanded the limit to "no limit", and made it a table to the right.<br/>
<span style="color: #235e5b"><span style="font-size: small">(2021-06-28 09:23:08)</span> <b>dweitzel:</b></span> NVM, that looked terrible.  I just expanded it to no limit, you can now scroll through the facilities.<br/>
</blockquote>
<span style="color: #bd9336"><span style="font-size: small">(18:09:59)</span> <b>mkandes:</b></span> Looking for some help to see if there is any way to tease out gracc payload job stats for this site: <a href="http://gfactory-2.opensciencegrid.org/factory/monitor/factoryCompletedStats.html?entry=OSG_US_SDSC-Triton_Stratus">http://gfactory-2.opensciencegrid.org/factory/monitor/factoryCompletedStats.html?entry=OSG_US_SDSC-Triton_Stratus</a><br/>
<span style="color: #bd9336"><span style="font-size: small">(18:10:34)</span> <b>mkandes:</b></span> It used to be listed in the facilities tab as: SDSC-Triton_Stratus<br/>
<span style="color: #bd9336"><span style="font-size: small">(18:11:38)</span> <b>mkandes:</b></span> <br/>
<span style="color: #43761b"><span style="font-size: small">(18:15:25)</span> <b>blin:</b></span> ah, not through dashboards. we've been reorganizing many of the HPCs so that they appear under the same computing centers<br/>
<span style="color: #43761b"><span style="font-size: small">(18:16:24)</span> <b>blin:</b></span> you can see all of SDSC contributions under <tt>San Diego Supercomputer Center</tt> <a href="https://gracc.opensciencegrid.org/d/000000037/payload-jobs-summary?orgId=1&amp;var-ReportableVOName=All&amp;var-Project=All&amp;var-Facility=San%20Diego%20Supercomputer%20Center&amp;var-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d">https://gracc.opensciencegrid.org/d/000000037/payload-jobs-summary?orgId=1&amp;var-Reportable[…]-User=All&amp;var-ExitCode=All&amp;var-Probe=All&amp;var-interval=1d</a><br/>
<span style="color: #bd9336"><span style="font-size: small">(18:19:39)</span> <b>mkandes:</b></span> @blin - Yeah, that's what I figured. Practical problem is that different pots of $ pay for different resources at the same site. This is a NSF cc* awarded system. PI wanted to see what OSG usage reporting I could pull up for final report. I'm going to run some accounting on the cluster directly, but if there's a relatively painless way to get a dump of payload data from gracc, that might be helpful too.<br/>
<span style="color: #43761b"><span style="font-size: small">(18:30:45)</span> <b>blin:</b></span> what sort of numbers are you looking for? just sum of core hours for triton across a certain date range?<br/>
<span style="color: #bd9336"><span style="font-size: small">(18:36:12)</span> <b>mkandes:</b></span> Yeah, core-hours and if any there is any granular breakdown on general scientific area might be helpful too. i.e., it looks like you guys track 'Fields of Science' as a stat.<br/>
<span style="color: #bd9336"><span style="font-size: small">(18:37:25)</span> <b>mkandes:</b></span> If it's not possible, no worries.<br/>
<span style="color: #43761b"><span style="font-size: small">(18:41:02)</span> <b>blin:</b></span> sure, i think i can whip something up real quick. got a date range in mind?<br/>
<span style="color: #bd9336"><span style="font-size: small">(18:44:12)</span> <b>mkandes:</b></span> I think screenshot above was right when we got the first glideins running. So from 8/1/2020 to now would be the target range.<br/>
<span style="color: #bd9336"><span style="font-size: small">(18:46:25)</span> <b>mkandes:</b></span> P.S. I'm not sure the cluster admin did a great job monitoring glideins over time looking at the factory stats. So stats might look sad. But anything you can whip up would still be helpful.<br/>
<span style="color: #43761b"><span style="font-size: small">(18:49:38)</span> <b>blin:</b></span> field of science:<br/><pre>"OIM_NSFFieldOfScience: Descending",Count<br/>Astronomy,3541<br/>"Biological Sciences",2027<br/>Physics,993<br/>Chemistry,493<br/>"Computer Sciences",331<br/>Engineering,100<br/>Mathematics,55<br/>Education,40<br/>"Earth and Ocean Sciences",29<br/>Health,22<br/>"Integrative Activities",11<br/>Economics,5</pre><br/><br/>
<span style="color: #bd9336"><span style="font-size: small">(18:50:01)</span> <b>mkandes:</b></span> Number of jobs?<br/>
<span style="color: #43761b"><span style="font-size: small">(18:50:20)</span> <b>blin:</b></span> i think count = number of records...so yes?<br/>
<span style="color: #43761b"><span style="font-size: small">(18:50:32)</span> <b>blin:</b></span> unfortunately derek's out on vacation and he'd know for sure<br/>
<span style="color: #43761b"><span style="font-size: small">(18:50:55)</span> <b>blin:</b></span> for the sum of core hours over that time period, i'm seeing: 8,431,555.356<br/>
<span style="color: #43761b"><span style="font-size: small">(18:50:58)</span> <b>blin:</b></span> does that seem right?<br/>
<span style="color: #bd9336"><span style="font-size: small">(18:54:27)</span> <b>mkandes:</b></span> Hmm. That seems too high. I think max theoretical is about 1,710,720 core-hours.<br/>
<span style="color: #bd9336"><span style="font-size: small">(18:55:38)</span> <b>mkandes:</b></span> 6 nodes * 36 cores/node * 24 hours / day * 30 days / month * 11 months = 1710720 core-hours. If i have it right.<br/>
<span style="color: #43761b"><span style="font-size: small">(19:16:37)</span> <b>blin:</b></span> @mkandes interesting. when do you need these numbers by?<br/>
<span style="color: #43761b"><span style="font-size: small">(19:22:36)</span> <b>blin:</b></span> oh wait, that was for all of SDSC<br/>
<span style="color: #43761b"><span style="font-size: small">(19:26:41)</span> <b>blin:</b></span> ok this makes more sense. sum of all core hours: 34,432.891<br/>
<span style="color: #43761b"><span style="font-size: small">(19:27:40)</span> <b>blin:</b></span> and field of science:<br/><pre>"OIM_NSFFieldOfScience: Descending",Count<br/>"Biological Sciences",1228<br/>Astronomy,886<br/>Physics,650<br/>Chemistry,313<br/>"Computer Sciences",257<br/>Engineering,80<br/>Mathematics,21<br/>Health,17<br/>"Integrative Activities",11<br/>Economics,5<br/>Education,4</pre><br/>
<span style="color: #bd9336"><span style="font-size: small">(20:05:01)</span> <b>mkandes:</b></span> @blin - That definitely looks more realistic (but still a little sad). Thanks for the help!<br/>
<span style="color: #bd9336"><span style="font-size: small">(21:46:57)</span> <b>mkandes:</b></span> FYI - I computed about 873425.66 core-hours (glidein time) across 12457 jobs (glideins).<br/>
</body>
</html>
