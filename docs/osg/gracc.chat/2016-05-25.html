<!DOCTYPE html>
<html>
<head>
<title>Wed May 25, 2016 : #gracc (osg)</title>
</head>
<body>
<h3>Wed May 25, 2016 : #gracc (osg)</h3>
<span style="color: #3c8c69"><span style="font-size: small">(10:10:40)</span> <b>kretzke:</b></span> <a href="https://opensciencegrid.github.io/gracc/dev-docs/message-queues/">https://opensciencegrid.github.io/gracc/dev-docs/message-queues/</a> says raw records will be JSON. Right now gracc is passing the XML through, and then it gets turned into JSON (well, a json-like document structure for putting in elasticsearch) in the “raw” agent. Thoughts?<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:11:40)</span> <b>kretzke:</b></span> also, I managed to dig up the highly verbose specification for OGF UsageRecord <a href="https://www.ogf.org/documents/GFD.98.pdf">https://www.ogf.org/documents/GFD.98.pdf</a><br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:12:10)</span> <b>kretzke:</b></span> ^ that’s the version used by Gratia, or near to it.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:15:12)</span> <b>kretzke:</b></span> Oh, and I invited Shreyas here, he’s working on reporting, and doing some comparisons of gratia v gracc records<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:17:48)</span> <b>dweitzel:</b></span> I think the raw records being JSON is for consistency.  I believe the motto was suppose to be “All messages on the message queue are JSON"<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:17:53)</span> <b>kretzke:</b></span> standardising on JSON for the messages is probably a good thing. I’d add a field with the raw XML<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:18:11)</span> <b>dweitzel:</b></span> Sounds like we are on the same page.<br/>
<span style="color: #3c8c69"><span style="font-size: small">(10:22:14)</span> <b>kretzke:</b></span> yep. gracc can go to json with a config change. I need to make sure we don’t miss any JUR fields (Shreyas pointed out yesterday I missed Processors) and document a JSON structure to use.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:24:47)</span> <b>dweitzel:</b></span> oh yeah, processors is important!<br/>
</body>
</html>
