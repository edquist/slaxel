<!DOCTYPE html>
<html>
<head>
<title>Tue Apr 28, 2020 : #covid-19 (osg)</title>
</head>
<body>
<h3>Tue Apr 28, 2020 : #covid-19 (osg)</h3>
<span style="color: #bc3663"><span style="font-size: small">(15:30:45)</span> <b>dmason:</b></span> Greetings!  Was observing some ups and downs on COVID-19 jobs this week for the FNAL Tier 1, was wondering if pressure is steady on your side &amp; this was due to our internal dynamics, or if there were changes on the OSG side as well?<br/>
<span style="color: #43761b"><span style="font-size: small">(15:32:44)</span> <b>blin:</b></span> @marian ^^<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:33:30)</span> <b>dweitzel:</b></span> The demand has been constant.<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:33:48)</span> <b>dweitzel:</b></span> Whether the factory can keep up with the ebb and flow of FNAL?<br/>
<span style="color: #53b759"><span style="font-size: small">(15:34:04)</span> <b>marian:</b></span> no changes on the factory side this week, we've upgrade factory last week, though ... but nothing should have affected thing bad way<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:34:46)</span> <b>andrew.melo:</b></span> Related to that, we're recruiting PIs (not CMS) to donate their fair share as well, so it would be really helpful to have something to show them for what the trade off is for them<br/>
<blockquote>
<span style="color: #43761b"><span style="font-size: small">(15:37:07)</span> <b>blin:</b></span> what do you mean by trade-offs here? like how much usage they'd expect to give up?<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:38:04)</span> <b>andrew.melo:</b></span> Yeah, basically "you spent X money on these machines, and if you give up fair share, Y" will happen<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:40:17)</span> <b>andrew.melo:</b></span> We've got a ton of GPU and nodes with 256 or 512 gigs of ram <br/>
<span style="color: #43761b"><span style="font-size: small">(15:40:40)</span> <b>blin:</b></span> i'm not sure we need the GPUs atm but @dweitzel and @rynge would know the requirements<br/>
<span style="color: #43761b"><span style="font-size: small">(15:41:06)</span> <b>blin:</b></span> do the PIs run their own clusters or do you manage their resources?<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:41:21)</span> <b>dweitzel:</b></span> We are not currently submitting GPU jobs.  We certainly could.<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:44:01)</span> <b>andrew.melo:</b></span> Vanderbilt's research computing center (ACCRE) has per-(core/tb/GPU) usage model, and one big cluster for all PIs (with some holdouts)<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:47:01)</span> <b>andrew.melo:</b></span> The CMS-HI pi donated cores, and there's interest from the others to donate as well, but everyone has to justify why they got money for X and they're using it for Y instead<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:50:05)</span> <b>andrew.melo:</b></span> So if we can get something from OSG, then we can sell it to the PIs who can then sell it to their funding agencies <br/>
<span style="color: #43761b"><span style="font-size: small">(15:50:17)</span> <b>blin:</b></span> makes sense<br/>
<span style="color: #43761b"><span style="font-size: small">(15:51:03)</span> <b>blin:</b></span> how much usage they donate is ultimately up to them, though<br/>
<span style="color: #43761b"><span style="font-size: small">(15:51:09)</span> <b>blin:</b></span> i think there's enough job pressure to support it<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:53:27)</span> <b>dweitzel:</b></span> I'm not sure what OSG can provide for PIs.  We do have the OSG COVID site: <a href="https://opensciencegrid.org/covid-19.html">https://opensciencegrid.org/covid-19.html</a><br/>
<span style="color: #43761b"><span style="font-size: small">(15:53:56)</span> <b>blin:</b></span> well it sounds like the PIs are the resource owners here<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:56:29)</span> <b>andrew.melo:</b></span> Right, at the end of the day, they got grants to do X, and they instead did covid-19 research. Somebody is going to ask why they didn't spend the money how they said they would. What should they say?<br/>
<span style="color: #43761b"><span style="font-size: small">(15:57:12)</span> <b>blin:</b></span> *gestures to the world*<br/>
<span style="color: #c386df"><span style="font-size: small">(15:57:41)</span> <b>matyas:</b></span> "we were distracted by the GLOBAL VIRAL PANDEMIC"?<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:57:42)</span> <b>andrew.melo:</b></span> You're not wrong, but that's also not how contracts work :)<br/>
<span style="color: #43761b"><span style="font-size: small">(15:58:17)</span> <b>blin:</b></span> lol<br/>
<span style="color: #43761b"><span style="font-size: small">(15:58:44)</span> <b>blin:</b></span> so do you want details on the the actual covid19 research that's being done?<br/>
<span style="color: #a72f79"><span style="font-size: small">(15:58:44)</span> <b>andrew.melo:</b></span> After we set up the covid routes, we begged forgiveness to our grant officer and he wasn't very happy<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:59:07)</span> <b>dweitzel:</b></span> It's unfortunate that you are in that position.  HCC is lucky in that it is assumed that preempatable jobs will run on your owned hardware when you are not using it.<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:02:15)</span> <b>andrew.melo:</b></span> It's dumb bullshit, but if We want to have substantial resources donated, we have to justify it to the people paying<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:03:07)</span> <b>andrew.melo:</b></span> Cms gave 256 cores and it's been an unending pain in my ass<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:03:45)</span> <b>dweitzel:</b></span> I'm curious, is preemptable jobs an option?  Then, is it really a "donation"... I know, probably more complicated than that.<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:03:58)</span> <b>dweitzel:</b></span> Would it be helpful to see the projects that vanderbilt is helping with?<br/>
<span style="color: #a72f79"><span style="font-size: small">(16:34:01)</span> <b>andrew.melo:</b></span> We do have some level of preemptable jobs, but almost every core is spoken for with these big Astro/bio openMp jobs, and we can't backfill with 48h pilot jobs because SLURM won't schedule jobs unless there's a 48h hole, even if they're preemptable <br/>
<span style="color: #a72f79"><span style="font-size: small">(16:34:40)</span> <b>andrew.melo:</b></span> So someone has to give up their fairshare, and they can't do that without justifying it<br/>
</blockquote>
<span style="color: #53b759"><span style="font-size: small">(15:37:42)</span> <b>marian:</b></span> currently I see pilots just sitting idle at FNAL<br/>
<span style="color: #53b759"><span style="font-size: small">(15:38:06)</span> <b>marian:</b></span> so maybe some prioritization on your end, @dmason?<br/>
<span style="color: #bc3663"><span style="font-size: small">(15:38:19)</span> <b>dmason:</b></span> yes — waiting in line for CMS pilots probably — taking the answer as “internal dynamics”<br/>
<span style="color: #53b759"><span style="font-size: small">(15:38:25)</span> <b>marian:</b></span> job routes?<br/>
<span style="color: #53b759"><span style="font-size: small">(15:38:26)</span> <b>marian:</b></span> ah, ok<br/>
<span style="color: #53b759"><span style="font-size: small">(15:39:21)</span> <b>marian:</b></span> so yeah, pressure from our end confirmed as steady ...<br/><pre>Total for query: 113 jobs; 0 completed, 0 removed, 113 idle, 0 running, 0 held, 0 suspended </pre><br/>
<span style="color: #53b759"><span style="font-size: small">(15:40:08)</span> <b>marian:</b></span> unless few from idle gets running there won't be too much new requested from frontend<br/>
<span style="color: #bc3663"><span style="font-size: small">(15:41:48)</span> <b>dmason:</b></span> yes — yesterday we had more running — OK will chase this on our side<br/>
</body>
</html>
