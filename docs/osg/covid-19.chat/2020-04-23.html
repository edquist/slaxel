<!DOCTYPE html>
<html>
<head>
<title>Thu Apr 23, 2020 : #covid-19 (osg)</title>
</head>
<body>
<h3>Thu Apr 23, 2020 : #covid-19 (osg)</h3>
<span style="color: #43761b"><span style="font-size: small">(08:54:04)</span> <b>blin:</b></span> @dweitzel dashboard nitpick number #13445: the scrollbar on the resource provider bar chart cuts off some of the text on my screen, no matter the scaling :disappointed:<br/>
<span style="color: #235e5b"><span style="font-size: small">(08:56:41)</span> <b>dweitzel:</b></span> What do you mean cuts off text?  Cuts off where?<br/>
<span style="color: #43761b"><span style="font-size: small">(08:58:49)</span> <b>blin:</b></span> the hours for each site on the side<br/>
<span style="color: #235e5b"><span style="font-size: small">(08:59:46)</span> <b>dweitzel:</b></span> interesting, my scroll bar is to the right of the units:<br/>
<span style="color: #43761b"><span style="font-size: small">(09:00:02)</span> <b>blin:</b></span> what browser are you using?<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:00:53)</span> <b>dweitzel:</b></span> It's a firefox problem, just tested it.<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:00:56)</span> <b>dweitzel:</b></span> I'm using chrome<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:01:06)</span> <b>dweitzel:</b></span> don't you love these differences!<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:01:20)</span> <b>dweitzel:</b></span> I bet safari and "edge" have yet different behavior.<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:02:04)</span> <b>dweitzel:</b></span> Safari is much closer than chrome, but doesn't cover it.<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:03:12)</span> <b>dweitzel:</b></span> Refresh now and take a look.<br/>
<span style="color: #43761b"><span style="font-size: small">(09:07:33)</span> <b>blin:</b></span> looks good now!<br/>
<span style="color: #43761b"><span style="font-size: small">(09:07:35)</span> <b>blin:</b></span> thanks<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:08:59)</span> <b>dweitzel:</b></span> I don't "love" the table below.  I feel like the values are too far from the names.<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:09:34)</span> <b>dweitzel:</b></span> Which is now categorized as nitpick #13446<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:11:48)</span> <b>dweitzel:</b></span> @blin are you familiar with the site CYBERA_EDMONTON ?<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:12:05)</span> <b>dweitzel:</b></span> CE is this: <a href="http://249cc.yeg.cybera.ca">249cc.yeg.cybera.ca</a><br/>
<span style="color: #43761b"><span style="font-size: small">(09:12:06)</span> <b>blin:</b></span> yeah, that's a CE that @didavila is running<br/>
<span style="color: #43761b"><span style="font-size: small">(09:12:16)</span> <b>blin:</b></span> why?<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:12:40)</span> <b>dweitzel:</b></span> 2 things.  1, it's not registered in topology.  2. all covid jobs are held from the factory.<br/>
<span style="color: #43761b"><span style="font-size: small">(09:13:00)</span> <b>blin:</b></span> errr, it should be<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:13:21)</span> <b>dweitzel:</b></span> Then the registered name != GLIDEIN_ResourceName<br/>
<span style="color: #43761b"><span style="font-size: small">(09:13:33)</span> <b>blin:</b></span> <a href="https://github.com/opensciencegrid/topology/blob/master/topology/Cybera/Cybera%20-%20Edmonton/CyberaEdmonton.yaml">https://github.com/opensciencegrid/topology/blob/master/topology/Cybera/Cybera%20-%20Edmonton/CyberaEdmonton.yaml</a><br/>
<span style="color: #235e5b"><span style="font-size: small">(09:13:58)</span> <b>dweitzel:</b></span> Yup, that's it.  Factory set GLIDEIN_ResourceName does not match the registration.<br/>
<span style="color: #43761b"><span style="font-size: small">(09:15:00)</span> <b>blin:</b></span> i forget, do we fix that on the factory side or in topology?<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:15:17)</span> <b>dweitzel:</b></span> has to be fixed in topology.  Old records already have it set.<br/>
<span style="color: #43761b"><span style="font-size: small">(09:15:30)</span> <b>blin:</b></span> argh, older than 1y old?<br/>
<span style="color: #43761b"><span style="font-size: small">(09:15:44)</span> <b>blin:</b></span> oh wait nvm that doesn't matter<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:15:44)</span> <b>dweitzel:</b></span> nah, I don't think this resource is older than 1 year?<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:16:00)</span> <b>dweitzel:</b></span> but right, doesn't matter.<br/>
<span style="color: #43761b"><span style="font-size: small">(09:16:11)</span> <b>blin:</b></span> so we'd have to update the site name<br/>
<span style="color: #43761b"><span style="font-size: small">(09:16:24)</span> <b>blin:</b></span> that's annoying because then it affects how it shows up in site dashboards<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:16:37)</span> <b>dweitzel:</b></span> You can update any number of things, but updating the ResourceName is the best.<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:17:18)</span> <b>dweitzel:</b></span> IE, change from <tt>OSG_CA_CYBERA_EDMONTON</tt> to <tt>CYBERA_EDMONTON</tt><br/>
<span style="color: #c386df"><span style="font-size: small">(09:48:22)</span> <b>matyas:</b></span> I forget, have we ever talked about having some aliasing, like an "OldName" attribute, so we can rename things while maintaining continuity?<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:02:48)</span> <b>cat:</b></span> OldNames…<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:02:55)</span> <b>cat:</b></span> In case there is more than one renaming?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:03:00)</span> <b>matyas:</b></span> sure<br/>
<span style="color: #c386df"><span style="font-size: small">(10:03:13)</span> <b>matyas:</b></span> WeCantGetItRight<br/>
<span style="color: #9d8eee"><span style="font-size: small">(10:04:26)</span> <b>cat:</b></span> AllOfOsgHistoryInOneAttribute<br/>
<span style="color: #674b1b"><span style="font-size: small">(10:06:35)</span> <b>rynge:</b></span> :slightly_smiling_face:<br/>
<span style="color: #43761b"><span style="font-size: small">(11:01:35)</span> <b>blin:</b></span> i think we just rename the resource in this case as derek suggested<br/>
<span style="color: #43761b"><span style="font-size: small">(11:01:58)</span> <b>blin:</b></span> the resource name is really only used for accounting cross-referencing anyway<br/>
<span style="color: #5a4592"><span style="font-size: small">(11:04:18)</span> <b>lmichael:</b></span> I see @matyas’s recommendation as being for “OldResourceName” in this case, right?<br/>
<span style="color: #43761b"><span style="font-size: small">(11:06:11)</span> <b>blin:</b></span> that'd be a longer term fix that would require work on topology + GRACC to respect the old resource (and facility/site?) names<br/>
<span style="color: #43761b"><span style="font-size: small">(11:07:05)</span> <b>blin:</b></span> if we want to fix the Cybera entry in the covid dashboard now, renaming the resource is the quick fix<br/>
<span style="color: #a2a5dc"><span style="font-size: small">(11:40:32)</span> <b>didavila:</b></span> hey <b>@here</b>, just looking at this. Are you sure all pilots are in held status, in the site I see 4 pilots running, which cover all of the cores in the site<br/>
<span style="color: #a2a5dc"><span style="font-size: small">(11:40:53)</span> <b>didavila:</b></span> also, do I need to do something about the name change?<br/>
<span style="color: #43761b"><span style="font-size: small">(11:42:05)</span> <b>blin:</b></span> from the factory perspective there are no pilot jobs but there are user jobs??? <a href="http://gfactory-2.opensciencegrid.org/factory/monitor/factoryEntryStatusNow.html?entry=COVID19_CA_CYBERA_EDMONTON">http://gfactory-2.opensciencegrid.org/factory/monitor/factoryEntryStatusNow.html?entry=COVID19_CA_CYBERA_EDMONTON</a><br/>
<span style="color: #43761b"><span style="font-size: small">(11:42:21)</span> <b>blin:</b></span> yeah, could you submit a PR to change the resource name <a href="https://opensciencegrid.slack.com/archives/C010UCHQJLU/p1587651438309500">https://opensciencegrid.slack.com/archives/C010UCHQJLU/p1587651438309500</a><br/>
<span style="color: #e23f99"><span style="font-size: small">(11:46:25)</span> <b>marco.mascheroni:</b></span> I see this error in the activity logs in the factory:<br/>
<span style="color: #e23f99"><span style="font-size: small">(11:46:27)</span> <b>marco.mascheroni:</b></span> <pre>...<br/>012 (1884276.009.000) 04/22 23:58:11 Job was held.<br/>        Error connecting to schedd <a href="http://249cc.yeg.cybera.ca">249cc.yeg.cybera.ca</a>: AUTHENTICATE:1003:Failed to authenticate with any method|AUTHENTICATE:1004:Failed to authenticate using GSI|GSI:5002:Failed to authenticate because the remote (server) side was not able to acquire its credentials.|AUTHENTICATE:1004:Failed to authenticate using FS<br/>        Code 0 Subcode 0<br/>...</pre><br/>
<span style="color: #e23f99"><span style="font-size: small">(11:46:58)</span> <b>marco.mascheroni:</b></span> probably some pilot jobs were running and got removed from the schedd queue because of this authentication error<br/>
<span style="color: #e23f99"><span style="font-size: small">(11:47:31)</span> <b>marco.mascheroni:</b></span> but the pilots kept running because the condor_rm on the factory did not get propagated to the CE<br/>
<span style="color: #43761b"><span style="font-size: small">(11:48:22)</span> <b>blin:</b></span> @didavila make sure that the osg-ca-certs and vo-client packages are up-to-date, that <tt>fetch-crl</tt> has run recently, and that the <tt>fetch-crl-cron</tt> service is enabled<br/>
<span style="color: #a2a5dc"><span style="font-size: small">(11:48:50)</span> <b>didavila:</b></span> ok<br/>
<span style="color: #43761b"><span style="font-size: small">(11:54:51)</span> <b>blin:</b></span> also check the host cert expiration<br/>
<span style="color: #43761b"><span style="font-size: small">(11:55:06)</span> <b>blin:</b></span> &gt;  the remote (server) side was not able to acquire its credentials.<br/>
<span style="color: #a2a5dc"><span style="font-size: small">(12:09:15)</span> <b>didavila:</b></span> there was a typo when I create the symlink for the hostcert file<br/>
<span style="color: #a2a5dc"><span style="font-size: small">(12:09:23)</span> <b>didavila:</b></span> it should be fine now<br/>
<span style="color: #a2a5dc"><span style="font-size: small">(12:15:13)</span> <b>didavila:</b></span> PR sent<br/>
</body>
</html>
