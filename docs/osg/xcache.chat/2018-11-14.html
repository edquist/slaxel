<!DOCTYPE html>
<html>
<head>
<title>Wed Nov 14, 2018 : #xcache (osg)</title>
</head>
<body>
<h3>Wed Nov 14, 2018 : #xcache (osg)</h3>
<span style="color: #e06b56"><span style="font-size: small">(10:24:15)</span> <b>jthiltges:</b></span> @matyas Regarding <a href="https://github.com/opensciencegrid/docs/pull/455">https://github.com/opensciencegrid/docs/pull/455</a><br/>You'd like to see "Upgrade notes" text in the docs page letting folks know that the condor service is no longer required?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:25:56)</span> <b>matyas:</b></span> I think it's enough to put it in the OSG release notes when we ship that version of the daemon<br/>
<span style="color: #c386df"><span style="font-size: small">(16:44:37)</span> <b>matyas:</b></span> what kind of metrics do we collect from stashcache cache servers, and where can I get at them?<br/>
<span style="color: #c386df"><span style="font-size: small">(17:51:33)</span> <b>matyas:</b></span> everything OK with <a href="http://redirector.osgstorage.org">redirector.osgstorage.org</a>? I'm trying to do <tt>xrdfs <a href="root://redirector.osgstorage.org">root://redirector.osgstorage.org</a> ls /</tt> and it hangs<br/>
<span style="color: #c386df"><span style="font-size: small">(17:59:52)</span> <b>matyas:</b></span> never mind, it just takes a super long time<br/>
<span style="color: #c386df"><span style="font-size: small">(18:00:37)</span> <b>matyas:</b></span> like 8 minutes. And gave me <tt>Some of the requests failed. The result may be incomplete.</tt><br/>
<span style="color: #235e5b"><span style="font-size: small">(19:03:53)</span> <b>dweitzel:</b></span> John was working on that. I think his development work is done. Now we just need to get it widely deployed. <br/>
<span style="color: #235e5b"><span style="font-size: small">(19:04:46)</span> <b>dweitzel:</b></span> You can see what is available on a few servers by doing condor_status (port 9619) against <a href="http://collector.opensciencegrid.org">collector.opensciencegrid.org</a><br/>
<span style="color: #235e5b"><span style="font-size: small">(19:05:06)</span> <b>dweitzel:</b></span> Some may show more than others. The Nebraska cache probably shows the most. <br/>
<span style="color: #c386df"><span style="font-size: small">(19:09:19)</span> <b>matyas:</b></span> Is it normal for netstat to show xrootd only listening on tcp6?<br/>
<span style="color: #235e5b"><span style="font-size: small">(19:14:01)</span> <b>dweitzel:</b></span> I have always not fully trusted my interpretation of netstat. <br/>
<span style="color: #235e5b"><span style="font-size: small">(19:14:50)</span> <b>dweitzel:</b></span> What do you see?<br/>
<span style="color: #c386df"><span style="font-size: small">(19:16:00)</span> <b>matyas:</b></span> <pre>[root@sc-cache]# netstat -nlp --tcp<br/>Active Internet connections (only servers)<br/>Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    <br/>tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      1204/master         <br/>tcp        0      0 0.0.0.0:65535           0.0.0.0:*               LISTEN      158490/gmond        <br/>tcp        0      0 0.0.0.0:5666            0.0.0.0:*               LISTEN      151869/nrpe         <br/>tcp        0      0 0.0.0.0:111             0.0.0.0:*               LISTEN      606/rpcbind         <br/>tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      1047/sshd           <br/>tcp6       0      0 ::1:25                  :::*                    LISTEN      1204/master         <br/>tcp6       0      0 :::8000                 :::*                    LISTEN      328043/xrootd       <br/>tcp6       0      0 :::5666                 :::*                    LISTEN      151869/nrpe         <br/>tcp6       0      0 :::1094                 :::*                    LISTEN      328043/xrootd       <br/>tcp6       0      0 :::3052                 :::*                    LISTEN      327902/java         <br/>tcp6       0      0 :::111                  :::*                    LISTEN      606/rpcbind         <br/>tcp6       0      0 :::22                   :::*                    LISTEN      1047/sshd</pre><br/>
<span style="color: #235e5b"><span style="font-size: small">(19:17:18)</span> <b>dweitzel:</b></span> I think thatâ€™s ok. <br/>
<span style="color: #c386df"><span style="font-size: small">(19:20:11)</span> <b>matyas:</b></span> can you try downloading <tt>/chtc/PUBLIC/matyas/robots.txt</tt> from stashcache?<br/>
<span style="color: #235e5b"><span style="font-size: small">(19:58:02)</span> <b>dweitzel:</b></span> worked from hcc-stash: <pre>$ curl -vvv <a href="http://hcc-stash.unl.edu:8000/chtc/PUBLIC/matyas/robots.txt">http://hcc-stash.unl.edu:8000/chtc/PUBLIC/matyas/robots.txt</a> <br/>*   Trying 2600:900:6:1301:268a:7ff:fef6:a590...<br/>* TCP_NODELAY set<br/>* Connected to <a href="http://hcc-stash.unl.edu">hcc-stash.unl.edu</a> (2600:900:6:1301:268a:7ff:fef6:a590) port 8000 (#0)<br/>&gt; GET /chtc/PUBLIC/matyas/robots.txt HTTP/1.1<br/>&gt; Host: <a href="http://hcc-stash.unl.edu:8000">hcc-stash.unl.edu:8000</a><br/>&gt; User-Agent: curl/7.54.0<br/>&gt; Accept: */*<br/>&gt; <br/>&lt; HTTP/1.1 200 OK<br/>&lt; Connection: Keep-Alive<br/>&lt; Content-Length: 26<br/>&lt; <br/>User-agent: *<br/>Disallow: /<br/>* Connection #0 to host <a href="http://hcc-stash.unl.edu">hcc-stash.unl.edu</a> left intact</pre><br/>
<span style="color: #235e5b"><span style="font-size: small">(19:58:21)</span> <b>dweitzel:</b></span> and over ipv6 :slightly_smiling_face:<br/>
<span style="color: #9e3997"><span style="font-size: small">(20:24:40)</span> <b>bbockelm:</b></span> @matyas - Linux TCP sockets that are dual protocol (IPv4 and IPv6) show up as <tt>tcp6</tt> in netstat output.  <tt>tcp</tt> sockets are IPv4-only.<br/>
</body>
</html>
