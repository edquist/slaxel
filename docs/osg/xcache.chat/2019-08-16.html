<!DOCTYPE html>
<html>
<head>
<title>Fri Aug 16, 2019 : #xcache (osg)</title>
</head>
<body>
<h3>Fri Aug 16, 2019 : #xcache (osg)</h3>
<span style="color: #43761b"><span style="font-size: small">(08:42:14)</span> <b>blin:</b></span> Who knows how to track down the users making xrootd transfer requests? Andrew Melo's asking about it in #software<br/>
<span style="color: #9e3997"><span style="font-size: small">(09:55:59)</span> <b>bbockelm:</b></span> Thatâ€™d be @marian <br/>
<span style="color: #53b759"><span style="font-size: small">(12:02:01)</span> <b>marian:</b></span> I guess we went through that exercise already with Vandy some time ago ... what they're trying to find out? I have this nasty grep through the xrootd logs that at least navigate to the mapped user which does the most excessive requests:<br/><pre><br/>cat /var/log/xrootd/xrootd.log | grep XrootdXeq| sed -e 's/.*XrootdXeq: \([^.]*\).*/\1/' | sort | uniq -c | sort -rn | head<br/></pre><br/>That should help as starting point...<br/>
<span style="color: #a72f79"><span style="font-size: small">(12:09:26)</span> <b>andrew.melo:</b></span> Right, but since we got rid of pool accounts, it's all the same user<br/>
<span style="color: #a72f79"><span style="font-size: small">(12:09:42)</span> <b>andrew.melo:</b></span> Some user is blasting 1000s of file opens<br/>
<span style="color: #a72f79"><span style="font-size: small">(12:10:17)</span> <b>andrew.melo:</b></span> I think we got it sorted by upping the lcmaps debug level<br/>
<span style="color: #a72f79"><span style="font-size: small">(12:10:29)</span> <b>andrew.melo:</b></span> I'm polishing the banhammer<br/>
<span style="color: #a72f79"><span style="font-size: small">(12:11:29)</span> <b>andrew.melo:</b></span> I'm not sure of what verb to use with a banhammer<br/>
<span style="color: #53b759"><span style="font-size: small">(12:17:16)</span> <b>marian:</b></span> great!<br/>
<span style="color: #c386df"><span style="font-size: small">(12:21:26)</span> <b>matyas:</b></span> winding up the banhammer?<br/>
<span style="color: #53b759"><span style="font-size: small">(12:59:40)</span> <b>marian:</b></span> that is username I guess?<br/>
<span style="color: #a72f79"><span style="font-size: small">(13:18:36)</span> <b>andrew.melo:</b></span> No, if they don't knock it off (after I ask politely), I'm gonna just use my banhammer to block their DN<br/>
</body>
</html>
