<!DOCTYPE html>
<html>
<head>
<title>Mon Jan 13, 2020 : #xcache (osg)</title>
</head>
<body>
<h3>Mon Jan 13, 2020 : #xcache (osg)</h3>
<span style="color: #c386df"><span style="font-size: small">(09:32:35)</span> <b>matyas:</b></span> Do you know what "working set" means in the stashcache Kibana dashboard? I'm looking at <a href="https://gracc.opensciencegrid.org/kibana/goto/d3fe61e209bc054d86beced2541d4ecd">https://gracc.opensciencegrid.org/kibana/goto/d3fe61e209bc054d86beced2541d4ecd</a> and /pnfs/fnal.gov/usr/icarus has a working set of 1MB and a total read of 5.4GB which seems improbable<br/>
<span style="color: #43761b"><span style="font-size: small">(09:34:33)</span> <b>blin:</b></span> @dweitzel ^^<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:37:15)</span> <b>dweitzel:</b></span> Working set is the total file size of all files downloaded in a time range. <br/>
<span style="color: #235e5b"><span style="font-size: small">(09:37:43)</span> <b>dweitzel:</b></span> Sounds like a great caching ratio. <br/>
<span style="color: #c386df"><span style="font-size: small">(09:45:24)</span> <b>matyas:</b></span> Sounds like an unrealistic caching ratio<br/>
<span style="color: #c386df"><span style="font-size: small">(09:45:37)</span> <b>matyas:</b></span> 5000x?<br/>
<span style="color: #c386df"><span style="font-size: small">(09:48:04)</span> <b>matyas:</b></span> also, should I be able to sum up the working set and get the total space used?<br/>
<span style="color: #c386df"><span style="font-size: small">(09:48:59)</span> <b>matyas:</b></span> er, never mind. files downloaded.<br/>
<span style="color: #c386df"><span style="font-size: small">(09:49:03)</span> <b>matyas:</b></span> got it.<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:53:43)</span> <b>dweitzel:</b></span> Yes. But it will only be the total space used for some time period. <br/>
<span style="color: #235e5b"><span style="font-size: small">(09:54:07)</span> <b>dweitzel:</b></span> And the cache won’t write full files sometimes, depends on the client requests. <br/>
<span style="color: #235e5b"><span style="font-size: small">(09:54:25)</span> <b>dweitzel:</b></span> It may be a test file. That’s my best guess. <br/>
<span style="color: #c386df"><span style="font-size: small">(09:54:56)</span> <b>matyas:</b></span> ah I see<br/>
<span style="color: #c386df"><span style="font-size: small">(09:56:21)</span> <b>matyas:</b></span> unrelatedly, /user/npavlovikj wins the prize for "most data currently cached" at 917GB out of 1TB<br/>
<span style="color: #c386df"><span style="font-size: small">(09:57:26)</span> <b>matyas:</b></span> second prize goes to LIGO at 4.7GB<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:47:18)</span> <b>dweitzel:</b></span> Nebraska user!<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:48:41)</span> <b>dweitzel:</b></span> looks like all of the icarus files are <tt>/pnfs/fnal.gov/usr/icarus/persistent/stash/test.stashicarus.1M</tt><br/>
<span style="color: #c386df"><span style="font-size: small">(10:49:52)</span> <b>matyas:</b></span> so I guess they're just testing whether stashcache works with each job?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:50:09)</span> <b>dweitzel:</b></span> that would be my guess.  Part of the startup script?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:50:09)</span> <b>matyas:</b></span> but not actually using it after that?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:50:22)</span> <b>dweitzel:</b></span> I know mats does something similar for OSG nodes.<br/>
</body>
</html>
