<!DOCTYPE html>
<html>
<head>
<title>Tue May 9, 2017 : #xcache (osg)</title>
</head>
<body>
<h3>Tue May 9, 2017 : #xcache (osg)</h3>
<span style="color: #43761b"><span style="font-size: small">(09:28:52)</span> <b>blin:</b></span> @marian @dweitzel rob g brought BNL stashcache stability issues to my attention. could you guys give me a rundown of the problems that they're currently having?<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:40:06)</span> <b>dweitzel:</b></span> They're having problems?  All my tests are coming back green for a while now, maybe a few months.  Also, our active monitoring of BNL cache shows green across the board for a while.<br/>
<span style="color: #235e5b"><span style="font-size: small">(09:40:29)</span> <b>dweitzel:</b></span> They had issues a few months ago, but everything has been fixed since then.<br/>
<span style="color: #53b759"><span style="font-size: small">(09:47:55)</span> <b>marian:</b></span> @marian uploaded a file: <a href="https://opensciencegrid.slack.com/files/marian/F5AQT3GRY/bnl-xrootd-pings.png">bnl-xrootd-pings.png</a> and commented: can confirm we haven't had any dramatic issues in past month with BNL, except few spikes between week of 16 and 17, that's xrootd response test... otherwise stable ... can take a look at host pings, too ... give me sec ...<br/>
<span style="color: #53b759"><span style="font-size: small">(09:52:20)</span> <b>marian:</b></span> @marian uploaded a file: <a href="https://opensciencegrid.slack.com/files/marian/F5BKKEF3R/bnl-pings.png">bnl-pings.png</a> and commented: Here something they may have a look and pay attention ... these are signs of network issues, either on the route between UNL and BNL or most likely since there is bit of pattern I'd suspect BNL's "dynamic" firewall ... Hiro sometime ago said if there is some extensive traffic their firewall is smart enough to block incoming traffic until certain condition occur ... I don't have more details what they are really doing as it also sounds weird, but something along those lines he told us ... so, networking and firewall to be inspected if you want to pass any message through Rob ...<br/>
<span style="color: #53b759"><span style="font-size: small">(09:52:41)</span> <b>marian:</b></span> ping to @blin about ^<br/>
<span style="color: #43761b"><span style="font-size: small">(09:53:33)</span> <b>blin:</b></span> ok, that's good to know<br/>
<span style="color: #43761b"><span style="font-size: small">(09:53:47)</span> <b>blin:</b></span> i have a meeting with atlas tomorrow so i'll find out more then. thanks!<br/>
<span style="color: #53b759"><span style="font-size: small">(09:54:01)</span> <b>marian:</b></span> sounds good, thanks<br/>
<span style="color: #43761b"><span style="font-size: small">(09:54:58)</span> <b>blin:</b></span> oh, they also appear to think that stashcache is xrootd + cvmfs<br/>
<span style="color: #43761b"><span style="font-size: small">(09:55:09)</span> <b>blin:</b></span> do you know if they're supporting stashcache-over-cmvfs at bnl?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:07:02)</span> <b>dweitzel:</b></span> Ok,  I think there are several answers to that.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:07:27)</span> <b>dweitzel:</b></span> 1. I don't know if BNL has CVMFS installed and configured in such a way that it supports the <a href="http://stash.osgstorage.org">stash.osgstorage.org</a> repo (which is StashCache)<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:08:13)</span> <b>dweitzel:</b></span> 2. I know John just recently added support to the *.<a href="http://osgstorage.org">osgstorage.org</a> repos to the BNL stratum 1.  Which is basically a CDN host for namespace operations.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:09:01)</span> <b>dweitzel:</b></span> 3. Configuration of their Xrootd host to support CVMFS connections has been done for a long time.  Thats what we have been talking about above.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:09:14)</span> <b>dweitzel:</b></span> All 3 of these answers are independent of each other.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:09:44)</span> <b>dweitzel:</b></span> I still don't know specifically what you / they are referring to when you talk about issues.<br/>
<span style="color: #43761b"><span style="font-size: small">(11:25:20)</span> <b>blin:</b></span> thanks @dweitzel. It's not entirely clear to me either at this point, the discussion before i got involved mentioned that stashcache was just "unstable". part of it appears to be that they're not sure what the expected service level should be, if they need a fatter pipe (currently 10Gbps), and how much storage space is required<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:26:02)</span> <b>dweitzel:</b></span> Yeah, not sure what they are referring to.  The Xrootd server is unstable?  the CVMFS repo is unstable?<br/>
<span style="color: #43761b"><span style="font-size: small">(11:32:02)</span> <b>blin:</b></span> i don't think they know, i'll find out more on the phone tomorrow<br/>
<span style="color: #84b22f"><span style="font-size: small">(21:33:20)</span> <b>ivukotic:</b></span> Derek, I restarted cmsd on our origin, it was dead again.<br/>
<span style="color: #235e5b"><span style="font-size: small">(21:33:34)</span> <b>dweitzel:</b></span> Ok great. <br/>
<span style="color: #84b22f"><span style="font-size: small">(21:33:39)</span> <b>ivukotic:</b></span> if it happens again we should investigate<br/>
<span style="color: #235e5b"><span style="font-size: small">(21:33:44)</span> <b>dweitzel:</b></span> Any idea why it's dying?<br/>
<span style="color: #235e5b"><span style="font-size: small">(21:33:48)</span> <b>dweitzel:</b></span> K<br/>
<span style="color: #84b22f"><span style="font-size: small">(21:33:56)</span> <b>ivukotic:</b></span> no clue. nothing in the log<br/>
</body>
</html>
