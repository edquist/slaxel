<!DOCTYPE html>
<html>
<head>
<title>Tue Feb 9, 2021 : #xcache (osg)</title>
</head>
<body>
<h3>Tue Feb 9, 2021 : #xcache (osg)</h3>
<span style="color: #235e5b"><span style="font-size: small">(12:19:57)</span> <b>dweitzel:</b></span> @blin any idea what calls fix_certs.sh in docker-xcache?<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:20:10)</span> <b>dweitzel:</b></span> <a href="https://github.com/opensciencegrid/docker-xcache/blob/master/xcache/sbin/fix_certs.sh">https://github.com/opensciencegrid/docker-xcache/blob/master/xcache/sbin/fix_certs.sh</a><br/>
<span style="color: #43761b"><span style="font-size: small">(12:20:31)</span> <b>blin:</b></span> i think @ivukotic uses it in his version of <tt>atlas-xcache</tt><br/>
<span style="color: #43761b"><span style="font-size: small">(12:21:00)</span> <b>blin:</b></span> oh and all of the init scripts that run before supervisor<br/>
<span style="color: #43761b"><span style="font-size: small">(12:21:11)</span> <b>blin:</b></span> (in <tt>/etc/osg/image-config.d/</tt>)<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:22:32)</span> <b>dweitzel:</b></span> Ok, I have a cms cache that failed because the fix certs wasn't run periodically, and didn't catch the new certificate renewal.<br/>
<span style="color: #43761b"><span style="font-size: small">(12:48:59)</span> <b>blin:</b></span> oh, interesting. are you using <tt>cert-manager</tt> for that or otherwise updating the secret in place?<br/>
<span style="color: #43761b"><span style="font-size: small">(12:49:17)</span> <b>blin:</b></span> we do have cron enabled so we could just drop a cronjob in<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:52:07)</span> <b>dweitzel:</b></span> ¯\_(ツ)_/¯<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:52:22)</span> <b>dweitzel:</b></span> I think we just updated the certificate.<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:52:26)</span> <b>dweitzel:</b></span> That would have been enough.<br/>
</body>
</html>
