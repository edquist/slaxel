<!DOCTYPE html>
<html>
<head>
<title>Tue Jun 18, 2019 : #xcache (osg)</title>
</head>
<body>
<h3>Tue Jun 18, 2019 : #xcache (osg)</h3>
<span style="color: #c386df"><span style="font-size: small">(10:44:59)</span> <b>matyas:</b></span> I'm having some sort of trouble with my origin, <a href="http://sc-origin.chtc.wisc.edu">sc-origin.chtc.wisc.edu</a><br/>
<span style="color: #c386df"><span style="font-size: small">(10:45:17)</span> <b>matyas:</b></span> <pre>$ xrdmapc -r --verify --list s <a href="http://redirector.osgstorage.org:1094">redirector.osgstorage.org:1094</a> /chtc/PUBLIC/matyas/robots.txt<br/>secgsi: error getting user proxies<br/>secgsi: error getting user proxies<br/>xrdmapc: Unable to get <a href="http://xrootd-local.unl.edu:1094">xrootd-local.unl.edu:1094</a> subscribers; [FATAL] Auth failed<br/>xrdmapc: Unable to get <a href="http://hcc-marian.unl.edu:1095">hcc-marian.unl.edu:1095</a> subscribers; [ERROR] Operation expired<br/>0*rv* <a href="http://redirector.osgstorage.org:1094">redirector.osgstorage.org:1094</a><br/>  &gt;?  Srv <a href="http://sc-origin.chtc.wisc.edu:0">sc-origin.chtc.wisc.edu:0</a> [invalid addr]<br/>   -  Srv <a href="http://stash.osgconnect.net:1094">stash.osgconnect.net:1094</a><br/>   ?  Srv <a href="http://desdev1.cosmology.illinois.edu:1094">desdev1.cosmology.illinois.edu:1094</a> [not authorized]<br/>   ?  Srv <a href="http://gandalf.phys.uconn.edu:1094">gandalf.phys.uconn.edu:1094</a> [not authorized]<br/>   ?  Srv <a href="http://csiu.grid.iu.edu:0">csiu.grid.iu.edu:0</a> [invalid addr]<br/>   ?  Srv <a href="http://xcache-11.t2.ucsd.edu:31094">xcache-11.t2.ucsd.edu:31094</a> [not authorized]<br/>   ?  Srv <a href="http://stashcache.fnal.gov:1094">stashcache.fnal.gov:1094</a> [not authorized]<br/>   ?  Srv <a href="http://gordon-dm2.sdsc.edu:31094">gordon-dm2.sdsc.edu:31094</a> [timeout]<br/>   -  Srv <a href="http://origin.ligo.caltech.edu:1094">origin.ligo.caltech.edu:1094</a><br/></pre><br/>
<span style="color: #c386df"><span style="font-size: small">(10:45:33)</span> <b>matyas:</b></span> note <tt>  &gt;?  Srv <a href="http://sc-origin.chtc.wisc.edu:0">sc-origin.chtc.wisc.edu:0</a> [invalid addr]</tt><br/>
<span style="color: #c386df"><span style="font-size: small">(10:45:40)</span> <b>matyas:</b></span> why does it think the port is 0?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:46:10)</span> <b>dweitzel:</b></span> Good question, I've seen that before but not sure.  Are you able to retrieve the file though through the redirector?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:49:49)</span> <b>matyas:</b></span> looks like it<br/>
<span style="color: #c386df"><span style="font-size: small">(10:50:49)</span> <b>matyas:</b></span> <pre># xrdcp <a href="xroot://redirector.osgstorage.org:1094//chtc/PUBLIC/matyas/robots.txt">xroot://redirector.osgstorage.org:1094//chtc/PUBLIC/matyas/robots.txt</a> robots.txt                       <br/>[26B/26B][100%][==================================================][26B/s]</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(10:53:40)</span> <b>matyas:</b></span> on the other hand, I'm not able to get my icecube test file: <pre># xrdcp <a href="xroot://redirector.osgstorage.org:1094//icecube/PUBLIC/testfile">xroot://redirector.osgstorage.org:1094//icecube/PUBLIC/testfile</a> testfile<br/>[0B/0B][100%][==================================================][0B/s]  <br/>Run: [ERROR] Server responded with an error: [3011] No servers are available to read the file.</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(10:54:01)</span> <b>matyas:</b></span> does it matter that I'm only exporting <tt>/icecube/PUBLIC</tt> and not <tt>/icecube</tt>?<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:54:36)</span> <b>dweitzel:</b></span> if you replace <tt><a href="http://redirector.osgstorage.org">redirector.osgstorage.org</a></tt> with <tt><a href="http://sc-origin.chtc.wisc.edu">sc-origin.chtc.wisc.edu</a></tt>, does the xrdcp work?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:55:11)</span> <b>matyas:</b></span> hmm. <tt>Run: [ERROR] Server responded with an error: [3010] Opening path '/icecube/PUBLIC/testfile' is disallowed.</tt><br/>
<span style="color: #c386df"><span style="font-size: small">(10:55:41)</span> <b>matyas:</b></span> here is the Authfile: <tt>u * /chtc/PUBLIC lr /icecube/PUBLIC lr</tt><br/>
<span style="color: #235e5b"><span style="font-size: small">(10:56:12)</span> <b>dweitzel:</b></span> xrootd log?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:56:42)</span> <b>matyas:</b></span> <pre>190618 10:54:52 10943 XrdInet: Accepted connection from <a href="mailto:81@sc-origin.chtc.wisc.edu">81@sc-origin.chtc.wisc.edu</a><br/>190618 10:54:52 10943 XrdProtocol: matched protocol xrootd<br/>190618 10:54:52 10943 ?:81@sc-origin XrdPoll: FD 81 attached to poller 0; num=1<br/>190618 10:54:52 10943 XrootdXeq: root.4874:81@sc-origin pub IP46 login<br/>190618 10:54:52 10943 root.4874:81@sc-origin XrootdResponse: sending err 3010: Opening path '/icecube/PUBLIC/testfile' is disallowed.<br/>190618 10:54:52 10943 XrootdXeq: root.4874:81@sc-origin disc 0:00:00<br/>190618 10:54:52 10943 root.4874:81@sc-origin XrdPoll: FD 81 detached from poller 0; num=0<br/></pre><br/>
<span style="color: #235e5b"><span style="font-size: small">(10:57:17)</span> <b>dweitzel:</b></span> sounds like an export problem.<br/>
<span style="color: #235e5b"><span style="font-size: small">(10:57:37)</span> <b>dweitzel:</b></span> do you have local root or anything in the origin config?<br/>
<span style="color: #c386df"><span style="font-size: small">(10:58:58)</span> <b>matyas:</b></span> yeah it's set to /mnt/stash<br/>
<span style="color: #c386df"><span style="font-size: small">(10:59:04)</span> <b>matyas:</b></span> oss.localroot is<br/>
<span style="color: #c386df"><span style="font-size: small">(10:59:17)</span> <b>matyas:</b></span> let me try exporting all of /icecube<br/>
<span style="color: #c386df"><span style="font-size: small">(10:59:51)</span> <b>matyas:</b></span> yeah that did it<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:00:24)</span> <b>dweitzel:</b></span> huh, not what I expected.<br/>
<span style="color: #c386df"><span style="font-size: small">(11:00:34)</span> <b>matyas:</b></span> and now it works through the redirector too<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:00:40)</span> <b>dweitzel:</b></span> ok, good.<br/>
<span style="color: #c386df"><span style="font-size: small">(11:04:00)</span> <b>matyas:</b></span> I tried xrdmapc again and now it shows this warning: <pre>Warning! <a href="http://redirector.osgstorage.org:1094">redirector.osgstorage.org:1094</a> referred to the following unconnected node:<br/>????? <a href="http://sc-origin.chtc.wisc.edu:1094">sc-origin.chtc.wisc.edu:1094</a></pre><br/>
<span style="color: #235e5b"><span style="font-size: small">(11:08:34)</span> <b>dweitzel:</b></span> I'm unfamiliar with all of xrdmapc's behavior.  But if the xrdcp works from the redirector, then all caches should be good.<br/>
</body>
</html>
