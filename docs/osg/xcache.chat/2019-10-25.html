<!DOCTYPE html>
<html>
<head>
<title>Fri Oct 25, 2019 : #xcache (osg)</title>
</head>
<body>
<h3>Fri Oct 25, 2019 : #xcache (osg)</h3>
<span style="color: #a63024"><span style="font-size: small">(10:18:30)</span> <b>efajardo:</b></span> <b>@here</b><br/>
<span style="color: #a63024"><span style="font-size: small">(10:18:40)</span> <b>efajardo:</b></span> Now I am seeing lots of problems on the auth caches<br/>
<span style="color: #a63024"><span style="font-size: small">(10:18:49)</span> <b>efajardo:</b></span> all of them refuse to s tart<br/>
<span style="color: #a63024"><span style="font-size: small">(10:18:52)</span> <b>efajardo:</b></span> with error<br/>
<span style="color: #a63024"><span style="font-size: small">(10:18:56)</span> <b>efajardo:</b></span> <pre>------ File system server initialization completed.<br/>Copr.  2013 Stanford University/SLAC dig file system<br/>++++++ DigFS initialization started.<br/>=====&gt; continue /etc/xrootd/config.d<br/>Config continuing with file /etc/xrootd/config.d/10-common-site-local.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/10-docker-env-var.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/10-k8s-https.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/40-osg-auth.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/40-osg-caching-plugin.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/40-osg-http.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/40-osg-monitoring.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/40-osg-paths.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/50-stash-cache-authz.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/50-stash-cache-paths.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/90-xcache-logging.cfg ...<br/>++++++ Dig initializing from /etc/xrootd/digauth.cfg<br/>Config No users authorized to access digFS; access suspended.<br/>------ Dig auth initialization succeeded.<br/>------ DigFS initialization completed.<br/>Config warning: 'xrootd.prepare logdir' not specified; prepare tracking disabled.<br/>------ xrootd protocol initialization completed.<br/>191025 15:15:49 797 XrdProtocol: getting protocol object http<br/>Copr. 2012 CERN IT, an HTTP implementation for the XROOTD framework.<br/>++++++ HTTP protocol initialization started.<br/>Config Routing for <a href="http://stashcache.gravity.cf.ac.uk">stashcache.gravity.cf.ac.uk</a>: local pub4 prv4 <br/>Config Route all4: <a href="http://stashcache.gravity.cf.ac.uk">stashcache.gravity.cf.ac.uk</a> Dest=[::131.251.129.34]:8444<br/>=====&gt; continue /etc/xrootd/config.d<br/>Config continuing with file /etc/xrootd/config.d/10-common-site-local.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/10-docker-env-var.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/10-k8s-https.cfg ...<br/>=====&gt; http.cadir /etc/grid-security/certificates<br/>=====&gt; http.cert /etc/grid-security/xrd/xrdcert.pem<br/>=====&gt; http.key /etc/grid-security/xrd/xrdkey.pem<br/>Plugin No such file or directory loading secxtractorlib /usr/lib64/libXrdLcmaps-4.so<br/>Config Falling back to using /usr/lib64/libXrdLcmaps.so<br/>Plugin loaded <br/>=====&gt; http.secxtractor /usr/lib64/libXrdLcmaps.so<br/>=====&gt; http.listingdeny yes<br/>=====&gt; http.staticpreload <a href="http://static/robots.txt">http://static/robots.txt</a> /etc/xrootd/xcache-robots.txt<br/>Config continuing with file /etc/xrootd/config.d/40-osg-auth.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/40-osg-caching-plugin.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/40-osg-http.cfg ...<br/>=====&gt; http.cadir /etc/grid-security/certificates<br/>=====&gt; http.cert /etc/grid-security/xrd/xrdcert.pem<br/>=====&gt; http.key /etc/grid-security/xrd/xrdkey.pem<br/>=====&gt; http.secxtractor /usr/lib64/libXrdLcmaps.so<br/>=====&gt; http.listingdeny yes<br/>=====&gt; http.staticpreload <a href="http://static/robots.txt">http://static/robots.txt</a> /etc/xrootd/xcache-robots.txt<br/>Config continuing with file /etc/xrootd/config.d/40-osg-monitoring.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/40-osg-paths.cfg ...<br/>Config warning: ignoring unknown directive 'pidpath'.<br/>Config continuing with file /etc/xrootd/config.d/50-stash-cache-authz.cfg ...<br/>Config continuing with file /etc/xrootd/config.d/50-stash-cache-paths.cfg ...<br/>Config warning: ignoring unknown directive 'export'.<br/>Config continuing with file /etc/xrootd/config.d/90-xcache-logging.cfg ...<br/> Using TLS 1.2<br/>------ HTTP protocol initialization failed.<br/>191025 15:15:49 797 XrdProtocol: Protocol http could not be loaded<br/>------ xrootd <a href="mailto:stash-cache-auth@stashcache.gravity.cf.ac.uk">stash-cache-auth@stashcache.gravity.cf.ac.uk</a>:8444 initialization failed.</pre><br/>
<span style="color: #c386df"><span style="font-size: small">(10:20:31)</span> <b>matyas:</b></span> &gt; Config warning: ignoring unknown directive 'export'.<br/>uhhh<br/>
<span style="color: #c386df"><span style="font-size: small">(10:23:22)</span> <b>matyas:</b></span> can you send a tarball of /etc/xrootd/config.d?<br/>
<span style="color: #a63024"><span style="font-size: small">(10:35:01)</span> <b>efajardo:</b></span> Well I am using stashcache:stable<br/>
<span style="color: #c386df"><span style="font-size: small">(10:53:28)</span> <b>matyas:</b></span> weird, docker says stable hasn't been built in two months<br/>
<span style="color: #c386df"><span style="font-size: small">(11:33:04)</span> <b>matyas:</b></span> oh are you using prp-stashcache?<br/>
<span style="color: #c386df"><span style="font-size: small">(11:33:21)</span> <b>matyas:</b></span> I see 10-k8s-https.cfg in your config list<br/>
<span style="color: #c386df"><span style="font-size: small">(11:33:46)</span> <b>matyas:</b></span> which does <pre><br/>if named stash-cache-auth<br/>   xrd.protocol http:8444 libXrdHttp.so<br/>fi<br/></pre><br/>
<span style="color: #a63024"><span style="font-size: small">(11:34:39)</span> <b>efajardo:</b></span> yea that fixed it<br/>
<span style="color: #a63024"><span style="font-size: small">(11:34:57)</span> <b>efajardo:</b></span> so I know what the solution is but no t what the problem is<br/>
<span style="color: #c386df"><span style="font-size: small">(11:35:28)</span> <b>matyas:</b></span> there's also 40-osg-auth.cfg<br/>
<span style="color: #c386df"><span style="font-size: small">(11:35:44)</span> <b>matyas:</b></span> which does <pre><br/>if named stash-cache-auth<br/><br/>   xrd.protocol http:8443 libXrdHttp.so<br/>...<br/></pre><br/>
<span style="color: #c386df"><span style="font-size: small">(11:36:05)</span> <b>matyas:</b></span> I dunno if they're conflicting or what<br/>
<span style="color: #a63024"><span style="font-size: small">(11:36:37)</span> <b>efajardo:</b></span> something is conflicting but I maanged to get it satable<br/>
<span style="color: #a63024"><span style="font-size: small">(11:36:46)</span> <b>efajardo:</b></span> but Idk which are the conflictingbits<br/>
</body>
</html>
