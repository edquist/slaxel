<!DOCTYPE html>
<html>
<head>
<title>Tue Dec 4, 2018 : #xcache (osg)</title>
</head>
<body>
<h3>Tue Dec 4, 2018 : #xcache (osg)</h3>
<span style="color: #9e3997"><span style="font-size: small">(11:05:20)</span> <b>bbockelm:</b></span> @ivukotic - reading XCache code.  One thing I did notice is that data coming from disk does _not_ populate the RAM cache.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:06:15)</span> <b>bbockelm:</b></span> RAM cache is only for blocks that are being read from the origin and haven't been flushed from the cache.<br/>
<span style="color: #43761b"><span style="font-size: small">(11:10:10)</span> <b>blin:</b></span> flushed from the cache = flushed from disk?<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:12:08)</span> <b>bbockelm:</b></span> sorry, flushed from the RAM cache<br/>
<span style="color: #c386df"><span style="font-size: small">(12:48:22)</span> <b>matyas:</b></span> trying to test stashcache on a single machine with the cache pointed directly at the origin<br/>
<span style="color: #c386df"><span style="font-size: small">(12:48:51)</span> <b>matyas:</b></span> I can fetch the file from the cache but it doesn't get stored in the cache directory<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:04:39)</span> <b>bbockelm:</b></span> @ivukotic - here's the writeup of how I understand the cache statistics: <a href="https://docs.google.com/document/d/19v-t8CZ9QZzEJJW587Q2FzGgLeqy1cbhAfCr0gjDRtI/edit">https://docs.google.com/document/d/19v-t8CZ9QZzEJJW587Q2FzGgLeqy1cbhAfCr0gjDRtI/edit</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(14:04:52)</span> <b>bbockelm:</b></span> Unfortunately, they are useless for calculating hit rates.<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:14:33)</span> <b>dweitzel:</b></span> @matyas has it been dumped to disk yet?  I know there is a ram cache involved. But I thought Xrootd wrote it out to disk as well. <br/>
<span style="color: #c386df"><span style="font-size: small">(15:23:44)</span> <b>matyas:</b></span> how can I tell?<br/>
<span style="color: #c386df"><span style="font-size: small">(15:24:02)</span> <b>matyas:</b></span> er, I mean, it hasn't<br/>
<span style="color: #c386df"><span style="font-size: small">(15:24:13)</span> <b>matyas:</b></span> at least, there's no file there when I <tt>ls</tt> the cache directory<br/>
<span style="color: #c386df"><span style="font-size: small">(15:24:19)</span> <b>matyas:</b></span> (that's the test that fails)<br/>
<span style="color: #235e5b"><span style="font-size: small">(17:07:20)</span> <b>dweitzel:</b></span> To complete the loop.  Cache directory was owned by root. <br/>
<span style="color: #43761b"><span style="font-size: small">(17:10:14)</span> <b>blin:</b></span> did the packaging not handle that?<br/>
<span style="color: #c386df"><span style="font-size: small">(17:11:45)</span> <b>matyas:</b></span> the packaging doesn't make a cache directory<br/>
<span style="color: #c386df"><span style="font-size: small">(17:11:58)</span> <b>matyas:</b></span> deciding where the cache directory is mounted is the admin's choice<br/>
</body>
</html>
