<!DOCTYPE html>
<html>
<head>
<title>Tue May 24, 2016 : #software (osg)</title>
</head>
<body>
<h3>Tue May 24, 2016 : #software (osg)</h3>
<span style="color: #e96699"><span style="font-size: small">(12:22:19)</span> <b>lincoln:</b></span> hello container friends<br/>
<span style="color: #e96699"><span style="font-size: small">(12:22:34)</span> <b>lincoln:</b></span> what are you guys doing for CVMFS inside of containers? are you working with autofs in some way or doing something different?<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:47:35)</span> <b>dweitzel:</b></span> something different.<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:48:14)</span> <b>dweitzel:</b></span> we don’t use automount on our Tier 2, I don’t believe ( @jthiltges can answer for sure).  So we just bind mount /cvmfs into the container, and good to go.<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:48:33)</span> <b>dweitzel:</b></span> @gattebury: can also answer.<br/>
<span style="color: #50a0cf"><span style="font-size: small">(12:52:57)</span> <b>eringrasmick:</b></span> bind mount here as well<br/>
<span style="color: #e06b56"><span style="font-size: small">(12:58:18)</span> <b>jthiltges:</b></span> @lincoln @dweitzel We bind mounted /cvmfs and automount has worked OK.<br/>
<span style="color: #e96699"><span style="font-size: small">(13:05:28)</span> <b>lincoln:</b></span> ok great<br/>
<span style="color: #e96699"><span style="font-size: small">(13:05:32)</span> <b>lincoln:</b></span> i want to be consistently different.<br/>
<span style="color: #e96699"><span style="font-size: small">(13:05:34)</span> <b>lincoln:</b></span> :slightly_smiling_face:<br/>
<span style="color: #e06b56"><span style="font-size: small">(13:10:01)</span> <b>jthiltges:</b></span> Brian pointed this out to me, but I've not tried it: <a href="https://gitlab.cern.ch/cloud-infrastructure/docker-volume-cvmfs">https://gitlab.cern.ch/cloud-infrastructure/docker-volume-cvmfs</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(16:00:05)</span> <b>bbockelm:</b></span> @lincoln @jthiltges - I’m still really curious as to whether the CVMFS docker volumes work well.  IIRC, they have to be specified on command line - meaning it’s at least one Condor release away from actually being usable.<br/>
<span style="color: #e96699"><span style="font-size: small">(16:00:26)</span> <b>lincoln:</b></span> hm<br/>
<span style="color: #e96699"><span style="font-size: small">(16:09:49)</span> <b>lincoln:</b></span> i guess the docker universe doesn’t support arbitrary volume mounts? probably a security issue therein?<br/>
<span style="color: #e96699"><span style="font-size: small">(16:10:04)</span> <b>lincoln:</b></span> or does the cvmfs volume not work that way? (or both?)<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:10:29)</span> <b>bbockelm:</b></span> It supports arbitrary volume mounts, but this … is a different volume mechanism of some sort.<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:10:34)</span> <b>bbockelm:</b></span> Not sure I know all the correct keywords there.<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:10:39)</span> <b>bbockelm:</b></span> It’s a volume, not a volume.<br/>
<span style="color: #e96699"><span style="font-size: small">(16:13:26)</span> <b>lincoln:</b></span> oh boy<br/>
<span style="color: #e96699"><span style="font-size: small">(16:13:38)</span> <b>lincoln:</b></span> is the difference in pronunciation? :slightly_smiling_face:<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:13:50)</span> <b>bbockelm:</b></span> it’s British.  Voloume?<br/>
<span style="color: #e96699"><span style="font-size: small">(16:13:55)</span> <b>lincoln:</b></span> oh i see<br/>
<span style="color: #9e3997"><span style="font-size: small">(16:14:12)</span> <b>bbockelm:</b></span> alright, I’m leaving on a high note.  Catch you folks tomorrow.<br/>
<span style="color: #e96699"><span style="font-size: small">(16:14:16)</span> <b>lincoln:</b></span> cya<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:15:44)</span> <b>dweitzel:</b></span> @lincoln: you can specify docker volumes in the condor configuration: <a href="https://djw8605.github.io/2016/05/18/hiding-all-the-details-grid-jobs-in-docker/">https://djw8605.github.io/2016/05/18/hiding-all-the-details-grid-jobs-in-docker/</a><br/>
<span style="color: #e96699"><span style="font-size: small">(16:16:41)</span> <b>lincoln:</b></span> ah ok, so it’s not specified by the job then?<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:16:48)</span> <b>dweitzel:</b></span> nope<br/>
<span style="color: #e96699"><span style="font-size: small">(16:16:51)</span> <b>lincoln:</b></span> good<br/>
<span style="color: #e96699"><span style="font-size: small">(16:16:55)</span> <b>lincoln:</b></span> so much for stealing your /etc/shadow :slightly_smiling_face:<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:17:24)</span> <b>dweitzel:</b></span> yup!<br/>
<span style="color: #50a0cf"><span style="font-size: small">(16:25:06)</span> <b>eringrasmick:</b></span> @dweitzel: Nice Jekyll theme... might have to steal that<br/>
<span style="color: #235e5b"><span style="font-size: small">(16:26:00)</span> <b>dweitzel:</b></span> yeah, I really like it too: <a href="https://mmistakes.github.io/minimal-mistakes/">https://mmistakes.github.io/minimal-mistakes/</a><br/>
<span style="color: #50a0cf"><span style="font-size: small">(16:26:49)</span> <b>eringrasmick:</b></span> Looks reaaally nice on a portrait-oriented monitor<br/>
</body>
</html>
