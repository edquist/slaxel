<!DOCTYPE html>
<html>
<head>
<title>Mon Aug 30, 2021 : #software (osg)</title>
</head>
<body>
<h3>Mon Aug 30, 2021 : #software (osg)</h3>
<span style="color: #de5f24"><span style="font-size: small">(09:12:37)</span> <b>justas.balcas:</b></span> Hi, Not sure if this is xrootd 5 or multiuser issue. Since upgrade to 5 - cmsd is not logging filename, also no details which file was opened in xrootd logs. Is there a knob to enable this?<br/>
<blockquote>
<span style="color: #e06b56"><span style="font-size: small">(09:25:34)</span> <b>jthiltges:</b></span> I don't recall noticing a change when we moved to v5. Our local redirector and SEs have <tt>cms.trace all</tt> for what it's worth.<br/>
<span style="color: #e06b56"><span style="font-size: small">(09:27:14)</span> <b>jthiltges:</b></span> There do seem to be some long-standing issues with log output. Some log entries stop showing up, perhaps after the daily log rotation? And restarting the service brings them back.<br/>
<span style="color: #de5f24"><span style="font-size: small">(09:33:44)</span> <b>justas.balcas:</b></span> back to 2017 :smile: (days when we had cron to restart xrootd)<br/>Wishlist for xrootd features keep increasing ;))<br/>
<span style="color: #de5f24"><span style="font-size: small">(09:40:12)</span> <b>justas.balcas:</b></span> Is there a way increase debug level of xrootd/cmsd without restart?<br/>
<span style="color: #e06b56"><span style="font-size: small">(10:11:28)</span> <b>jthiltges:</b></span> On changing the debug level, not that I'm aware of. (If you find one, please share!)<br/>
<span style="color: #de5f24"><span style="font-size: small">(10:12:52)</span> <b>justas.balcas:</b></span> <a href="https://github.com/xrootd/xrootd/issues/1499">https://github.com/xrootd/xrootd/issues/1499</a><br/>
</blockquote>
<span style="color: #965d1b"><span style="font-size: small">(11:01:55)</span> <b>briedel:</b></span> with singularity support in HTCondor (<tt>+SingularityImage=foo</tt>) is there way to user define a bind mount?<br/>
<blockquote>
<span style="color: #43761b"><span style="font-size: small">(11:06:05)</span> <b>blin:</b></span> @gthain?<br/>
<span style="color: #e0a729"><span style="font-size: small">(11:16:08)</span> <b>gthain:</b></span> Yes, if the admin allows it<br/>
<span style="color: #e0a729"><span style="font-size: small">(11:16:38)</span> <b>gthain:</b></span> <a href="https://htcondor.readthedocs.io/en/latest/admin-manual/singularity-support.html?highlight=SINGULARITY_IMAGE_EXPR#singularity-support">https://htcondor.readthedocs.io/en/latest/admin-manual/singularity-support.html?highlight=SINGULARITY_IMAGE_EXPR#singularity-support</a><br/><br/>scroll down to SINGULARITY_BIND_EXPR<br/>
<span style="color: #965d1b"><span style="font-size: small">(11:19:11)</span> <b>briedel:</b></span> does this overwrite the other bind mounts or append to them?<br/>
<span style="color: #e0a729"><span style="font-size: small">(12:25:07)</span> <b>gthain:</b></span> Which other bind mounts?<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:54:24)</span> <b>briedel:</b></span> <tt>/cvmfs</tt> in this case<br/>
<span style="color: #e0a729"><span style="font-size: small">(12:58:06)</span> <b>gthain:</b></span> it needs to be part of SINGULARITY_BIND_EXPR<br/>
<span style="color: #e0a729"><span style="font-size: small">(12:58:27)</span> <b>gthain:</b></span> e.g.<br/>
<span style="color: #e0a729"><span style="font-size: small">(13:00:08)</span> <b>gthain:</b></span> <pre>SINGULARITY_BIND_EXPR = strcat("/cvmfs ", SomeExpressionFromJob)</pre><br/>
<span style="color: #965d1b"><span style="font-size: small">(14:00:03)</span> <b>briedel:</b></span> okay i thought it was<br/><pre>SINGULARITY_BIND_EXPR = "/cvmfs /etc/OpenCL"</pre><br/><br/>
<span style="color: #e0a729"><span style="font-size: small">(14:00:44)</span> <b>gthain:</b></span> That also works...<br/>
<span style="color: #e0a729"><span style="font-size: small">(14:01:09)</span> <b>gthain:</b></span> but it can be an arbitrary classad expression, including a string<br/>
<span style="color: #e0a729"><span style="font-size: small">(14:01:23)</span> <b>gthain:</b></span> evaluated in the context of the job and machine ads<br/>
</blockquote>
</body>
</html>
