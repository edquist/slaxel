<!DOCTYPE html>
<html>
<head>
<title>Wed Nov 4, 2015 : #software (osg)</title>
</head>
<body>
<h3>Wed Nov 4, 2015 : #software (osg)</h3>
<span style="color: #9e3997"><span style="font-size: small">(10:53:54)</span> <b>bbockelm:</b></span> anyhow - I was curious if I could get a login to your host<br/>
<span style="color: #e96699"><span style="font-size: small">(10:54:04)</span> <b>lincoln:</b></span> mmm<br/>
<span style="color: #e96699"><span style="font-size: small">(10:54:08)</span> <b>lincoln:</b></span> i reckon<br/>
<span style="color: #9e3997"><span style="font-size: small">(10:54:09)</span> <b>bbockelm:</b></span> and try my eyeballs at the issue<br/>
<span style="color: #e96699"><span style="font-size: small">(10:54:21)</span> <b>lincoln:</b></span> gimme pubkey<br/>
<span style="color: #9e3997"><span style="font-size: small">(10:54:47)</span> <b>bbockelm:</b></span> basically, I’m going to crank up the log levels to Plaid and see what I can see.<br/>
<span style="color: #9e3997"><span style="font-size: small">(10:55:11)</span> <b>bbockelm:</b></span> pubkey:<br/>
<span style="color: #9e3997"><span style="font-size: small">(10:55:12)</span> <b>bbockelm:</b></span> ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDM0Sv7te1kT/axIjTneRUzJPIfRKZQzoMRrAz8U66Hc9oeYgUSugGMGVkZLiik4cjEjILxl09LYydkyuwU6nRzAIPWE83zl3RknaXZdwITvwnwQNqlkabnr954NgISO+qr8UbrYqhT2pwzMl61BWi7HHMkH/C9a3vDTeNSKfLMz1YlYttd7RZzLNoC6Ewk61TODSOt9YqpTFyai085VxGBeTpVLDlSI0pyBBf34txVDxHbM0wcZkT47SCJroECItEfAULW+T74bYHZPf9oRx/48J8DBBy7ajwBx9TS4ZiNhXcgDhbfvBtOlFwr7fdLZELg5/V/eDkhDyQQv7HSrT9n bbockelm@Brians-MacBook-Air.local<br/>
<span style="color: #e96699"><span style="font-size: small">(10:56:45)</span> <b>lincoln:</b></span> <a href="mailto:bbockelm@stashcache.grid.uchicago.edu">bbockelm@stashcache.grid.uchicago.edu</a><br/>
<span style="color: #e96699"><span style="font-size: small">(10:57:05)</span> <b>lincoln:</b></span> should be able to sudo<br/>
<span style="color: #9e3997"><span style="font-size: small">(10:58:15)</span> <b>bbockelm:</b></span> what’s a good test file name?<br/>
<span style="color: #e96699"><span style="font-size: small">(10:59:39)</span> <b>lincoln:</b></span> uhh.. /user/test.1M maybe? not sure, havent pulled any files off of it recently. config is prob messed up<br/>
<span style="color: #53b759"><span style="font-size: small">(11:00:10)</span> <b>marian:</b></span> yes, that file<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:00:10)</span> <b>bbockelm:</b></span> @dweitzel: what do you use for stashcache tester?<br/>
<span style="color: #53b759"><span style="font-size: small">(11:00:22)</span> <b>marian:</b></span> give me sec<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:00:52)</span> <b>dweitzel:</b></span> I use user/dweitzel/public/bigfile.txt<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:01:04)</span> <b>dweitzel:</b></span> it’s 10GB<br/>
<span style="color: #53b759"><span style="font-size: small">(11:02:01)</span> <b>marian:</b></span> this is what I use<br/>
<span style="color: #53b759"><span style="font-size: small">(11:02:03)</span> <b>marian:</b></span> xrdcp -d 1 -f <a href="root://hcc-stash.unl.edu:1094//user/test.1M">root://hcc-stash.unl.edu:1094//user/test.1M</a> /tmp/<br/>
<span style="color: #53b759"><span style="font-size: small">(11:02:28)</span> <b>marian:</b></span> bummer, not working now... hmm<br/>
<span style="color: #53b759"><span style="font-size: small">(11:12:05)</span> <b>marian:</b></span> well, is someone doing something? Now it looks that every second attempt fails, strange:<br/>
<span style="color: #53b759"><span style="font-size: small">(11:12:21)</span> <b>marian:</b></span> [root@vocms037 ~]# XRD_NETWORKSTACK=IPv4 xrdcp -d 1 -f <a href="root://stash-itb.grid.iu.edu//user/test.1M">root://stash-itb.grid.iu.edu//user/test.1M</a> /tmp/<br/>[1024kB/1024kB][100%][==================================================][512kB/s]  <br/>[root@vocms037 ~]# XRD_NETWORKSTACK=IPv4 xrdcp -d 1 -f <a href="root://stash-itb.grid.iu.edu//user/test.1M">root://stash-itb.grid.iu.edu//user/test.1M</a> /tmp/<br/>[0B/0B][100%][==================================================][0B/s]  <br/>Run: [ERROR] Server responded with an error: [3011] No servers are available to read the file.<br/><br/>[root@vocms037 ~]# XRD_NETWORKSTACK=IPv4 xrdcp -d 1 -f <a href="root://stash-itb.grid.iu.edu//user/test.1M">root://stash-itb.grid.iu.edu//user/test.1M</a> /tmp/<br/>[1024kB/1024kB][100%][==================================================][512kB/s]  <br/>[root@vocms037 ~]# XRD_NETWORKSTACK=IPv4 xrdcp -d 1 -f <a href="root://stash-itb.grid.iu.edu//user/test.1M">root://stash-itb.grid.iu.edu//user/test.1M</a> /tmp/<br/>[0B/0B][100%][==================================================][0B/s]  <br/>Run: [ERROR] Server responded with an error: [3011] No servers are available to read the file.<br/>
<span style="color: #53b759"><span style="font-size: small">(11:12:38)</span> <b>marian:</b></span> that is when going via redirector alias<br/>
<span style="color: #53b759"><span style="font-size: small">(11:13:36)</span> <b>marian:</b></span> ok, looks like itb2 is culprit, let me look<br/>
<span style="color: #53b759"><span style="font-size: small">(11:25:02)</span> <b>marian:</b></span> now I'm grumpy too ... it's doing this currently:<br/>
<span style="color: #53b759"><span style="font-size: small">(11:25:10)</span> <b>marian:</b></span> [root@vocms037 ~]# XRD_NETWORKSTACK=IPv4 xrdcp -d 1 -f <a href="root://stash-itb.grid.iu.edu//user/test.1M">root://stash-itb.grid.iu.edu//user/test.1M</a> /tmp/<br/>[0B/0B][100%][==================================================][0B/s]  <br/>Run: [ERROR] Server responded with an error: [3011] No servers are available to read the file.<br/><br/>[root@vocms037 ~]# XRD_NETWORKSTACK=IPv4 xrdcp -d 1 -f <a href="root://stash-itb.grid.iu.edu//user/test.1M">root://stash-itb.grid.iu.edu//user/test.1M</a> /tmp/<br/>[0B/0B][100%][==================================================][0B/s]  <br/>Run: [ERROR] Server responded with an error: [3010] Opening path '/user/test.1M' is disallowed.<br/>
<span style="color: #e96699"><span style="font-size: small">(11:41:04)</span> <b>lincoln:</b></span> did we mess with all export or something?<br/>
<span style="color: #e96699"><span style="font-size: small">(11:41:14)</span> <b>lincoln:</b></span> definitely works from the origin<br/>
<span style="color: #53b759"><span style="font-size: small">(11:55:41)</span> <b>marian:</b></span> well, still works from the origin?<br/>
<span style="color: #53b759"><span style="font-size: small">(11:55:45)</span> <b>marian:</b></span> on your end?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:49:34)</span> <b>bbockelm:</b></span> Hi - did someone make a change on <a href="http://stash-itb.grid.iu.edu">stash-itb.grid.iu.edu</a>?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:49:53)</span> <b>bbockelm:</b></span> I see:<br/><pre><br/>[bbockelm@hcc-briantest projects]$ xrdcp <a href="root://stash-itb1.grid.iu.edu//user/test.1M">root://stash-itb1.grid.iu.edu//user/test.1M</a> - | adler32 /dev/stdin<br/>[0B/0B][100%][==================================================][0B/s]  <br/>Run: [ERROR] Server responded with an error: [3011] No servers are available to read the file.<br/><br/>00000001<br/>[bbockelm@hcc-briantest projects]$ xrdcp <a href="root://stash-itb2.grid.iu.edu//user/test.1M">root://stash-itb2.grid.iu.edu//user/test.1M</a> - | adler32 /dev/stdin<br/>[0B/0B][100%][==================================================][0B/s]  <br/>Run: [ERROR] Server responded with an error: [3010] Opening path '/user/test.1M' is disallowed.<br/><br/>00000001<br/></pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(12:50:35)</span> <b>bbockelm:</b></span> @lincoln: what’s the origin server name again?<br/>
<span style="color: #e96699"><span style="font-size: small">(12:50:45)</span> <b>lincoln:</b></span> <a href="http://data.ci-connect.net">data.ci-connect.net</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(12:51:21)</span> <b>bbockelm:</b></span> what complaints do you see in /var/log/xrootd/cmsd.log on data.ci-connect?<br/>
<span style="color: #e96699"><span style="font-size: small">(12:52:17)</span> <b>lincoln:</b></span> mm<br/>
<span style="color: #e96699"><span style="font-size: small">(12:52:44)</span> <b>lincoln:</b></span> seems reasonably happy<br/>
<span style="color: #e96699"><span style="font-size: small">(12:52:51)</span> <b>lincoln:</b></span> <br/>
<span style="color: #9e3997"><span style="font-size: small">(12:54:44)</span> <b>bbockelm:</b></span> when you do a <tt>lsof</tt> on the cmsd process, what do you see?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:54:53)</span> <b>bbockelm:</b></span> is there a TCP connection to stash-itb1 and stash-itb2?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:58:21)</span> <b>bbockelm:</b></span> does anyone have login to stash-itb*?<br/>
<span style="color: #e96699"><span style="font-size: small">(13:04:53)</span> <b>lincoln:</b></span> let me check<br/>
<span style="color: #e96699"><span style="font-size: small">(13:04:56)</span> <b>lincoln:</b></span> wrt lsof<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:05:11)</span> <b>bbockelm:</b></span> uh - looks like the xrdcp test has been failing since Oct 18.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:05:18)</span> <b>bbockelm:</b></span> @dweitzel: do you have access to any of these?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:05:30)</span> <b>dweitzel:</b></span> nope<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:05:43)</span> <b>bbockelm:</b></span> how come stashtester seems to be happy?<br/>
<span style="color: #235e5b"><span style="font-size: small">(13:06:03)</span> <b>dweitzel:</b></span> it uses stashcp, which I presume just connects to 1 of them?<br/>
<span style="color: #e96699"><span style="font-size: small">(13:06:06)</span> <b>lincoln:</b></span> @bbockelm: cmsd    12169 xrootd   22u  IPv4           29501904      0t0      TCP <a href="http://data.ci-connect.net:52774-&gt;stash-itb1.grid.iu.edu:mpc-lifenet">data.ci-connect.net:52774-&gt;stash-itb1.grid.iu.edu:mpc-lifenet</a> (ESTABLISHED)<br/>
<span style="color: #e96699"><span style="font-size: small">(13:06:08)</span> <b>lincoln:</b></span> thats all i have<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:06:21)</span> <b>bbockelm:</b></span> alright.  Something must be misconfigured at stash-itb{1,2}<br/>
<span style="color: #e96699"><span style="font-size: small">(13:06:37)</span> <b>lincoln:</b></span> in my xrootd-clustered on the origin server, i have<br/>
<span style="color: #e96699"><span style="font-size: small">(13:06:38)</span> <b>lincoln:</b></span> all.manager <a href="http://stash-itb.grid.iu.edu">stash-itb.grid.iu.edu</a> 1213<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:06:49)</span> <b>bbockelm:</b></span> @dweitzel: when Marian gets back, can you make sure he gets you access?<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:06:53)</span> <b>bbockelm:</b></span> ah - I think that needs to be:<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:06:59)</span> <b>bbockelm:</b></span> all.manager <a href="http://stash-itb.grid.iu.edu">stash-itb.grid.iu.edu</a>+ 1213<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:07:04)</span> <b>bbockelm:</b></span> (note the ‘+’)<br/>
<span style="color: #e96699"><span style="font-size: small">(13:07:21)</span> <b>lincoln:</b></span> ok<br/>
<span style="color: #e96699"><span style="font-size: small">(13:07:24)</span> <b>lincoln:</b></span> lets give it a try<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:09:05)</span> <b>bbockelm:</b></span> ah-ha.  That made stash-itb1 happier.<br/>
<span style="color: #e96699"><span style="font-size: small">(13:09:14)</span> <b>lincoln:</b></span> cmsd is now unhappy<br/>
<span style="color: #e96699"><span style="font-size: small">(13:09:16)</span> <b>lincoln:</b></span> 151104 18:03:42 5490 Remove completed <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a> manager 2.6<br/>151104 18:03:42 5490 Manager: manager.0:23@stash-itb1.grid.iu.edu removed; request read failed<br/>151104 18:03:51 5490 Pander trying to connect to lvl 0 <a href="http://stash-itb1.grid.iu.edu:1213">stash-itb1.grid.iu.edu:1213</a><br/>151104 18:03:51 5490 XrdInet: Connected to <a href="http://stash-itb1.grid.iu.edu:1213">stash-itb1.grid.iu.edu:1213</a><br/>151104 18:03:51 5490 Add <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a> to manager config; id=2<br/>151104 18:03:51 5490 ManTree: Now connected to 3 root node(s)<br/>151104 18:03:51 5490 Protocol: Logged into <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a><br/>151104 18:03:51 5490 manager.0:23@stash-itb1.grid.iu.edu XrdLink: No RecvAll() data; errno=101<br/>151104 18:03:51 5490 Remove completed <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a> manager 2.7<br/>151104 18:03:51 5490 Manager: manager.0:23@stash-itb1.grid.iu.edu removed; request read failed<br/>151104 18:04:00 5490 Pander trying to connect to lvl 0 <a href="http://stash-itb1.grid.iu.edu:1213">stash-itb1.grid.iu.edu:1213</a><br/>151104 18:04:01 5490 XrdInet: Connected to <a href="http://stash-itb1.grid.iu.edu:1213">stash-itb1.grid.iu.edu:1213</a><br/>151104 18:04:01 5490 Add <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a> to manager config; id=2<br/>151104 18:04:01 5490 ManTree: Now connected to 3 root node(s)<br/>151104 18:04:01 5490 Protocol: Logged into <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a><br/>151104 18:04:01 5490 manager.0:23@stash-itb1.grid.iu.edu XrdLink: No RecvAll() data; errno=101<br/>151104 18:04:01 5490 Remove completed <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a> manager 2.8<br/>151104 18:04:01 5490 Manager: manager.0:23@stash-itb1.grid.iu.edu removed; request read failed<br/>151104 18:04:10 5490 Pander trying to connect to lvl 0 <a href="http://stash-itb1.grid.iu.edu:1213">stash-itb1.grid.iu.edu:1213</a><br/>151104 18:04:10 5490 XrdInet: Connected to <a href="http://stash-itb1.grid.iu.edu:1213">stash-itb1.grid.iu.edu:1213</a><br/>151104 18:04:10 5490 Add <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a> to manager config; id=2<br/>151104 18:04:10 5490 ManTree: Now connected to 3 root node(s)<br/>151104 18:04:10 5490 Protocol: Logged into <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a><br/>151104 18:04:10 5490 manager.0:23@stash-itb1.grid.iu.edu XrdLink: No RecvAll() data; errno=101<br/>151104 18:04:10 5490 Remove completed <a href="http://stash-itb1.grid.iu.edu">stash-itb1.grid.iu.edu</a> manager 2.9<br/>151104 18:04:10 5490 Manager: manager.0:23@stash-itb1.grid.iu.edu removed; request read failed<br/>151104 18:04:10 5491 Dispatch manager.0:22@stash-itb2.grid.iu.edu for state dlen=14<br/>151104 18:04:10 5491 manager.0:22@stash-itb2.grid.iu.edu XrdLink: Setting ref to 1+1 post=0<br/>151104 18:04:10 5492 XrdSched: running server inq=0<br/>151104 18:04:10 5492 manager.0:22@stash-itb2.grid.iu.edu do_State: /user/test.1M<br/>151104 18:04:10 5492 manager.0:22@stash-itb2.grid.iu.edu XrdLink: Setting ref to 2+-1 post=0<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:09:31)</span> <b>bbockelm:</b></span> you know, I’m thinking that a firewall is silently dropping TCP connections.<br/>
<span style="color: #e96699"><span style="font-size: small">(13:09:54)</span> <b>lincoln:</b></span> nothing on my side.<br/>
<span style="color: #e96699"><span style="font-size: small">(13:10:09)</span> <b>lincoln:</b></span> i have the firewall off on <a href="http://data.ci-connect.net">data.ci-connect.net</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(13:10:51)</span> <b>bbockelm:</b></span> the weird thing is that xrdcp is now working.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:13:39)</span> <b>bbockelm:</b></span> did the cmsd re-login to stash-itb1?<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:20:42)</span> <b>bbockelm:</b></span> ah, finally.  I forgot that the xrootd docs on setting the debug level is buste.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:25:14)</span> <b>bbockelm:</b></span> @lincoln: is it possible to fix the time on <a href="http://stashcache.grid.uchicago.edu">stashcache.grid.uchicago.edu</a>?<br/>
<span style="color: #e96699"><span style="font-size: small">(13:25:23)</span> <b>lincoln:</b></span> hm<br/>
<span style="color: #e96699"><span style="font-size: small">(13:25:25)</span> <b>lincoln:</b></span> good catch<br/>
<span style="color: #e96699"><span style="font-size: small">(13:25:39)</span> <b>lincoln:</b></span> seems it is off on data as well<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:25:48)</span> <b>bbockelm:</b></span> dunno if that’ll change anything, but I’ll feel real dumb if it does.<br/>
<span style="color: #e96699"><span style="font-size: small">(13:25:51)</span> <b>lincoln:</b></span> same<br/>
<span style="color: #e96699"><span style="font-size: small">(13:26:08)</span> <b>lincoln:</b></span> done<br/>
<span style="color: #e96699"><span style="font-size: small">(13:26:12)</span> <b>lincoln:</b></span> on both<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:30:01)</span> <b>bbockelm:</b></span> alright, good.  I’ve got the debugging knocked up a notch on <a href="http://hcc-stash.unl.edu">hcc-stash.unl.edu</a> and <a href="http://stashcache.grid.uchicago.edu">stashcache.grid.uchicago.edu</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(13:30:23)</span> <b>bbockelm:</b></span> their unanimous conclusion is <a href="http://stash-itb2.grid.iu.edu">stash-itb2.grid.iu.edu</a> is misconfigured because it doesn’t export the right paths.<br/>
<span style="color: #53b759"><span style="font-size: small">(14:42:19)</span> <b>marian:</b></span> I'm around and read the thread ...<br/>
<span style="color: #53b759"><span style="font-size: small">(14:43:16)</span> <b>marian:</b></span> well, I was playing with the config bit today but I swear thing should be back when it was working just fine ... also I had today successful copies with xrdcp<br/>
<span style="color: #53b759"><span style="font-size: small">(14:43:55)</span> <b>marian:</b></span> around lunch I left if in unknown as I'm still stumped ...<br/>
<span style="color: #53b759"><span style="font-size: small">(14:45:42)</span> <b>marian:</b></span> is anyone looking at it now and what shall I do to avoid step on other toes if you're debugging? itb1 and itb2 always behaved sort of weird<br/>
<span style="color: #53b759"><span style="font-size: small">(14:46:51)</span> <b>marian:</b></span> I think there is lack of knowledge on my side how this caching proxies are really communicating via redirector<br/>
<span style="color: #53b759"><span style="font-size: small">(15:01:34)</span> <b>marian:</b></span> well despite the fact I discussed it several times with Matevz ... though my fear is there always when there is problem, these "subscriptions" looks very sensitive in stashcache setup, we gonna need more robust configuration I'm afraid<br/>
<span style="color: #9e3997"><span style="font-size: small">(15:01:44)</span> <b>bbockelm:</b></span> No, it’s definitely a misconfiguration on stash-itb2<br/>
<span style="color: #9e3997"><span style="font-size: small">(15:01:47)</span> <b>bbockelm:</b></span> <pre><br/>$ xrdcp <a href="root://stash-itb2.grid.iu.edu//user/test.1M">root://stash-itb2.grid.iu.edu//user/test.1M</a> - | adler32 /dev/stdin<br/>[0B/0B][100%][==================================================][0B/s]  <br/>Run: [ERROR] Server responded with an error: [3010] Opening path '/user/test.1M' is disallowed.<br/></pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(15:01:57)</span> <b>bbockelm:</b></span> stash-itb2 is not exporting /user; stash-itb1 is.<br/>
<span style="color: #53b759"><span style="font-size: small">(15:03:07)</span> <b>marian:</b></span> let me look at it<br/>
<span style="color: #53b759"><span style="font-size: small">(15:10:12)</span> <b>marian:</b></span> well the strange thing is that itb2 was always the one working before we cloned itb1<br/>
<span style="color: #53b759"><span style="font-size: small">(15:11:36)</span> <b>marian:</b></span> I stuff on itb2 as well<br/>
<span style="color: #53b759"><span style="font-size: small">(15:11:40)</span> <b>marian:</b></span> I see...<br/>
<span style="color: #53b759"><span style="font-size: small">(15:14:32)</span> <b>marian:</b></span> [root@stash-itb2:~]# ls -al /usr/local/stash/user/<br/>total 1113<br/>drwxr-xr-x 3 xrootd xrootd    1024 Mar  9  2015 .<br/>drwxr-xr-x 3 xrootd xrootd    1024 Jul 20 17:40 ..<br/>drwxr-xr-x 2 xrootd xrootd    1024 Mar  5  2015 ivukotic<br/>-rwxr-xr-x 1 xrootd xrootd 1048576 Mar  9  2015 test.1M<br/>-rwxr-xr-x 1 xrootd xrootd   87669 Apr 10  2015 test.1M.cinfo<br/>
<span style="color: #53b759"><span style="font-size: small">(15:21:00)</span> <b>marian:</b></span> ha, this is what I get now:<br/>
<span style="color: #53b759"><span style="font-size: small">(15:21:01)</span> <b>marian:</b></span> xrdcp -d 1 -f <a href="root://stash-itb1.grid.iu.edu//user/test.1M">root://stash-itb1.grid.iu.edu//user/test.1M</a> /tmp/<br/>[2015-11-04 22:20:35.689293 +0100][Error  ][XRootD            ] [<a href="http://data.ci-connect.net:1094">data.ci-connect.net:1094</a>] Unable to get the response to request kXR_read (handle: 0x00000000, offset: 0, size: 1048576)<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:25:59)</span> <b>dweitzel:</b></span> @marian: why are there data files on stash-itb2?  I thought it was just a redirector.<br/>
<span style="color: #53b759"><span style="font-size: small">(15:26:50)</span> <b>marian:</b></span> well they sit there too for Scott's tests<br/>
<span style="color: #235e5b"><span style="font-size: small">(15:26:57)</span> <b>dweitzel:</b></span> ok<br/>
<span style="color: #53b759"><span style="font-size: small">(15:27:11)</span> <b>marian:</b></span> so this is just local functional test<br/>
<span style="color: #53b759"><span style="font-size: small">(15:27:46)</span> <b>marian:</b></span> if I understand correctly<br/>
<span style="color: #9e3997"><span style="font-size: small">(20:05:18)</span> <b>bbockelm:</b></span> ok, catching back up now the kids are online.  Derek, I also don’t understand that.  Redirectors shouldn’t be able to serve up files.<br/>
<span style="color: #235e5b"><span style="font-size: small">(20:23:55)</span> <b>dweitzel:</b></span> I think Stott may have put files on the redirector in order to test it.  Probably not the best way to test it.<br/>
<span style="color: #235e5b"><span style="font-size: small">(20:24:13)</span> <b>dweitzel:</b></span> I surprised a redirector even looks at it’s own FS.<br/>
<span style="color: #9e3997"><span style="font-size: small">(20:24:40)</span> <b>bbockelm:</b></span> it doesn’t.<br/>
<span style="color: #9e3997"><span style="font-size: small">(20:25:42)</span> <b>bbockelm:</b></span> the fact it has a *.cinfo file indicates that at some point (maybe currently?) it was configured as a cache.<br/>
<span style="color: #9e3997"><span style="font-size: small">(20:44:38)</span> <b>bbockelm:</b></span> So Marian, when you get the chance, can you post the configs for both redirectors (including auxiliary files like the Authfile and /etc/sysconfig/xrootd)?<br/>
<span style="color: #53b759"><span style="font-size: small">(20:58:55)</span> <b>marian:</b></span> Well that what I was saying as well several times about serving files on redirectors... anyway, let's refresh this tomorrow morning, I'll post configs, they are very minimal... Authfile we don't use at all in our setup...<br/>
</body>
</html>
