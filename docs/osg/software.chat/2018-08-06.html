<!DOCTYPE html>
<html>
<head>
<title>Mon Aug 6, 2018 : #software (osg)</title>
</head>
<body>
<h3>Mon Aug 6, 2018 : #software (osg)</h3>
<span style="color: #965d1b"><span style="font-size: small">(11:45:12)</span> <b>briedel:</b></span> <b>@channel</b> did something update <tt>/cvmfs/oasis.opensciencegrid.org/osg-software/osg-wn-client/3.3/current</tt>?<br/>
<span style="color: #965d1b"><span style="font-size: small">(11:50:44)</span> <b>briedel:</b></span> cause <tt>voms-proxy-init</tt> is now broken<br/>
<span style="color: #de5f24"><span style="font-size: small">(11:51:21)</span> <b>tiradani:</b></span> 3.3 is no longer supported<br/>
<span style="color: #de5f24"><span style="font-size: small">(11:51:34)</span> <b>tiradani:</b></span> is there a */3.4/current path?<br/>
<span style="color: #965d1b"><span style="font-size: small">(11:51:34)</span> <b>briedel:</b></span> well 3.4 is also broken<br/>
<span style="color: #965d1b"><span style="font-size: small">(11:52:08)</span> <b>briedel:</b></span> <pre><br/>ls /cvmfs/oasis.opensciencegrid.org/osg-software/osg-wn-client/3.4/current/<br/>el6-x86_64  el7-x86_64<br/></pre><br/>
<span style="color: #965d1b"><span style="font-size: small">(12:01:52)</span> <b>briedel:</b></span> <pre><br/>[briedel@login ~]$ voms-proxy-init  -voms <a href="http://xenon.biggrid.nl">xenon.biggrid.nl</a><br/>Your identity: /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Benedikt Riedel 2175<br/>Creating temporary proxy ............................ Done<br/>Contacting  <a href="http://voms.grid.sara.nl:30008">voms.grid.sara.nl:30008</a> [/O=dutchgrid/O=hosts/OU=<a href="http://sara.nl/CN=voms.grid.sara.nl">sara.nl/CN=voms.grid.sara.nl</a>] "<a href="http://xenon.biggrid.nl">xenon.biggrid.nl</a>" Done<br/>Creating proxy .......................... Done<br/><br/>Your proxy is valid until Tue Aug  7 00:01:34 2018<br/>[briedel@login ~]$ which voms-proxy-init<br/>/usr/bin/voms-proxy-init<br/></pre><br/>
<span style="color: #965d1b"><span style="font-size: small">(12:02:04)</span> <b>briedel:</b></span> <pre><br/>[briedel@login ~]$ voms-proxy-init  -voms <a href="http://xenon.biggrid.nl">xenon.biggrid.nl</a><br/>Your identity: /DC=org/DC=opensciencegrid/O=Open Science Grid/OU=People/CN=Benedikt Riedel 2175<br/>Creating temporary proxy ............................................................................... Done<br/>Contacting  <a href="http://voms.grid.sara.nl:30008">voms.grid.sara.nl:30008</a> [/O=dutchgrid/O=hosts/OU=<a href="http://sara.nl/CN=voms.grid.sara.nl">sara.nl/CN=voms.grid.sara.nl</a>] "<a href="http://xenon.biggrid.nl">xenon.biggrid.nl</a>" Failed<br/><br/>Error: Error during SSL handshake:error:80066405:lib(128):proxy_verify_callback:outdated CRL found, revoking all certs till you get new CRL:sslutils.c:1915<br/>outdated CRL found, revoking all certs till you get new CRL<br/>Function: proxy_verify_callback<br/>error:80066411:lib(128):proxy_verify_callback:certificate validation error:sslutils.c:2110: CRL has expired [subject=/C=NL/O=NIKHEF/CN=NIKHEF medium-security certification auth,issuer=/C=NL/O=NIKHEF/CN=NIKHEF medium-security certification auth]<br/>certificate validation error: CRL has expired [subject=/C=NL/O=NIKHEF/CN=NIKHEF medium-security certification auth,issuer=/C=NL/O=NIKHEF/CN=NIKHEF medium-security certification auth]<br/>Function: proxy_verify_callback<br/>error:14090086:SSL routines:SSL3_GET_SERVER_CERTIFICATE:certificate verify failed:s3_clnt.c:1178<br/>certificate verify failed<br/>Function: SSL3_GET_SERVER_CERTIFICATE<br/><br/><br/>None of the contacted servers for <a href="http://xenon.biggrid.nl">xenon.biggrid.nl</a> were capable<br/>of returning a valid AC for the user.<br/>[briedel@login ~]$ which voms-proxy-init<br/>/cvmfs/oasis.opensciencegrid.org/mis/osg-wn-client/3.4/3.4.12/el6-x86_64/usr/bin/voms-proxy-init<br/></pre><br/>
<span style="color: #43761b"><span style="font-size: small">(12:03:52)</span> <b>blin:</b></span> we cut a new release last week: <a href="https://opensciencegrid.org/docs/release/3.4/release-3-4-16/">https://opensciencegrid.org/docs/release/3.4/release-3-4-16/</a><br/>
<span style="color: #43761b"><span style="font-size: small">(12:03:57)</span> <b>blin:</b></span> but i don't think that's related tbh<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:04:06)</span> <b>briedel:</b></span> yeah<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:04:11)</span> <b>briedel:</b></span> cause it is broken in 3.4.12<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:04:28)</span> <b>briedel:</b></span> also current points at an old release<br/><pre><br/>[briedel@login ~]$ ls -htrla /cvmfs/oasis.opensciencegrid.org/osg-software/osg-wn-client/3.4/<br/>total 40K<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Jun 15  2017 3.4.0<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Jul 18  2017 3.4.1<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Aug  8  2017 3.4.2<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Sep 12  2017 3.4.3<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Oct 10  2017 3.4.4<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Nov 14  2017 3.4.5<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Dec 21  2017 3.4.6<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Feb  1  2018 3.4.7<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Feb  7 15:42 3.4.8<br/>drwxrwxr-x  6 cvmfs cvmfs 4.0K Mar  8 17:02 ..<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Mar 12 17:17 3.4.9<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Apr 18 14:16 3.4.10<br/>drwxrwxr-x  4 cvmfs cvmfs 4.0K May 10 19:33 3.4.12<br/>drwxrwxr-x  4 cvmfs cvmfs 4.0K Jun 12 13:49 3.4.13<br/>lrwxrwxrwx  1 cvmfs cvmfs    6 Jun 12 13:56 current -&gt; 3.4.13<br/>drwxr-xr-x 16 cvmfs cvmfs 4.0K Jul  2 13:25 .<br/>drwxrwxr-x  4 cvmfs cvmfs 4.0K Jul  2 13:25 3.4.14<br/></pre><br/>
<blockquote>
<span style="color: #43761b"><span style="font-size: small">(12:05:44)</span> <b>blin:</b></span> this is strange, why does current point to 3.4.13 when there's a 3.4.14? @tim.theisen @dwd?<br/>
<span style="color: #99a949"><span style="font-size: small">(13:57:06)</span> <b>dwd:</b></span> I don’t know, I’m not responsible for that code.<br/>
</blockquote>
<span style="color: #9e3997"><span style="font-size: small">(12:04:30)</span> <b>bbockelm:</b></span> <pre><br/>error:80066411:lib(128):proxy_verify_callback:certificate validation error:sslutils.c:2110: CRL has expired [subject=/C=NL/O=NIKHEF/CN=NIKHEF medium-security certification auth,issuer=/C=NL/O=NIKHEF/CN=NIKHEF medium-security certification auth]<br/></pre><br/>
<span style="color: #965d1b"><span style="font-size: small">(12:04:38)</span> <b>briedel:</b></span> and 3.4.16 and 3.4.15 arent there<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:04:51)</span> <b>briedel:</b></span> i checked with the site<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:04:56)</span> <b>briedel:</b></span> they say their crls are okay<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:05:01)</span> <b>bbockelm:</b></span> yeah, but are their CRLs used?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:05:12)</span> <b>bbockelm:</b></span> or is it run inside a singularity container and using CRLs from OASIS?<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:05:33)</span> <b>briedel:</b></span> we distribute the CRLs internally<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:07:30)</span> <b>bbockelm:</b></span> One inside OASIS looks a-OK.<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:15:16)</span> <b>briedel:</b></span> well it isn't.....<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:15:30)</span> <b>briedel:</b></span> <pre><br/>[briedel@login ~]$ cat /etc/grid-security/certificates/NIKHEF.info<br/>#<br/># @(#)$Id: <a href="http://16da7552.info">16da7552.info</a>,v 1.5 2015/06/18 09:44:55 pmacvsdg Exp $<br/># Information for CA NIKHEF<br/>#<br/>alias = NIKHEF<br/>ca_url = <a href="http://ca.dutchgrid.nl/medium/cacert.pem">http://ca.dutchgrid.nl/medium/cacert.pem</a><br/>crl_url = <a href="http://ca.dutchgrid.nl/medium/cacrl.pem">http://ca.dutchgrid.nl/medium/cacrl.pem</a><br/>policy_url = <a href="http://ca.dutchgrid.nl/medium/policy/">http://ca.dutchgrid.nl/medium/policy/</a><br/>email = <a href="mailto:ca@dutchgrid.nl">ca@dutchgrid.nl</a><br/>status = accredited:classic<br/>url = <a href="http://ca.dutchgrid.nl/medium/">http://ca.dutchgrid.nl/medium/</a><br/>version = 1.92<br/>sha1fp.0 = E5:FA:C3:3B:44:8F:26:1B:3D:D1:DE:BA:5F:EC:ED:35:A9:3F:23:21<br/>subjectdn = "/C=NL/O=NIKHEF/CN=NIKHEF medium-security certification auth"<br/></pre><br/>
<span style="color: #965d1b"><span style="font-size: small">(12:15:45)</span> <b>briedel:</b></span> <pre><br/>[briedel@login ~]$ cat /cvmfs/oasis.opensciencegrid.org/osg-software/osg-wn-client/3.4/current/el7-x86_64/etc/grid-security/certificates/NIKHEF.info<br/>#<br/># @(#)$Id: <a href="http://16da7552.info">16da7552.info</a>,v 1.5 2015/06/18 09:44:55 pmacvsdg Exp $<br/># Information for CA NIKHEF<br/>#<br/>alias = NIKHEF<br/>ca_url = <a href="http://ca.dutchgrid.nl/medium/cacert.pem">http://ca.dutchgrid.nl/medium/cacert.pem</a><br/>crl_url = <a href="http://ca.dutchgrid.nl/medium/cacrl.pem">http://ca.dutchgrid.nl/medium/cacrl.pem</a><br/>policy_url = <a href="http://ca.dutchgrid.nl/medium/policy/">http://ca.dutchgrid.nl/medium/policy/</a><br/>email = <a href="mailto:ca@dutchgrid.nl">ca@dutchgrid.nl</a><br/>status = accredited:classic<br/>url = <a href="http://ca.dutchgrid.nl/medium/">http://ca.dutchgrid.nl/medium/</a><br/>version = 1.91<br/>sha1fp.0 = E5:FA:C3:3B:44:8F:26:1B:3D:D1:DE:BA:5F:EC:ED:35:A9:3F:23:21<br/>subjectdn = "/C=NL/O=NIKHEF/CN=NIKHEF medium-security certification auth"<br/></pre><br/>
<span style="color: #965d1b"><span style="font-size: small">(12:15:50)</span> <b>briedel:</b></span> it is a version behind<br/>
<span style="color: #43761b"><span style="font-size: small">(12:27:59)</span> <b>blin:</b></span> that doesn't seem good. @marian how does CA data get updated on OASIS?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:29:54)</span> <b>bbockelm:</b></span> it's the same CA, right?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:30:48)</span> <b>bbockelm:</b></span> version refers to the IGTF release.<br/>
<span style="color: #43761b"><span style="font-size: small">(12:32:18)</span> <b>blin:</b></span> if that's the case, it may not be the cause of benedikt's issues but it seems problematic if OASIS doesn't have the latest IGTF release<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:32:51)</span> <b>bbockelm:</b></span> well, see the above part of the discussion where the release wasn't pushed to OASIS.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:33:10)</span> <b>bbockelm:</b></span> <pre><br/></pre>[briedel@login ~]$ ls -htrla /cvmfs/oasis.opensciencegrid.org/osg-software/osg-wn-client/3.4/<br/>total 40K<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Jun 15  2017 3.4.0<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Jul 18  2017 3.4.1<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Aug  8  2017 3.4.2<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Sep 12  2017 3.4.3<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Oct 10  2017 3.4.4<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Nov 14  2017 3.4.5<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Dec 21  2017 3.4.6<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Feb  1  2018 3.4.7<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Feb  7 15:42 3.4.8<br/>drwxrwxr-x  6 cvmfs cvmfs 4.0K Mar  8 17:02 ..<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Mar 12 17:17 3.4.9<br/>drwxr-xr-x  4 cvmfs cvmfs 1.0K Apr 18 14:16 3.4.10<br/>drwxrwxr-x  4 cvmfs cvmfs 4.0K May 10 19:33 3.4.12<br/>drwxrwxr-x  4 cvmfs cvmfs 4.0K Jun 12 13:49 3.4.13<br/>lrwxrwxrwx  1 cvmfs cvmfs    6 Jun 12 13:56 current -&gt; 3.4.13<br/>drwxr-xr-x 16 cvmfs cvmfs 4.0K Jul  2 13:25 .<br/>drwxrwxr-x  4 cvmfs cvmfs 4.0K Jul  2 13:25 3.4.14<br/>```<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:33:43)</span> <b>bbockelm:</b></span> ah - but that's not what I see<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:34:17)</span> <b>bbockelm:</b></span> @briedel - what revision of <a href="http://oasis.opensciencegrid.org">oasis.opensciencegrid.org</a> are you picking up?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:34:36)</span> <b>bbockelm:</b></span> <pre><br/># attr -qg revision /cvmfs/oasis.opensciencegrid.org/<br/>9633<br/></pre><br/>
<span style="color: #965d1b"><span style="font-size: small">(12:34:51)</span> <b>briedel:</b></span> 9425<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:34:55)</span> <b>bbockelm:</b></span> because in my revision, I see 3.4.16 as of August 1.<br/>
<span style="color: #9b3b45"><span style="font-size: small">(12:35:02)</span> <b>horstseverini:</b></span> When I look at this file on several of our machines here at OU, I get version 1.9.2, so I think this might be a CVMFS caching issue on this login host. I'm also seeing versions 3.4.15 and 16 here, and current is pointing to 16. Or am I missing the entire point of the problem you are discussing? :slightly_smiling_face:<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:35:33)</span> <b>bbockelm:</b></span> yup, Horst, I think you're right.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:36:24)</span> <b>bbockelm:</b></span> @briedel - what's the Stratum-1 host you are picking up:<br/><pre><br/># attr -qg host /cvmfs/oasis.opensciencegrid.org/<br/><a href="http://cvmfs.fnal.gov/cvmfs/oasis">http://cvmfs.fnal.gov/cvmfs/oasis</a><br/></pre><br/>
<span style="color: #965d1b"><span style="font-size: small">(12:36:52)</span> <b>briedel:</b></span> <a href="http://oasis-replica.opensciencegrid.org/cvmfs/oasis">http://oasis-replica.opensciencegrid.org/cvmfs/oasis</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(12:37:07)</span> <b>bbockelm:</b></span> what's the value of "expires" attr?<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:37:28)</span> <b>briedel:</b></span> 2<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:37:50)</span> <b>bbockelm:</b></span> so, in 2 minutes it's supposed to check the Stratum-1 for updates.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:39:57)</span> <b>bbockelm:</b></span> the oasis-replica stratum-1 data looks correct - claims it is revision 9634<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:40:03)</span> <b>bbockelm:</b></span> (the same as FNAL right now)<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:40:35)</span> <b>bbockelm:</b></span> anything illuminating in <tt>/var/log/messages</tt>?<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:40:55)</span> <b>briedel:</b></span> <pre><br/>Aug  6 12:39:27 login cvmfs2: (<a href="http://oasis.opensciencegrid.org">oasis.opensciencegrid.org</a>) whitelist verification failed (1): failed to download whitelis<br/></pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(12:42:37)</span> <b>bbockelm:</b></span> ah-ha<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:43:07)</span> <b>bbockelm:</b></span> whitelist is present on the physical host<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:48:26)</span> <b>bbockelm:</b></span> @dwd @marian  ^^^ this is a configuration issue in the apache configuration.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:49:01)</span> <b>bbockelm:</b></span> <tt>/oasissrv/cvmfs/oasis.opensciencegrid.org/.cvmfswhitelist</tt> exists but <tt>/oasissrv/cvmfs/oasis/.cvmfswhitelist</tt> doesn't.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:50:22)</span> <b>bbockelm:</b></span> @briedel - hold on, I'm trying to determine best course-of-action here.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:50:49)</span> <b>bbockelm:</b></span> Does <tt>/etc/cvmfs/config.d/oasis.opensciencegrid.org.conf</tt> exist on <tt>login</tt>?<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:51:09)</span> <b>briedel:</b></span> yes<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:51:22)</span> <b>briedel:</b></span> <pre><br/>CVMFS_SERVER_URL=<a href="http://oasis-replica.opensciencegrid.org/cvmfs/oasis">http://oasis-replica.opensciencegrid.org/cvmfs/oasis</a><br/>CVMFS_PUBLIC_KEY=/etc/cvmfs/keys/oasis.opensciencegrid.org.pub<br/>CVMFS_QUOTA_LIMIT=1000<br/></pre><br/>
<span style="color: #9e3997"><span style="font-size: small">(12:51:33)</span> <b>bbockelm:</b></span> That be it.<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:51:37)</span> <b>briedel:</b></span> use the fnal stratum1?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:51:44)</span> <b>bbockelm:</b></span> <tt>CVMFS_SERVER_URL=<a href="http://oasis-replica.opensciencegrid.org/cvmfs/@fqrn@">http://oasis-replica.opensciencegrid.org/cvmfs/@fqrn@</a></tt><br/>
<span style="color: #9e3997"><span style="font-size: small">(12:52:05)</span> <b>bbockelm:</b></span> might want to chat with the local admin (@lincoln?) about reviewing the CVMFS configs.<br/>
<span style="color: #e96699"><span style="font-size: small">(12:52:28)</span> <b>lincoln:</b></span> what did i break now?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:52:37)</span> <b>bbockelm:</b></span> :slightly_smiling_face: the internet?<br/>
<span style="color: #e96699"><span style="font-size: small">(12:52:45)</span> <b>lincoln:</b></span> god, that'd be amazing. can you imagine if i had that power?<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:53:05)</span> <b>briedel:</b></span> the thought alone is giving me a heart attack<br/>
<span style="color: #c386df"><span style="font-size: small">(12:53:12)</span> <b>matyas:</b></span> you could give all of us a vacation?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:53:32)</span> <b>bbockelm:</b></span> long story short, you don't want to have any <tt>/etc/cvmfs/config.d/*.conf</tt> files.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:53:40)</span> <b>bbockelm:</b></span> <tt>*.conf</tt> is reserved for packagers<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:53:46)</span> <b>bbockelm:</b></span> <tt>*.local</tt> is for the local site.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:54:09)</span> <b>bbockelm:</b></span> seems you got an old-school <tt>CVMFS_SERVER_URL</tt> embedded in your configuration<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:54:24)</span> <b>bbockelm:</b></span> which _would_ work in terms of backward compat -- but it exposed another bug<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:55:18)</span> <b>briedel:</b></span> i can just change the <tt>CVMFS_SERVER_URL</tt><br/>
<span style="color: #965d1b"><span style="font-size: small">(12:55:23)</span> <b>briedel:</b></span> or delete the conf<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:55:37)</span> <b>bbockelm:</b></span> well, <tt>CVMFS_QUOTA_LIMIT=1000</tt> might be on purpose<br/>
<span style="color: #e96699"><span style="font-size: small">(12:55:51)</span> <b>lincoln:</b></span> oh yeah those puppet rules are prob crufty<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:56:50)</span> <b>bbockelm:</b></span> If it makes you feel better, since IP addresses are logged, I now know who all has crufty rules<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:56:59)</span> <b>bbockelm:</b></span> :slightly_smiling_face: you're among friends.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:57:03)</span> <b>bbockelm:</b></span> @gattebury.  Ahem.<br/>
<span style="color: #e96699"><span style="font-size: small">(12:57:29)</span> <b>lincoln:</b></span> implementations are ephemeral, APIs are forever.<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:57:37)</span> <b>briedel:</b></span> i wish that was true<br/>
<span style="color: #965d1b"><span style="font-size: small">(12:58:07)</span> <b>briedel:</b></span> let me make a change to the osgconnect puppet rules and see what blows up :smile:<br/>
<span style="color: #e96699"><span style="font-size: small">(12:58:15)</span> <b>lincoln:</b></span> so who has some cvmfs puppet rules for us to steal? i dont want to make new ones<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:58:18)</span> <b>bbockelm:</b></span> for completeness, I walked to put my lunch in the microwave and shook my fist at Garhan along the way.<br/>
<span style="color: #d1707d"><span style="font-size: small">(12:59:15)</span> <b>gattebury:</b></span> confirmed … fist was shaken in my direction<br/>
<span style="color: #53b759"><span style="font-size: small">(12:59:53)</span> <b>marian:</b></span> just came from lunch and reading thread quickly before my next meeting ... is there anything I should do for whitelist in oasis config? what was question about CAs previously, @blin? or unrelated now?<br/>
<blockquote>
<span style="color: #43761b"><span style="font-size: small">(13:00:16)</span> <b>blin:</b></span> yup, it's unrelated now<br/>
</blockquote>
<span style="color: #965d1b"><span style="font-size: small">(13:00:44)</span> <b>briedel:</b></span> if no one is complaining you are not doing your job<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:01:01)</span> <b>bbockelm:</b></span> it's an OASIS bug.  there's a symlink <tt>/srv/cvmfs/oasis -&gt; /srv/cvmfs/oasis.opensciencegrid.org</tt> but the corresponding <tt>/oasissrv/cvmfs/oasis -&gt; /oasissrv/cvmfs/oasis.opensciencegrid.org</tt> does not exist<br/>
<span style="color: #e96699"><span style="font-size: small">(13:01:23)</span> <b>lincoln:</b></span> so do i have something to do to immediately unbreak this for Benedikt?<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:01:27)</span> <b>bbockelm:</b></span> however, only people with crufty configs look at the broken URL.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:01:48)</span> <b>bbockelm:</b></span> and anyone hitting the other CVMFS Stratum-1s shouldn't have a problem.<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:03:08)</span> <b>bbockelm:</b></span> @lincoln - I'd suggest setting <tt>CVMFS_SERVER_URL=<a href="http://oasis-replica.opensciencegrid.org/cvmfs/@fqrn@">http://oasis-replica.opensciencegrid.org/cvmfs/@fqrn@</a></tt> in that particular config file and then later testing removing it completely.<br/>
<span style="color: #965d1b"><span style="font-size: small">(13:03:20)</span> <b>briedel:</b></span> testing that right now<br/>
<span style="color: #e96699"><span style="font-size: small">(13:03:55)</span> <b>lincoln:</b></span> ok cool<br/>
<span style="color: #e96699"><span style="font-size: small">(13:04:00)</span> <b>lincoln:</b></span> im going to go back to shaking my fist at globus for an unrelated topic, then<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:06:12)</span> <b>bbockelm:</b></span> I'll go back to shaking my fist at ROOT.<br/>
<span style="color: #99a949"><span style="font-size: small">(14:14:12)</span> <b>dwd:</b></span> @briedel Please remove <tt>/etc/cvmfs/config.d/oasis.opensciencegrid.org.conf</tt> and only set the CVMFS_QUOTA_LIMIT in <tt>/etc/cvmfs/config.d/oasis.opensciencegrid.org.local</tt> or in /etc/cvmfs/default.local if it applies to all repositories.   The latter is better because if you haven’t given a repository a separate cache, the quota limit is shared based on whichever repository is mounted first.  The other settings are supposed to come from the cvmfs-config-osg rpm or the config repository that it points to.  Please check other config files for CVMFS_SERVER_URL settings as well.  The only .conf files under /etc/cvmfs should come from rpm.<br/>
<span style="color: #965d1b"><span style="font-size: small">(14:14:53)</span> <b>briedel:</b></span> @lincoln do our repos have a separate cache?<br/>
<span style="color: #99a949"><span style="font-size: small">(14:33:40)</span> <b>dwd:</b></span> If you don’t have any CVMFS_CACHE_BASE settings, there’s no separate cache<br/>
<span style="color: #99a949"><span style="font-size: small">(14:34:08)</span> <b>dwd:</b></span> And they would need to point to different directories for different repositories or domains<br/>
<span style="color: #965d1b"><span style="font-size: small">(15:01:15)</span> <b>briedel:</b></span> so i got cvmfs to be at a version 9634 and can now see 3.4.16<br/>
</body>
</html>
