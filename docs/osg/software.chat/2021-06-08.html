<!DOCTYPE html>
<html>
<head>
<title>Tue Jun 8, 2021 : #software (osg)</title>
</head>
<body>
<h3>Tue Jun 8, 2021 : #software (osg)</h3>
<span style="color: #235e5b"><span style="font-size: small">(07:18:23)</span> <b>dweitzel:</b></span> Huh, so no more docker auto build. We just canâ€™t have anything nice. <br/>
<span style="color: #43761b"><span style="font-size: small">(07:55:21)</span> <b>blin:</b></span> BTC miners ruining it for everyone<br/>
<span style="color: #50a0cf"><span style="font-size: small">(10:05:40)</span> <b>dschultz:</b></span> glad I'm using github actions to build my containers<br/>
<span style="color: #e96699"><span style="font-size: small">(10:22:40)</span> <b>lincoln:</b></span> do you run Actions against PRs? :smiling_imp:<br/>
<blockquote>
<span style="color: #50a0cf"><span style="font-size: small">(10:27:54)</span> <b>dschultz:</b></span> right now I do.  but if we start seeing evil PRs, that might change (or we'd put more access restrictions in place)<br/>
</blockquote>
<span style="color: #43761b"><span style="font-size: small">(10:25:04)</span> <b>blin:</b></span> GitHub requires approval for first time contributors to run any actions<br/>
<span style="color: #e96699"><span style="font-size: small">(10:25:30)</span> <b>lincoln:</b></span> that's good, was it always that way? I thought they got hit some time back<br/>
<span style="color: #43761b"><span style="font-size: small">(10:25:55)</span> <b>blin:</b></span> nah, that's new. again crypto miners ruining it for everybody<br/>
<span style="color: #674b1b"><span style="font-size: small">(10:30:53)</span> <b>rynge:</b></span> OSG VO also has a bunch of containers autobuilding - not a deal breaker for us, but we would be happy to piggyback on some solution the software team comes up with<br/>
<span style="color: #674b1b"><span style="font-size: small">(10:32:11)</span> <b>rynge:</b></span> Maybe we should go to harbor at the same time? Just rip of the Docker Hub bandaid in one quick action<br/>
<span style="color: #43761b"><span style="font-size: small">(10:32:30)</span> <b>blin:</b></span> we already have a solution! check out step 6 <a href="https://opensciencegrid.org/technology/software/container-development-guide/#prepare-the-github-repository">https://opensciencegrid.org/technology/software/container-development-guide/#prepare-the-github-repository</a><br/>
<span style="color: #674b1b"><span style="font-size: small">(10:33:39)</span> <b>rynge:</b></span> Nice!<br/>
<span style="color: #43761b"><span style="font-size: small">(10:34:02)</span> <b>blin:</b></span> at some point we may also update it to push to harbor but atm, harbor is just syncing from docker hub anyway<br/>
<span style="color: #674b1b"><span style="font-size: small">(10:34:06)</span> <b>rynge:</b></span> No concern about running out of "minutes" under actions?<br/>
<span style="color: #674b1b"><span style="font-size: small">(10:34:15)</span> <b>rynge:</b></span> (can't remember how that works)<br/>
<span style="color: #43761b"><span style="font-size: small">(10:34:52)</span> <b>blin:</b></span> nope, GHA are free for open source repos and if they change that, we can develop a GHA runner that submits jobs to condor or something<br/>
<span style="color: #674b1b"><span style="font-size: small">(10:35:00)</span> <b>rynge:</b></span> Great<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:13:01)</span> <b>bbockelm:</b></span> FWIW, if we run out of minutes, it might be cheaper to buy minutes than develop ... well, anything.  We have money in the budget.  I'd prefer to only do one vendor (GitHub) to cut administrative overhead though.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:13:40)</span> <b>bbockelm:</b></span> For example, let's say someone asks for a build for their M1... might be cheaper to get a GitHub runner for that than buy a M1.<br/>
<span style="color: #c386df"><span style="font-size: small">(11:17:58)</span> <b>matyas:</b></span> Are there M1 GitHub runners?<br/>
<span style="color: #c386df"><span style="font-size: small">(11:18:31)</span> <b>matyas:</b></span> Last I checked there weren't any ARM runners...<br/>
<span style="color: #50a0cf"><span style="font-size: small">(11:20:54)</span> <b>dschultz:</b></span> not yet.  I imagine you could run a "self-hosted" runner on a cloud M1 somewhere, though you'd be paying for it 24/7<br/>
<span style="color: #50a0cf"><span style="font-size: small">(11:21:51)</span> <b>dschultz:</b></span> personally, I have so far been taking the approach of "if you want to run on an M1, you can support it yourself"<br/>
<span style="color: #c386df"><span style="font-size: small">(11:32:34)</span> <b>matyas:</b></span> There are recipes for building for multiple architectures using qemu but I suspect it will take a while for M1 emulation to be a thing.<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:41:15)</span> <b>rynge:</b></span> We are having some vague questions about ARM on OSG - not enough that we should work hard enabling it, but I think we should not be surprised when some ARM shows up in the pool<br/>
<span style="color: #a72f79"><span style="font-size: small">(13:41:55)</span> <b>andrew.melo:</b></span> I wouldn't be surprised to see some US HPCs in the future based on ARM<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:42:11)</span> <b>rynge:</b></span> XSEDE will have one soon<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:46:11)</span> <b>rynge:</b></span> Hmm, maybe I'm wrong about that<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:47:41)</span> <b>rynge:</b></span> <a href="https://www.stonybrook.edu/commcms/iacs/research/projects/Ookami">https://www.stonybrook.edu/commcms/iacs/research/projects/Ookami</a><br/>
<blockquote>
<span style="color: #43761b"><span style="font-size: small">(13:48:38)</span> <b>blin:</b></span> oh hey, my home town!<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:49:44)</span> <b>rynge:</b></span> You should get access automatically!<br/>
<span style="color: #43761b"><span style="font-size: small">(13:50:06)</span> <b>blin:</b></span> :joy:<br/>
<span style="color: #674b1b"><span style="font-size: small">(13:50:59)</span> <b>rynge:</b></span> <a href="https://www.stonybrook.edu/commcms/ookami/support/faq/getting-a-project-on-ookami.php">https://www.stonybrook.edu/commcms/ookami/support/faq/getting-a-project-on-ookami.php</a><br/>
<span style="color: #674b1b"><span style="font-size: small">(13:51:08)</span> <b>rynge:</b></span> Could probably get access if we wanted<br/>
</blockquote>
</body>
</html>
