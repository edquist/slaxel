<!DOCTYPE html>
<html>
<head>
<title>Thu Aug 3, 2017 : #software (osg)</title>
</head>
<body>
<h3>Thu Aug 3, 2017 : #software (osg)</h3>
<span style="color: #5b89d5"><span style="font-size: small">(09:34:47)</span> <b>sthapa:</b></span> Not really, although some sites donâ€™t provide cvmfs<br/>
<span style="color: #b14cbc"><span style="font-size: small">(10:19:23)</span> <b>tmartin:</b></span> Sounds good, I get why it is there, but in the era of CVMFS if it is not needed then it will improve some tests for us.<br/>
<span style="color: #43761b"><span style="font-size: small">(11:32:58)</span> <b>blin:</b></span> hey @jthiltges, would you be able to help us test the new htcondor-ce payload auditing?<br/>
<span style="color: #e06b56"><span style="font-size: small">(11:33:39)</span> <b>jthiltges:</b></span> @blin Sure. What's needed?<br/>
<span style="color: #43761b"><span style="font-size: small">(11:34:37)</span> <b>blin:</b></span> basically just update the CE to what's available in 3.4-testing (3.0.1-1, which should bring in condor-8.6.5 or if you're running 8.7 you should also enable <tt>upcoming-testing</tt> to get 8.7.2-2)<br/>
<span style="color: #43761b"><span style="font-size: small">(11:34:59)</span> <b>blin:</b></span> then after a few pilots run through with payload jobs, you should see some logs in <tt>/var/log/condor-ce/AuditPayloadLog</tt><br/>
<span style="color: #e06b56"><span style="font-size: small">(11:43:22)</span> <b>jthiltges:</b></span> We're currently running condor-8.6.1-1.osgup.el7.x86_64 and htcondor-ce-2.2.1-1.osg33.el7.noarch.<br/>Testing will only need an update to htcondor-ce-3.0.1-1.osg34.el7?<br/>
<span style="color: #43761b"><span style="font-size: small">(11:43:59)</span> <b>blin:</b></span> an update to both condor and htcondor-ce<br/>
<span style="color: #43761b"><span style="font-size: small">(11:44:08)</span> <b>blin:</b></span> well and a move to OSG 3.4<br/>
<span style="color: #e06b56"><span style="font-size: small">(12:49:06)</span> <b>jthiltges:</b></span> Updating to OSG 3.4 is bigger than I want to take on for a red CE. I updated a CE for a SLURM cluster (tusker-gw1) to OSG 3.4, then updated htcondor-ce out of osg-testing.<br/>That pulled in htcondor-ce-3.0.1-1.osg34.el6 and condor-8.6.5-0.410662.osg34.el6.<br/>
<span style="color: #e06b56"><span style="font-size: small">(12:49:24)</span> <b>jthiltges:</b></span> Things look OK so far, with log entries appearing in AuditPayloadLog<br/>
<span style="color: #e06b56"><span style="font-size: small">(12:49:30)</span> <b>jthiltges:</b></span> <pre>08/03/17 12:47:29 (cid:0) Job start: {'RemoteOwner': '<a href="mailto:ajambor@chtc.wisc.edu">ajambor@chtc.wisc.edu</a>', 'ClientMachine': '<a href="http://submit-5.chtc.wisc.edu">submit-5.chtc.wisc.edu</a>', 'GlobalJobId': '<a href="http://submit-5.chtc.wisc.edu#50679480.0#1501713169">submit-5.chtc.wisc.edu#50679480.0#1501713169</a>', 'Name': 'slot1_2@glidein_37410_844312665@c3119.tusker.hcc.unl.edu', 'SlotID': 1L}</pre><br/>
<span style="color: #43761b"><span style="font-size: small">(15:57:23)</span> <b>blin:</b></span> that looks great<br/>
<span style="color: #43761b"><span style="font-size: small">(15:57:28)</span> <b>blin:</b></span> thanks @jthiltges !<br/>
<span style="color: #43761b"><span style="font-size: small">(16:20:47)</span> <b>blin:</b></span> @jthiltges , @dwd requested that you verify that each "Job Start" has a corresponding "Job Stop" for all completed jobs<br/>
<span style="color: #43761b"><span style="font-size: small">(16:20:55)</span> <b>blin:</b></span> you could just send us your <tt>AuditPayloadLog</tt><br/>
</body>
</html>
