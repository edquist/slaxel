<!DOCTYPE html>
<html>
<head>
<title>Thu Sep 10, 2015 : #software (osg)</title>
</head>
<body>
<h3>Thu Sep 10, 2015 : #software (osg)</h3>
<span style="color: #9e3997"><span style="font-size: small">(11:22:11)</span> <b>bbockelm:</b></span> @lincoln: you around?<br/>
<span style="color: #e96699"><span style="font-size: small">(11:22:17)</span> <b>lincoln:</b></span> in a meeting atm but yeah im here<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:22:40)</span> <b>bbockelm:</b></span> Ah - I was going to bug you ‘bout upgrading to the latest stashcache RPM.  <a href="http://hcc-stash.unl.edu">hcc-stash.unl.edu</a> is sitting lonely in the monitoring.<br/>
<span style="color: #e96699"><span style="font-size: small">(11:22:46)</span> <b>lincoln:</b></span> hm<br/>
<span style="color: #e96699"><span style="font-size: small">(11:22:49)</span> <b>lincoln:</b></span> i thought i was using the latest<br/>
<span style="color: #e96699"><span style="font-size: small">(11:22:49)</span> <b>lincoln:</b></span> :simple_smile:<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:23:05)</span> <b>bbockelm:</b></span> (also sending Marian after you :wink:<br/>
<span style="color: #e96699"><span style="font-size: small">(11:23:09)</span> <b>lincoln:</b></span> i see that now :simple_smile:<br/>
<span style="color: #e96699"><span style="font-size: small">(11:23:12)</span> <b>lincoln:</b></span> ok so<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:23:14)</span> <b>bbockelm:</b></span> I think 0.4 is the latest?<br/>
<span style="color: #e96699"><span style="font-size: small">(11:23:16)</span> <b>lincoln:</b></span> is this the cache or the redirector<br/>
<span style="color: #e96699"><span style="font-size: small">(11:23:22)</span> <b>lincoln:</b></span> er<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:23:26)</span> <b>bbockelm:</b></span> But there was a post-install incorrect config default you had to change.<br/>
<span style="color: #e96699"><span style="font-size: small">(11:23:27)</span> <b>lincoln:</b></span> s/redirector/origin<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:23:27)</span> <b>bbockelm:</b></span> cache.<br/>
<span style="color: #e96699"><span style="font-size: small">(11:23:33)</span> <b>lincoln:</b></span> ok<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:23:46)</span> <b>bbockelm:</b></span> also - did @dweitzel tell you about all the nifty chirp-based stuff he was doing with stashcp?<br/>
<span style="color: #e96699"><span style="font-size: small">(11:24:05)</span> <b>lincoln:</b></span> dont think so but my memory is pretty bad :simple_smile:<br/>
<span style="color: #235e5b"><span style="font-size: small">(11:24:49)</span> <b>dweitzel:</b></span> I can talk to you @lincoln after this meeting.  Also, I need to make a pull request for stashcp.<br/>
<span style="color: #e96699"><span style="font-size: small">(11:24:54)</span> <b>lincoln:</b></span> [root@stashcache ~]# rpm -qa | grep stashcache<br/>stashcache-daemon-0.4-2.osg33.el6.noarch<br/>stashcache-cache-server-0.4-2.osg33.el6.noarch<br/>
<span style="color: #e96699"><span style="font-size: small">(11:24:58)</span> <b>lincoln:</b></span> thats what i have<br/>
<span style="color: #e96699"><span style="font-size: small">(11:25:04)</span> <b>lincoln:</b></span> from osg-testing w/ the 3.3 repo<br/>
<span style="color: #e96699"><span style="font-size: small">(11:26:05)</span> <b>lincoln:</b></span> looks like i forgot a hostcert<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:26:44)</span> <b>bbockelm:</b></span> yup, that’ll do it.<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:27:10)</span> <b>bbockelm:</b></span> Can you file a ticket to Brian Lin to have the daemon refuse to startup if there’s no hostcert?<br/>
<span style="color: #e96699"><span style="font-size: small">(11:27:41)</span> <b>lincoln:</b></span> alright<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:28:00)</span> <b>bbockelm:</b></span> (also, I see a ACTION ITEM for you to hunt down Suchandra to update the lazy-download plugin)<br/>
<span style="color: #e96699"><span style="font-size: small">(11:28:19)</span> <b>lincoln:</b></span> yes<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:28:26)</span> <b>bbockelm:</b></span> :simple_smile: Happy Hunting.<br/>
<span style="color: #e96699"><span style="font-size: small">(11:28:28)</span> <b>lincoln:</b></span> he has a ticket assigned in our jira<br/>
<span style="color: #9e3997"><span style="font-size: small">(11:30:51)</span> <b>bbockelm:</b></span> :thumbsup:<br/>
<span style="color: #53b759"><span style="font-size: small">(11:32:19)</span> <b>marian:</b></span> BrianL should now about this issue with hostcert, but yet another ticket wont' hurt :simple_smile:<br/>
<span style="color: #e96699"><span style="font-size: small">(11:52:09)</span> <b>lincoln:</b></span> whelp my cert request is broken in OIM \o/<br/>
<span style="color: #e96699"><span style="font-size: small">(11:52:18)</span> <b>lincoln:</b></span> but assuming that eventually goes through i should have the cache up in a bit<br/>
<span style="color: #e96699"><span style="font-size: small">(11:56:30)</span> <b>lincoln:</b></span> <b>@channel</b>: would it be useful to have the SOFTWARE- project key in Jira integrated here?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:35:36)</span> <b>bbockelm:</b></span> yeah, I think so.<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:35:48)</span> <b>bbockelm:</b></span> Do you guys pay for a slack account?  Or are you still within your free integration threshold?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:35:56)</span> <b>bbockelm:</b></span> (do they still have an integration limit for free accounts?)<br/>
<span style="color: #235e5b"><span style="font-size: small">(12:37:41)</span> <b>dweitzel:</b></span> @lincoln: would that get noisy?  Like the ticket traffic from freshdesk?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:45:15)</span> <b>bbockelm:</b></span> can’t you mute a notification?<br/>
<span style="color: #9e3997"><span style="font-size: small">(12:47:07)</span> <b>bbockelm:</b></span> @lincoln: still no dice on <a href="http://collector.osg.org">collector.osg.org</a>.  Any other errors you see?<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:01:09)</span> <b>bbockelm:</b></span> @lincoln: gonna be able to make it to the StashCache meeting?<br/>
<span style="color: #e96699"><span style="font-size: small">(13:01:25)</span> <b>lincoln:</b></span> yes<br/>
<span style="color: #e96699"><span style="font-size: small">(13:01:28)</span> <b>lincoln:</b></span> sorry just got back<br/>
<span style="color: #9e3997"><span style="font-size: small">(13:30:13)</span> <b>bbockelm:</b></span> <a href="https://github.com/xrootd/xrootd/tree/master/src/XrdFileCache">https://github.com/xrootd/xrootd/tree/master/src/XrdFileCache</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(13:32:08)</span> <b>bbockelm:</b></span> <a href="https://github.com/xrootd/xrootd/blob/master/src/XrdFileCache/XrdFileCacheFactory.cc#L310">https://github.com/xrootd/xrootd/blob/master/src/XrdFileCache/XrdFileCacheFactory.cc#L310</a> &lt;- probably this is the line you’re looking for.<br/>
<span style="color: #e96699"><span style="font-size: small">(13:33:54)</span> <b>lincoln:</b></span> alright cool<br/>
<span style="color: #e96699"><span style="font-size: small">(13:33:58)</span> <b>lincoln:</b></span> thanks<br/>
<span style="color: #e96699"><span style="font-size: small">(13:43:51)</span> <b>lincoln:</b></span> wrt slack integrations, i’ll check with @dgc as to how many we’re using. i don’t think we’re yet at the limit. we can try it out though. could def get noisy<br/><br/>we don’t (yet?) pay for slack, but i could see it being useful if we want to keep chat history etc<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:00:19)</span> <b>dgc:</b></span> Right, we’re on the free account with a 5-integration limit. What’s the question, just getting JIRA to echo here? Usually multiple instances of a single integration only count once, so adding SOFTWARE wouldn’t count again against us.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:02:16)</span> <b>dgc:</b></span> added an integration to this channel: <a href="https://opensciencegrid.slack.com/services/B0AF3CQUC">incoming-webhook</a><br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:03:22)</span> <b>dgc:</b></span> Oh, my bad — I thought we were using the JIRA i9n already. We’re not.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:08:40)</span> <b>bbockelm:</b></span> @lincoln: I don’t know how much instrumenting of CEs you guys do at MWT2, but here’s a sneak-peak of what @dweitzel and I are working on for an upcoming HTCondor-CE release: <a href="http://hcc-briantest.unl.edu/">http://hcc-briantest.unl.edu/</a><br/>
<span style="color: #9e3997"><span style="font-size: small">(14:10:30)</span> <b>bbockelm:</b></span> (that’s the multi-CE mode, but the general idea is to run it as one of the condor daemons in the CE)<br/>
<span style="color: #e96699"><span style="font-size: small">(14:35:28)</span> <b>lincoln:</b></span> neat<br/>
<span style="color: #e96699"><span style="font-size: small">(14:35:38)</span> <b>lincoln:</b></span> boo RRD :wink:<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:38:04)</span> <b>dgc:</b></span> added an integration to this channel: <a href="https://opensciencegrid.slack.com/services/B0AF1JTDF">jira</a><br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:38:27)</span> <b>dgc:</b></span> weird, I don’t know how we’re getting so many i9ns<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:38:37)</span> <b>dgc:</b></span> we have 7<br/>
<span style="color: #e96699"><span style="font-size: small">(14:41:13)</span> <b>lincoln:</b></span> @bbockelm: are your graphs using the condor_gangliad or something under the hood?<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:41:51)</span> <b>dgc:</b></span> Who has admin rights on jira or wants to give me admin rights?<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:41:52)</span> <b>bbockelm:</b></span> anything that we can pull from the collector, condor_gangliad; anything that is an aggregate of jobs, it’s a SCHEDD_CRON.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:41:57)</span> <b>bbockelm:</b></span> not I.<br/>
<span style="color: #e96699"><span style="font-size: small">(14:42:00)</span> <b>lincoln:</b></span> @dgc: i think rob has admin rights doesnt he?<br/>
<span style="color: #e96699"><span style="font-size: small">(14:42:09)</span> <b>lincoln:</b></span> didnt we mess with the OSG Jira to add something<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:42:35)</span> <b>dgc:</b></span> Yeah, but trying not to copilot Rob’s mouse hand<br/>
<span style="color: #e96699"><span style="font-size: small">(14:42:40)</span> <b>lincoln:</b></span> :simple_smile:<br/>
<span style="color: #e96699"><span style="font-size: small">(14:42:58)</span> <b>lincoln:</b></span> @bbockelm: id like to take a look at the schedd cron script if you have it avail somewhere<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:43:29)</span> <b>bbockelm:</b></span> nice ’n’ boring: <a href="https://github.com/bbockelm/htcondor-ce/blob/web_monitor/src/condor_ce_jobmetrics">https://github.com/bbockelm/htcondor-ce/blob/web_monitor/src/condor_ce_jobmetrics</a><br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:44:00)</span> <b>dgc:</b></span> How about this: here’s the integration URL: <a href="https://hooks.slack.com/services/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">https://hooks.slack.com/services/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</a><br/>Someone needs to define a filter for JIRA that selects what you want to be echoed to Slack, then ask an admin to add this URL as a webhook target for that filter.<br/>
<span style="color: #9f69e7"><span style="font-size: small">(14:44:27)</span> <b>dgc:</b></span> I would maybe do that except I don’t know what the filter would look like either<br/>
<span style="color: #e96699"><span style="font-size: small">(14:44:50)</span> <b>lincoln:</b></span> yeah that all depends. jira can be extremely noisy<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:45:14)</span> <b>bbockelm:</b></span> The weird stuff in it: (a) I do some gymnastics to avoid forking in multiprocessing after htcondor is initialized.  I don’t think that was necessary, but I’m too lazy to undo it.  (b) string-ify the classad before returning from multiprocessing.  This is because 8.5.0 (I think - maybe 8.3.8?), classad objects are not pickle-able.<br/>
<span style="color: #e96699"><span style="font-size: small">(14:45:37)</span> <b>lincoln:</b></span> ah<br/>
<span style="color: #e96699"><span style="font-size: small">(14:46:39)</span> <b>lincoln:</b></span> cool, thanks<br/>
</body>
</html>
