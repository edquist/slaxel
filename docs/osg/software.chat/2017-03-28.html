<!DOCTYPE html>
<html>
<head>
<title>Tue Mar 28, 2017 : #software (osg)</title>
</head>
<body>
<h3>Tue Mar 28, 2017 : #software (osg)</h3>
<span style="color: #bd9336"><span style="font-size: small">(14:42:06)</span> <b>mkandes:</b></span> HTCondor-CE experts ...<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:42:35)</span> <b>mkandes:</b></span> Are the memory defaults per core or per job in the Job Router entries ....<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:42:36)</span> <b>mkandes:</b></span> ?<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:42:39)</span> <b>mkandes:</b></span> JOB_ROUTER_ENTRIES = \<br/>[ \<br/># Route to queue called moonshot \<br/>GridResource = "batch pbs"; \<br/>TargetUniverse = 9; \<br/>name = "Local_PBS_moonshot"; \<br/># Max Mem 4GB \<br/>set_default_maxMemory=4096; \<br/># Max WallTime 48 hours \<br/>set_default_maxWallTime=172800; \<br/>set_default_queue=moonshot; \<br/># Core count = 8 \<br/>set_default_xcount=8;\<br/>Requirements = (TARGET.queue =?= "moonshot"); \<br/>] \<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:44:00)</span> <b>bbockelm:</b></span> per job.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:44:28)</span> <b>bbockelm:</b></span> but how PBS interprets this is a mess across multiple PBS versions.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:44:43)</span> <b>bbockelm:</b></span> so you definitely want the site admin to check out the resulting jobs.<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:44:55)</span> <b>mkandes:</b></span> Okay, I'll make sure they double check what is getting passed through.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:45:13)</span> <b>bbockelm:</b></span> In the above example, that should result in 4GB / 8-cores --- or 500MB / core.<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:45:50)</span> <b>mkandes:</b></span> Yes, which I don't think the site admin was assuming. I believe he may have assumed per core.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:46:16)</span> <b>bbockelm:</b></span> yeah - that's kinda how MPI jobs are specified.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:46:36)</span> <b>bbockelm:</b></span> so sometimes you see that from someone who is more of a HPC admin.  You see the opposite for HTC folks coming in.<br/>
<span style="color: #9e3997"><span style="font-size: small">(14:46:43)</span> <b>bbockelm:</b></span> Just an ecosystem thing, I guess.<br/>
<span style="color: #bd9336"><span style="font-size: small">(14:46:59)</span> <b>mkandes:</b></span> Gotchya. Thanks for the heads up.<br/>
</body>
</html>
