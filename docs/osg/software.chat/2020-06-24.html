<!DOCTYPE html>
<html>
<head>
<title>Wed Jun 24, 2020 : #software (osg)</title>
</head>
<body>
<h3>Wed Jun 24, 2020 : #software (osg)</h3>
<span style="color: #de5f24"><span style="font-size: small">(17:49:14)</span> <b>justas.balcas:</b></span> hi, is there a way to tell xrootd to reload lcmaps config (banned users, mapped users)? e.g. I just had to ban 1 user and this seems requires to restart xrootd service.<br/>
<span style="color: #9e3997"><span style="font-size: small">(18:05:02)</span> <b>bbockelm:</b></span> @justas.balcas - there’s a cache in front of LCMAPS.  When LCMAPS is invoked, it reloads every time.<br/>
<span style="color: #9e3997"><span style="font-size: small">(18:05:13)</span> <b>bbockelm:</b></span> Don’t recall the cache lifetime though!<br/>
<span style="color: #c386df"><span style="font-size: small">(18:08:11)</span> <b>matyas:</b></span> 12 hours I think: <a href="https://xrootd.slac.stanford.edu/doc/dev49/sec_config.htm">https://xrootd.slac.stanford.edu/doc/dev49/sec_config.htm</a><br/>
<span style="color: #c386df"><span style="font-size: small">(18:08:37)</span> <b>matyas:</b></span> (43200 seconds)<br/>
<blockquote>
<span style="color: #43761b"><span style="font-size: small">(2020-06-25 08:00:29)</span> <b>blin:</b></span> hey this is worth documenting. could you make a ticket?<br/>
<span style="color: #c386df"><span style="font-size: small">(2020-06-25 08:31:46)</span> <b>matyas:</b></span> Sure. Which page(s) would be the best for this?<br/>
<span style="color: #43761b"><span style="font-size: small">(2020-06-25 08:32:31)</span> <b>blin:</b></span> probably here: <a href="https://opensciencegrid.org/docs/security/lcmaps-voms-authentication/#xrootd-hosts">https://opensciencegrid.org/docs/security/lcmaps-voms-authentication/#xrootd-hosts</a><br/>
<span style="color: #43761b"><span style="font-size: small">(2020-06-25 08:32:55)</span> <b>blin:</b></span> and in the banning users/vo sections, replace gridftp with xrootd services in the warning<br/>
<span style="color: #c386df"><span style="font-size: small">(2020-06-25 08:40:33)</span> <b>matyas:</b></span> oh hey in the stash-origin config, we decrease it to 1 hour: <a href="https://github.com/opensciencegrid/xcache/blob/master/configs/stash-origin/config.d/50-stash-origin-authz.cfg#L31">https://github.com/opensciencegrid/xcache/blob/master/configs/stash-origin/config.d/50-stash-origin-authz.cfg#L31</a><br/>
<span style="color: #43761b"><span style="font-size: small">(2020-06-25 08:40:57)</span> <b>blin:</b></span> hrm, i wonder why we only do it there<br/>
<span style="color: #c386df"><span style="font-size: small">(2020-06-25 08:49:56)</span> <b>matyas:</b></span> We also do it for stash-cache, but each individual xcache config contains its own sec.protocol setting<br/>
</blockquote>
<span style="color: #de5f24"><span style="font-size: small">(18:09:04)</span> <b>justas.balcas:</b></span> cool, I need to change that too then :wink: Thanks!<br/>
</body>
</html>
